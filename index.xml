<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>ä¹±ä¸–æµ®ç”Ÿ</title><link>https://atbug.com/</link><description>Recent content on ä¹±ä¸–æµ®ç”Ÿ</description><generator>Hugo -- gohugo.io</generator><language>en</language><lastBuildDate>Sun, 13 Feb 2022 05:03:48 +0800</lastBuildDate><atom:link href="https://atbug.com/index.xml" rel="self" type="application/rss+xml"/><item><title>ä½¿ç”¨ Cilium å¢å¼º Kubernetes ç½‘ç»œå®‰å…¨</title><link>https://atbug.com/enhance-kubernetes-network-security-with-cilium/</link><pubDate>Sun, 13 Feb 2022 05:03:48 +0800</pubDate><guid>https://atbug.com/enhance-kubernetes-network-security-with-cilium/</guid><description>
TL;DR åœ¨æœ¬ç¯‡ï¼Œæˆ‘ä»¬åˆ†åˆ«ä½¿ç”¨äº† Kubernetes åŸç”Ÿçš„ç½‘ç»œç­–ç•¥å’Œ Cilium çš„ç½‘ç»œç­–ç•¥å®ç°äº† Pod ç½‘ç»œå±‚é¢çš„éš”ç¦»ã€‚ä¸åŒçš„æ˜¯ï¼Œå‰è€…åªæä¾›äº†åŸºäº L3/4 çš„ç½‘ç»œç­–ç•¥ï¼›åè€…æ”¯æŒ L3/4ã€L7 çš„ç½‘ç»œç­–ç•¥ã€‚ é€šè¿‡ç½‘ç»œç­–ç•¥æ¥æå‡ç½‘ç»œå®‰å…¨ï¼Œå¯ä»¥æå¤§é™ä½äº†å®ç°å’Œç»´æŠ¤çš„æˆæœ¬ï¼ŒåŒæ—¶å¯¹ç³»ç»Ÿå‡ ä¹æ²¡æœ‰å½±å“ã€‚ å°¤å…¶æ˜¯åŸºäº eBPF æŠ€æœ¯çš„ Ciliumï¼Œè§£å†³äº†å†…æ ¸æ‰©å±•æ€§ä¸è¶³çš„é—®é¢˜ï¼Œä»å†…æ ¸å±‚é¢ä¸ºå·¥ä½œè´Ÿè½½æä¾›å®‰å…¨å¯é ã€å¯è§‚æµ‹çš„ç½‘ç»œè¿æ¥ã€‚ ç›®å½• TL;DR èƒŒæ™¯ ç¤ºä¾‹åº”ç”¨ Kubernetes ç½‘ç»œç­–ç•¥ æµ‹è¯• æ€è€ƒ Cilium ç½‘ç»œç­–ç•¥ Cilium ç®€ä»‹ æµ‹è¯• èƒŒæ™¯ ä¸ºä»€ä¹ˆè¯´ Kubernetes ç½‘ç»œå­˜åœ¨å®‰å…¨éšæ‚£ï¼Ÿé›†ç¾¤ä¸­çš„ Pod é»˜è®¤æ˜¯æœªéš”ç¦»çš„ï¼Œä¹Ÿå°±æ˜¯ Pod ä¹‹é—´çš„ç½‘ç»œæ˜¯äº’é€šçš„ï¼Œå¯ä»¥äº’ç›¸é€šä¿¡çš„ã€‚ è¿™é‡Œå°±ä¼šæœ‰é—®é¢˜ï¼Œæ¯”å¦‚ç”±äºæ•°æ®æ•æ„ŸæœåŠ¡ B åªå…è®¸ç‰¹å®šçš„æœåŠ¡ A æ‰èƒ½è®¿é—®ï¼Œè€ŒæœåŠ¡ C æ— æ³•è®¿é—® Bã€‚è¦ç¦æ­¢æœ</description></item><item><title>æ¢ç§˜ k8eï¼šæç®€ Kubernetes å‘è¡Œç‰ˆ</title><link>https://atbug.com/explore-simple-kubernetes-distribution/</link><pubDate>Mon, 07 Feb 2022 01:00:29 +0800</pubDate><guid>https://atbug.com/explore-simple-kubernetes-distribution/</guid><description>
TL;DR æœ¬æ–‡ä»‹ç»å¹¶å®‰è£…ä½“éªŒäº†æç®€ Kubernetes å‘è¡Œç‰ˆï¼Œä¹Ÿé¡ºä¾¿åˆ†æå­¦ä¹ ä¸‹ç¼–è¯‘çš„æµç¨‹ã€‚ èƒŒæ™¯ k8e æœ¬æ„ä¸º kuber easyï¼Œæ˜¯ä¸€ä¸ª Kubernetes çš„æç®€å‘è¡Œç‰ˆï¼Œæ„å›¾è®©äº‘åŸç”Ÿè½åœ°éƒ¨ç½² Kubernetes æ›´è½»æ¾ã€‚k8e æ˜¯åŸºäºå¦ä¸€ä¸ªå‘è¡Œç‰ˆ k3s ï¼Œç»è¿‡è£å‰ªï¼ˆå»æ‰äº† Edge/IoT ç›¸å…³åŠŸèƒ½ã€traefixç­‰ï¼‰ã€æ‰©å±•ï¼ˆåŠ å…¥ ingressã€sidecar å®ç°ã€ciliumç­‰ï¼‰è€Œæ¥ã€‚ k8e å…·æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š å•äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œé›†æˆäº† k8s çš„å„ç§ç»„ä»¶ã€containerdã€runcã€kubectlã€nerdctl ç­‰ ä½¿ç”¨ cilium ä½œä¸º cni çš„å®ç°ï¼Œæ–¹ä¾¿ eBPF çš„å¿«é€Ÿè½åœ° æ”¯æŒåŸºäº Pipy çš„ ingressã€sidecar proxyï¼Œå®ç°åº”ç”¨æµé‡ä¸€ç«™å¼ç®¡ç† åªç»´æŠ¤ä¸€ä¸ª k8s ç‰ˆæœ¬ï¼Œç›®å‰æ˜¯ 1.21 æŒ‰ç…§ç§æœ‰äº‘çš„ç»éªŒå¢åŠ ã€ä¼˜åŒ–ä»£ç  å¾—ç›Šäºè¿™äº›ç‰¹æ€§ï¼Œk8e éå¸¸é€‚åˆCI</description></item><item><title>ä½¿ç”¨ sdkman åœ¨ M1 Mac ä¸Š å®‰è£… graalvm jdk</title><link>https://atbug.com/install-graalvm-on-m1-mac-with-sdkman/</link><pubDate>Thu, 27 Jan 2022 11:07:34 +0800</pubDate><guid>https://atbug.com/install-graalvm-on-m1-mac-with-sdkman/</guid><description>
&lt;p>SDKMAN æ˜¯ä¸€æ¬¾ç®¡ç†å¤šç‰ˆæœ¬ SDK çš„å·¥å…·ï¼Œå¯ä»¥å®ç°åœ¨å¤šä¸ªç‰ˆæœ¬é—´çš„å¿«é€Ÿåˆ‡æ¢ã€‚å®‰è£…å’Œä½¿ç”¨éå¸¸ç®€å•ï¼š&lt;/p></description></item><item><title>è¿½è¸ª Kubernetes ä¸­çš„ç½‘ç»œæµé‡</title><link>https://atbug.com/tracing-path-of-kubernetes-network-packets/</link><pubDate>Sat, 22 Jan 2022 10:15:31 +0800</pubDate><guid>https://atbug.com/tracing-path-of-kubernetes-network-packets/</guid><description>
è¯‘è€…æ³¨ï¼š è¿™ç¯‡æ–‡ç« å¾ˆå…¨é¢çš„ç½—åˆ—å‡ºäº† Kubernetes ä¸­æ¶‰åŠçš„ç½‘ç»œçŸ¥è¯†ï¼Œä» Linux å†…æ ¸çš„ç½‘ç»œå†…å®¹ï¼Œåˆ°å®¹å™¨ã€Kubernetesï¼Œä¸€ä¸€è¿›è¡Œäº†è¯¦ç»†çš„è¯´æ˜ã€‚ â€‹æ–‡ç« ç¯‡å¹…æœ‰ç‚¹é•¿ï¼Œä¸å¾—ä¸è¯´ï¼Œç½‘ç»œæ˜¯å¾ˆå¤æ‚å¾ˆéº»çƒ¦çš„ä¸€å±‚ï¼Œä½†æ°æ°è¿™å±‚å¤šå¹´æ¥å˜åŒ–ä¸å¤§ã€‚å¸Œæœ›ç¿»è¯‘çš„å†…å®¹å¯¹å¤§å®¶èƒ½æœ‰æ‰€å¸®åŠ©ï¼Œæœ‰è¯¯çš„åœ°æ–¹ï¼Œä¹Ÿæ¬¢è¿å¤§å®¶æŒ‡æ­£ã€‚ æœ¬æ–‡ç¿»è¯‘è·å¾— Learnk8s çš„æˆæƒï¼ŒåŸæ–‡ Tracing the path of network traffic in Kubernetes ä½œè€… Kristijan Mitevskiã€‚ Image not found a.warning-link { color: inherit !important; font-weight: inherit !important; text-decoration: underline !important; border-bottom: none !important; } ç½‘ç«™é“¾æ¥: https://atbug.oss-cn-hangzhou.aliyuncs.com/2022/01/22/16427680911539.jpg é“¾æ¥åˆ°æ–‡ä»¶: /static/https://atbug.oss-cn-hangzhou.aliyuncs.com/2022/01/22/16427680911539.jpg ä½¿ç”¨ Page Bundles: false TL;DRï¼š æœ¬æ–‡å°†ä»£ç†äº†è§£ Kubernetes é›†ç¾¤å†…å¤–çš„æ•°æ®æµè½¬ã€‚ä»æœ€åˆçš„ Web è¯·æ±‚å¼€å§‹ï¼Œä¸€ç›´åˆ°æ‰˜ç®¡åº”ç”¨ç¨‹åºçš„å®¹å™¨ã€‚ ç›®å½• ç›®å½• Kubernetes ç½‘ç»œè¦æ±‚ Linux ç½‘ç»œå‘½åç©ºé—´å¦‚æœåœ¨ pod ä¸­å·¥ä½œ Pause å®¹å™¨åˆ›å»º Pod ä¸­çš„ç½‘ç»œå‘½åç©ºé—´ ä¸º Pod åˆ†é…äº† IP åœ°å€ æ£€æŸ¥é›†ç¾¤ä¸­ pod åˆ°</description></item><item><title>Kubernetes HPA åŸºäº Prometheus è‡ªå®šä¹‰æŒ‡æ ‡çš„å¯æ§å¼¹æ€§ä¼¸ç¼©</title><link>https://atbug.com/kubernetes-pod-autoscale-on-prometheus-metrics/</link><pubDate>Tue, 18 Jan 2022 12:03:59 +0800</pubDate><guid>https://atbug.com/kubernetes-pod-autoscale-on-prometheus-metrics/</guid><description>
åœ¨ã€ŠKubernetes çš„è‡ªåŠ¨ä¼¸ç¼©ä½ ç”¨å¯¹äº†å—ï¼Ÿã€‹ ä¸€æ–‡ä¸­è¯¦ç»†è¯´æ˜äº†å¦‚ä½•ä½¿ç”¨ Kubernetes çš„è‡ªåŠ¨ä¼¸ç¼©ã€‚åœ¨ Kubernetes ä¸­å¼¹æ€§ä¼¸ç¼©ä¸»è¦æœ‰ä¸‰ç§ï¼šHPAã€VPAã€CAã€‚æœ¬æ–‡ä¸å†è¯¦ç»†è¯´æ˜ï¼Œæœ‰å…´è¶£çš„å¯ä»¥çœ‹é‚£ç¯‡æ–‡ç« ã€‚è¿™é‡Œä¸»è¦æ¥è¯´ä¸‹ Pod æ°´å¹³ç¼©æ”¾ HPAã€‚ éšç€ Kubernetes v1.23 çš„å‘å¸ƒï¼ŒHPA çš„ API æ¥åˆ°äº†ç¨³å®šç‰ˆ autoscaling/v2ï¼š åŸºäºè‡ªå®šä¹‰æŒ‡æ ‡çš„ä¼¸ç¼© åŸºäºå¤šé¡¹æŒ‡æ ‡çš„ä¼¸ç¼© å¯é…ç½®çš„ä¼¸ç¼©è¡Œä¸º ä»æœ€åˆçš„ v1 ç‰ˆæœ¬ HPA åªæ”¯æŒ CPUã€å†…å­˜åˆ©ç”¨ç‡çš„ä¼¸ç¼©ï¼Œåˆ°åæ¥çš„è‡ªå®šä¹‰æŒ‡æ ‡ã€èšåˆå±‚ API çš„æ”¯æŒï¼Œåˆ°äº† v1.18 ç‰ˆæœ¬åˆåŠ å…¥äº†é…ç½®ä¼¸ç¼©è¡Œä¸ºçš„æ”¯æŒï¼ŒHPA ä¹Ÿè¶Šæ¥è¶Šå¥½ç”¨ã€å¯é ã€‚ ä¾é  CPU æˆ–è€…å†…å­˜æŒ‡æ ‡çš„æ‰©å®¹å¹¶éä½¿ç”¨æ‰€æœ‰ç³»ç»Ÿï¼Œçœ‹èµ·æ¥ä¹Ÿæ²¡é‚£ä¹ˆå¯é ã€‚å¯¹å¤§éƒ¨åˆ†çš„ web åç«¯ç³»ç»Ÿæ¥è¯´ï¼ŒåŸºäº RPSï¼ˆæ¯ç§’è¯·æ±‚æ•°ï¼‰çš„å¼¹æ€§ä¼¸ç¼©</description></item><item><title>eBPF å’Œ Wasmï¼šæ¢ç´¢æœåŠ¡ç½‘æ ¼æ•°æ®å¹³é¢çš„æœªæ¥</title><link>https://atbug.com/ebpf-wasm-service-mesh/</link><pubDate>Tue, 11 Jan 2022 10:40:56 +0800</pubDate><guid>https://atbug.com/ebpf-wasm-service-mesh/</guid><description>
æœ¬æ–‡ç¿»è¯‘è‡ª Vivian Hu çš„ ã€ŠeBPF and Wasm: Exploring the Future of the Service Mesh Data Planeã€‹ã€‚ åœ¨ 2021 å¹´ 12 æœˆ 2 æ—¥ï¼ŒCilium é¡¹ç›®å®£å¸ƒäº† Cilium Service Mesh é¡¹ç›®çš„æµ‹è¯•ç‰ˆã€‚åœ¨ 2020 å¹´ 8 æœˆ Google Cloud å®£å¸ƒåŸºäº eBPF çš„ Google Kubernetes æœåŠ¡ï¼ˆGKSï¼‰çš„æ•°æ®å¹³é¢ V2 çš„ä¸€å¹´åï¼ŒCilium Service Mesh å¸¦æ¥äº† â€œæ— è¾¹è½¦æœåŠ¡ç½‘æ ¼â€ï¼ˆsidecarless service meshï¼‰çš„æƒ³æ³•ã€‚å®ƒæ‰©å±•äº† Cilium eBPF äº§å“æ¥å¤„ç†æœåŠ¡ç½‘æ ¼ä¸­çš„å¤§éƒ¨åˆ†è¾¹è½¦ä»£ç†åŠŸèƒ½ï¼ŒåŒ…æ‹¬ 7 å±‚è·¯ç”±å’Œè´Ÿè½½å‡è¡¡ã€TLS ç»ˆæ­¢ã€è®¿é—®ç­–ç•¥ã€å¥åº·æ£€æŸ¥ã€æ—¥å¿—å’Œè·Ÿè¸ªï¼Œä»¥åŠå†…ç½®çš„ Kubernetes Ingressã€‚ Cilium çš„åˆ›å§‹äºº Isovalent åœ¨ä¸€ç¯‡åä¸º â€œHow eBPF will solve Service Mesh - Goodbye Sidecarsâ€ çš„æ–‡ç« ä¸­è§£é‡Šäº† eBPF å¦‚ä½•æ›¿ä»£è¾¹è½¦ä»£ç†ã€‚ å®ƒå°†æˆ‘ä»¬ä»è¾¹è½¦æ¨¡å‹ä¸­è§£æ”¾å¤„ç†ï¼Œå¹¶å…è®¸æˆ‘ä»¬å°†ç°æœ‰çš„ä»£ç†æŠ€æœ¯é›†æˆåˆ°ç°æœ‰çš„å†…æ ¸å‘½åç©ºé—´æ¦‚å¿µä¸­</description></item><item><title>å¿«é€Ÿæ­å»ºå®éªŒç¯å¢ƒï¼šä½¿ç”¨ Terraform éƒ¨ç½² Proxmox è™šæ‹Ÿæœº</title><link>https://atbug.com/deploy-vm-on-proxmox-with-terraform/</link><pubDate>Mon, 03 Jan 2022 12:07:35 +0800</pubDate><guid>https://atbug.com/deploy-vm-on-proxmox-with-terraform/</guid><description>
è‡ªä»ç”¨ä¸Š m1 çš„ç”µè„‘ï¼Œæœ¬åœ°å¼€å‘ç¯å¢ƒå¶å°”ä¼šé‡åˆ°å…¼å®¹æ€§çš„é—®é¢˜ã€‚æ¯”å¦‚ä¹‹å‰å°è¯•ç”¨ Colima åœ¨è™šæ‹Ÿæœºä¸­è¿è¡Œå®¹å™¨è¿è¡Œæ—¶å’Œ Kubernetesï¼Œå…¶å®é™…ä½¿ç”¨çš„è¿˜æ˜¯ aarch64 è™šæ‹Ÿæœºï¼Œå®é™…ä½¿ç”¨è¿˜æ˜¯ä¼šæœ‰äº›å·®å¼‚ã€‚ æ‰‹ä¸Šæœ‰å°ä¹‹å‰ç”¨çš„é»‘è‹¹æœå°ä¸»æœºï¼Œåƒç°å‡ ä¸ªæœˆäº†ï¼Œå®å±æµªè´¹ã€‚æ­£å¥½å…ƒæ—¦å‡æœŸï¼Œæœ‰æ—¶é—´æŠ˜è…¾ä¸€ä¸‹ã€‚ CPU: Intel 8700 6C12T MEM: 64G DDR4 DISK: 1T SSD æŠ˜è…¾çš„ç›®çš„ï¼š å°†å¹³å°è™šæ‹ŸåŒ– æä¾›å¤šå¥—å®éªŒç¯å¢ƒ å¿«é€Ÿåˆ›å»ºé”€æ¯å®éªŒç¯å¢ƒ ä½“éªŒåŸºç¡€è®¾æ–½å³ä»£ç  IaaS ä¸»è¦ç”¨åˆ°çš„å·¥å…·ï¼š è™šæ‹ŸåŒ–å·¥å…· Proxmox VE Terraformï¼šå¼€æºçš„åŸºç¡€è®¾æ–½å³ä»£ç å·¥å…· terraform-provider-proxmoxï¼šTerraform Proxmox Providerï¼Œé€šè¿‡ Proxmox VE çš„ REST API åœ¨åˆ›å»ºè™šæ‹Ÿæœºã€‚ å®‰è£… Proxmox è™šæ‹ŸåŒ–å·¥å…· ä»å®˜ç½‘ ä¸‹è½½ ISO é•œåƒï¼Œå†™å…¥åˆ° U ç›˜ä¸­ã€‚mac</description></item><item><title>å†è§ï¼Œ2021</title><link>https://atbug.com/farewell-2021/</link><pubDate>Thu, 30 Dec 2021 23:48:32 +0800</pubDate><guid>https://atbug.com/farewell-2021/</guid><description>
æ²¡é”™ï¼Œè¿™æ˜¯ä¸€ç¯‡ 2021 å¹´çš„ç›˜ç‚¹ã€‚ 2021 å¹´é©¬ä¸Šç»“æŸï¼Œç¿»çœ‹å¹•å¸ƒï¼Œçœ‹åˆ°äº†å¹´åˆç»™è‡ªå·±å®šä¸‹çš„ç›®æ ‡ã€‚è®°æ€§ä¸å¥½ï¼Œå¥½åƒæŠŠè¿™ä¸ªäº‹æƒ…ç»™å¿˜è®°äº†ã€‚ å·¥ä½œ å·¥ä½œè¿™ä¹ˆå¤šå¹´ï¼Œå·²ç„¶è·¨è¿‡çš„ 35 å²è¿™ä¸ªåã€‚æ²¡æœ‰æƒ³è±¡ä¸­çš„å›°éš¾ï¼Œå”¯æœ‰ä¸€è·¯çš„åšæŒã€‚ èŒä¸šç”Ÿæ¶¯ è‡ªå·±ä¸€ç›´åšæŒèµ°æŠ€æœ¯è·¯çº¿ï¼Œä¸æ„¿èµ°ä¸Šç®¡ç†è¿™æ¡è·¯ã€‚å°±åƒæœ‰äº›äº‹æƒ…ï¼Œä¸æ˜¯ä¸ä¼šä¹Ÿä¸æ˜¯ä¸èƒ½ï¼Œè€Œæ˜¯ä¸æ„¿ã€‚å¯èƒ½æ˜¯è‡ªå·±æ€§æ ¼ä½¿ç„¶ï¼Œä¹Ÿå”¯æœ‰æŠ€æœ¯ä¸€æ¡è·¯å¯èµ°ï¼Œæ‰€ä»¥åªæœ‰åšæŒï¼Œå°¤å…¶æ˜¯è‡ªå·±ä¹Ÿå–œæ¬¢æææŠ€æœ¯ã€‚ è¿‡å»çš„è‡ªå·±åŸ‹å¤´å†™ä»£ç ã€å­¦ä¹ ï¼Œé²œæœ‰ä¸å¤–ç•Œçš„æ²Ÿé€šã€‚æ­£å¥½å€Ÿç€å»å¹´å·¥ä½œçš„äº‹æƒ…èµ°å‡ºå»ï¼Œå‚ä¸ç¤¾åŒºã€‚è§è¯†åˆ°äº†æŠ€æœ¯äººçš„ç®€å•ç›´æ¥ï¼Œä¹Ÿç»“äº¤åˆ°äº†å¿—åŒé“åˆçš„æœ‹å‹ã€‚ æ­£èŒ å¹´åˆå¤ªå¤ªè·Ÿæˆ‘è¯´ï¼Œæœ¬å‘½å¹´å°‘æŠ˜è…¾ï¼Œå·¥ä½œç¨³å®šç‚¹å°±è¡Œï¼Œä¸æ±‚å…¶ä»–ã€‚ä½†è¿˜æ˜¯åœ¨å¹´ä¸­çš„æ—¶å€™æ¢äº†å·¥ä½œï¼Œæ„Ÿè°¢ä¸Šå®¶å…¬</description></item><item><title>Colimaï¼šMacOS ä¸Šçš„æç®€å®¹å™¨è¿è¡Œæ—¶å’Œ Kubernetesï¼ˆæ”¯æŒ m1ï¼‰</title><link>https://atbug.com/containers-runtime-on-macos-with-colima/</link><pubDate>Sun, 26 Dec 2021 12:31:16 +0800</pubDate><guid>https://atbug.com/containers-runtime-on-macos-with-colima/</guid><description>
Colima æ˜¯ä¸€ä¸ªä»¥æœ€å°åŒ–è®¾ç½®æ¥åœ¨MacOSä¸Šè¿è¡Œå®¹å™¨è¿è¡Œæ—¶å’Œ Kubernetes çš„å·¥å…·ã€‚æ”¯æŒ m1ï¼ˆæ–‡æœ«è®¨è®ºï¼‰ï¼ŒåŒæ ·ä¹Ÿæ”¯æŒ Linuxã€‚ Colima çš„åå­—å–è‡ª Container on Limaã€‚Lima æ˜¯ä¸€ä¸ªè™šæ‹Ÿæœºå·¥å…·ï¼Œå¯ä»¥å®ç°è‡ªåŠ¨çš„æ–‡ä»¶å…±äº«ã€ç«¯å£è½¬å‘ä»¥åŠ containerdã€‚ Colima å®é™…ä¸Šæ˜¯é€šè¿‡ Lima å¯åŠ¨äº†åä¸º colima çš„è™šæ‹Ÿæœºï¼Œä½¿ç”¨è™šæ‹Ÿæœºä¸­çš„ containerd ä½œä¸ºå®¹å™¨è¿è¡Œæ—¶ã€‚ Image not found a.warning-link { color: inherit !important; font-weight: inherit !important; text-decoration: underline !important; border-bottom: none !important; } ç½‘ç«™é“¾æ¥: https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/12/26/colima.gif é“¾æ¥åˆ°æ–‡ä»¶: /static/https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/12/26/colima.gif ä½¿ç”¨ Page Bundles: false ä½¿ç”¨ Colima çš„ä½¿ç”¨å¾ˆç®€å•ï¼Œæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤å°±å¯ä»¥åˆ›å»ºè™šæ‹Ÿæœºï¼Œé»˜è®¤æ˜¯ Docker çš„è¿è¡Œæ—¶ã€‚ åˆæ¬¡è¿è¡Œéœ€è¦ä¸‹è½½è™šæ‹Ÿæœºé•œåƒåˆ›å»ºè™šæ‹Ÿæœºï¼Œè€—æ—¶å› ç½‘ç»œæƒ…å†µæœ‰æ‰€å·®å¼‚ã€‚ä¹‹åï¼Œå¯åŠ¨è™šæ‹Ÿæœºå°±åªéœ€è¦ 30s å·¦å³çš„æ—¶é—´ã€‚ colima start INFO[0000] starting colima INFO[0000] creating and starting ... context=vm INFO[0119] provisioning ... context=docker INFO[0119] provisioning in VM ... context=docker INFO[0133] restarting VM to complete setup ... context=docker INFO[0133] stopping ... context=vm INFO[0136] starting ...</description></item><item><title>OpenFaaS - ä»¥è‡ªå·±çš„æ–¹å¼è¿è¡Œå®¹å™¨åŒ–å‡½æ•°</title><link>https://atbug.com/openfaas-case-study-zh/</link><pubDate>Fri, 17 Dec 2021 09:13:59 +0800</pubDate><guid>https://atbug.com/openfaas-case-study-zh/</guid><description>
è¯‘è€…æ³¨ï¼š æœ¬æ–‡ç¯‡å¹…è¾ƒé•¿ï¼Œæœ‰åŠ©äºäº†è§£ FaaS å’Œ OpenFaaSã€‚ä½œè€…åˆ†åˆ«ä»å¼€å‘äººå‘˜å’Œè¿ç»´äººå‘˜çš„è§†è§’æ¥äº†è§£ OpenFaaSï¼Œå¯¹äº†è§£æ–°çš„æŠ€æœ¯æ˜¯ä¸ªå¾ˆå¥½çš„æ–¹å¼ã€‚ æœ¬æ–‡ç¿»è¯‘è‡ª Ivan Velichko çš„ OpenFaaS - Run Containerized Functions On Your Own Termsã€‚ é•¿æœŸä»¥æ¥ï¼Œæ— æœåŠ¡å™¨ï¼ˆserverlessï¼‰ å¯¹æˆ‘æ¥è¯´æ— éå°±æ˜¯ AWS Lambda çš„ä»£åè¯ã€‚Lambda æä¾›äº†ä¸€ç§æ–¹ä¾¿çš„é€”å¾„ï¼Œå¯ä»¥å°†ä»»æ„ä»£ç é™„åŠ åˆ°å¹³å°äº‹ä»¶ï¼ˆäº‘å®ä¾‹çš„çŠ¶æ€å˜æ›´ã€DynamoDB è®°å½•çš„æ›´æ–°æˆ–æ–°çš„ SNS æ¶ˆæ¯ï¼‰ä¸­ã€‚ä½†æ˜¯ï¼Œæˆ‘æ—¶ä¸æ—¶ä¼šæƒ³åˆ°æŸä¸ªé€»è¾‘ï¼Œä½†å…¶åˆæ²¡å¤§åˆ°è¶³ä»¥æœ‰è‡ªå·±çš„æœåŠ¡ï¼ŒåŒæ—¶æœ‰ä¸é€‚åˆä»»ä½•ç°æœ‰æœåŠ¡çš„èŒƒå›´ã€‚å› æ­¤ï¼Œæˆ‘ç»å¸¸å°†å…¶æ”¾å…¥å‡½æ•°ä¸­ï¼Œä»¥ä¾¿æ—¥åä½¿ç”¨ CLI å‘½ä»¤æˆ–è€… HTTP è°ƒç”¨æ¥è°ƒç”¨å®ƒã€‚ å‡ å¹´å‰ï¼Œæˆ‘æ¥å¼€äº† AWSï¼Œè‡ªé‚£ä»¥åï¼Œæˆ‘ä¸€ç›´æ€€å¿µéƒ¨ç½²æ— æœåŠ¡å™¨åŠŸ</description></item><item><title>ç­–ç•¥å³ä»£ç ï¼šä¸ºäº† OpenPolicyAgent å­¦ Regoï¼Ÿè¯•è¯• Javascript</title><link>https://atbug.com/policy-as-code-with-pipy/</link><pubDate>Wed, 08 Dec 2021 07:49:37 +0800</pubDate><guid>https://atbug.com/policy-as-code-with-pipy/</guid><description>
è·ç¦»ä¸Šä¸ªç‰ˆæœ¬ ç”¨ Pipy å®ç° OPAï¼Œå·²ç»è¿‡å»å¿«åŠå¹´äº†ã€‚å½“åˆä½¿ç”¨Pipy å®ç°äº†å¯ä¿¡é•œåƒä»“åº“çš„æ£€æŸ¥ï¼Œé‚£æ—¶çš„ç‰ˆæœ¬å®ç°èµ·æ¥ä¼šç¨å¾®å¤æ‚ï¼Œä»ç­–ç•¥ä»“åº“åˆ°è¯ä¹¦åˆ›å»ºåˆ°Admission Webhook çš„åˆ›å»ºéƒ½éœ€è¦å¤§é‡çš„äººå·¥æ“ä½œï¼Œé…ç½®å’Œé€»è¾‘ä¹Ÿè¿˜æ˜¯è€¦åˆåœ¨ä¸€èµ·ã€‚ è¿™ä¸ªç‰ˆæœ¬å®‰è£…å’Œä½¿ç”¨èµ·æ¥ä¼šæ›´åŠ ç®€å•ã€‚ å½“åˆæˆ‘ç”¨â€œä¸åŠ¡æ­£ä¸šâ€æ¥å½¢å®¹ Pipy å®ç°å‡†å…¥æ§åˆ¶ï¼Œç­‰çœ‹å®Œè¿™ç¯‡æ–‡ç« ï¼Œæ¬¢è¿ç•™è¨€è¯´è¯´ä½ çš„çœ‹æ³•ã€‚ æ¶æ„ è¿˜æ˜¯ç»§ç»­ä¸Šæ¬¡çš„åœºæ™¯ï¼Œåœ¨ Pod åˆ›å»ºæ—¶å¯¹ Pod ä½¿ç”¨çš„é•œåƒæ‰€åœ¨ä»“åº“è¿›è¡Œæ£€æŸ¥ï¼Œä»¥åŠæ£€æŸ¥é•œåƒçš„ tag æ˜¯å¦åˆæ³•ã€‚ Image not found a.warning-link { color: inherit !important; font-weight: inherit !important; text-decoration: underline !important; border-bottom: none !important; } ç½‘ç«™é“¾æ¥: https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/12/08/untitled.jpg é“¾æ¥åˆ°æ–‡ä»¶: /static/https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/12/08/untitled.jpg ä½¿ç”¨ Page Bundles: false è¿™é‡Œå€ŸåŠ© Pipy Repo çš„èƒ½åŠ›ï¼Œå°†ä»£è¡¨ç­–ç•¥çš„è„šæœ¬å’Œé…ç½®äº¤ç”± Repo è¿›è¡Œç®¡ç†ï¼›Pipy å®ä¾‹å®æ—¶ä» Pipy Repo åŒæ­¥ç­–ç•¥ï¼Œå¹¶è¿›è¡ŒåŠ¨æ€åŠ è½½ã€‚</description></item><item><title>æ²™ç›’åŒ–å®¹å™¨ï¼šæ˜¯å®¹å™¨è¿˜æ˜¯è™šæ‹Ÿæœº</title><link>https://atbug.com/sandboxed-container/</link><pubDate>Tue, 07 Dec 2021 07:55:16 +0800</pubDate><guid>https://atbug.com/sandboxed-container/</guid><description>
éšç€ IT æŠ€æœ¯çš„å‘å±•ï¼ŒAIã€åŒºå—é“¾å’Œå¤§æ•°æ®ç­‰æŠ€æœ¯æå‡äº†å¯¹åº”ç”¨æ¯«ç§’çº§æ‰©å±•çš„éœ€æ±‚ï¼Œå¼€å‘äººå‘˜ä¹Ÿé¢ä¸´ç€çš„åŠŸèƒ½å¿«é€Ÿæ¨å‡ºçš„å‹åŠ›ã€‚æ··åˆäº‘æ˜¯æ–°å¸¸æ€ï¼Œæ•°å­—åŒ–è½¬å‹æ˜¯ä¿æŒç«äº‰åŠ›çš„å¿…è¦æ¡ä»¶ï¼Œè™šæ‹ŸåŒ–æˆä¸ºè¿™äº›æŒ‘æˆ˜çš„åŸºæœ¬æŠ€æœ¯ã€‚ åœ¨è™šæ‹ŸåŒ–çš„ä¸–ç•Œï¼Œæœ‰ä¸¤ä¸ªè¯è€³ç†Ÿèƒ½è¯¦ï¼šè™šæ‹Ÿæœºå’Œå®¹å™¨ã€‚å‰è€…æ˜¯å¯¹ç¡¬ä»¶çš„è™šæ‹ŸåŒ–ï¼Œåè€…åˆ™æ›´åƒæ˜¯æ“ä½œç³»ç»Ÿçš„è™šæ‹ŸåŒ–ã€‚ä¸¤è€…éƒ½æä¾›äº†æ²™ç®±çš„èƒ½åŠ›ï¼šè™šæ‹Ÿæœºé€šè¿‡ç¡¬ä»¶çº§æŠ½è±¡æä¾›ï¼Œè€Œå®¹å™¨åˆ™ä½¿ç”¨å…¬å…±å†…æ ¸æä¾›è¿›ç¨‹çº§çš„éš”ç¦»ã€‚æœ‰å¾ˆå¤šäººå°†å®¹å™¨çœ‹æˆæ˜¯â€œè½»é‡åŒ–çš„è™šæ‹Ÿæœºâ€ï¼Œé€šå¸¸æƒ…å†µä¸‹æˆ‘ä»¬è®¤ä¸ºå®¹å™¨æ˜¯å®‰å…¨çš„ï¼Œé‚£åˆ°åº•æ˜¯ä¸æ˜¯è·Ÿæˆ‘ä»¬æƒ³è±¡çš„ä¸€æ ·ï¼Ÿ å®¹å™¨ï¼šè½»é‡åŒ–çš„è™šæ‹Ÿæœºï¼Ÿ å®¹å™¨æ˜¯æ‰“åŒ…ã€å…±äº«å’Œéƒ¨ç½²åº”ç”¨çš„ç°ä»£åŒ–æ–¹å¼ï¼Œå¸®åŠ©ä¼ä¸šå®ç°å¿«é€Ÿã€æ ‡å‡†ã€çµæ´»åœ°å®ŒæˆæœåŠ¡äº¤äº’ã€‚å®¹å™¨åŒ–æ˜¯å»ºç«‹</description></item><item><title>ä» Docker çš„ä¿¡å·æœºåˆ¶çœ‹å®¹å™¨çš„ä¼˜é›…åœæ­¢</title><link>https://atbug.com/gracefully-stopping-docker-containers-with-correct-command/</link><pubDate>Mon, 29 Nov 2021 07:30:43 +0800</pubDate><guid>https://atbug.com/gracefully-stopping-docker-containers-with-correct-command/</guid><description>
æ­¤æ–‡æ˜¯å‰æ®µæ—¶é—´ç¬”è®°çš„æ•´ç†ï¼Œä¹‹å‰è‡ªå·±å¯¹è¿™æ–¹é¢çš„å…³æ³¨ä¸å¤Ÿï¼Œå› æ­¤åšä¸‹è®°å½•ã€‚ æœ‰å¤ªå¤šçš„æ–‡ç« ä»‹ç»å¦‚ä½•è¿è¡Œå®¹å™¨ï¼Œç„¶è€Œå¦‚ä½•åœæ­¢å®¹å™¨çš„æ–‡ç« ç›¸å¯¹å°‘å¾ˆå¤šã€‚ æ ¹æ®è¿è¡Œçš„åº”ç”¨ç±»å‹ï¼Œåº”ç”¨çš„åœæ­¢è¿‡ç¨‹éå¸¸é‡è¦ã€‚å¦‚æœåº”ç”¨è¦å†™æ–‡ä»¶ï¼Œåœæ­¢å‰è¦ä¿è¯æ­£ç¡®åˆ·æ–°æ•°æ®å¹¶å…³é—­æ–‡ä»¶ï¼›å¦‚æœæ˜¯ HTTP æœåŠ¡ï¼Œè¦ç¡®ä¿åœæ­¢å‰å¤„ç†æ‰€æœ‰æœªå®Œæˆçš„è¯·æ±‚ã€‚ ä¿¡å· ä¿¡å·æ˜¯ Linux å†…æ ¸ä¸è¿›ç¨‹ä»¥åŠè¿›ç¨‹é—´é€šä¿¡çš„ä¸€ç§æ–¹å¼ã€‚é’ˆå¯¹æ¯ä¸ªä¿¡å·è¿›ç¨‹éƒ½æœ‰ä¸ªé»˜è®¤çš„åŠ¨ä½œï¼Œä¸è¿‡è¿›ç¨‹å¯ä»¥é€šè¿‡å®šä¹‰ä¿¡å·å¤„ç†ç¨‹åºæ¥è¦†ç›–é»˜è®¤çš„åŠ¨ä½œï¼Œé™¤äº† SIGSTOP å’Œ SIGKILLã€‚äºŒè€…éƒ½ä¸èƒ½è¢«æ•è·æˆ–é‡å†™ï¼Œå‰è€…ç”¨æ¥å°†è¿›ç¨‹æš‚åœåœ¨å½“å‰çŠ¶æ€ï¼Œè€Œåè€…åˆ™æ˜¯ä»å†…æ ¸å±‚é¢ç«‹å³æ€æ‰è¿›ç¨‹ã€‚ æœ‰ä¸¤ä¸ªæ¯”è¾ƒé‡è¦çš„è¿›ç¨‹ SIGTERM å’Œ SIGKILLã€‚SIGTERM æ˜¯ä¼˜é›…åœ°å…³é—­å‘½ä»¤ï¼ŒSIG</description></item><item><title>Kubernetes Deployment çš„æ•…éšœæ’æŸ¥å¯è§†åŒ–æŒ‡å—ï¼ˆ2021 ä¸­æ–‡ç‰ˆï¼‰</title><link>https://atbug.com/troubleshooting-kubernetes-deployment-zh-v2/</link><pubDate>Sat, 20 Nov 2021 18:29:19 +0800</pubDate><guid>https://atbug.com/troubleshooting-kubernetes-deployment-zh-v2/</guid><description>
å°†åº”ç”¨éƒ¨ç½²åˆ° Kubernetes æ—¶é€šå¸¸ä¼šä½¿ç”¨ Deploymentã€Serviceã€Ingressï¼Œæ•´ä¸ªåº”ç”¨ä»éƒ¨ç½²åˆ°æ­£å¸¸è¿è¡Œï¼Œç»å†çš„æµç¨‹å¾ˆé•¿ã€‚ä» kubectl apply YAML æ–‡ä»¶ï¼Œç»è¿‡ apiserverã€controller managerã€schedulerã€kubeletã€ä»¥åŠ CRIã€CNI ç­‰ä¼—å¤šç»„ä»¶çš„ååŒå·¥ä½œã€‚ æ¼«é•¿çš„â€œè¡Œç¨‹â€ï¼ŒPod ä¹Ÿç»å†å„ç§æ­£å¸¸å’Œä¸æ­£å¸¸çš„çŠ¶æ€å˜åŒ–ï¼Œå³ä½¿æ­£å¸¸è¿è¡Œä¹Ÿä¼šå‡ºç°æœåŠ¡æ— æ³•è®¿é—®çš„é—®é¢˜ã€‚å¯¹äºåˆšå¼€å§‹åœ¨ Kubernetes å¹³å°å¼€å±•å·¥ä½œçš„åŒå­¦æ¥è¯´ï¼Œæ•…éšœçš„æ’æŸ¥ç¡®å®æ£˜æ‰‹ã€‚ä¹‹å‰å·¥ä½œçš„æ—¶å€™ï¼Œç»å¸¸è¦ååŠ©æ’æŸ¥å„ç§é—®é¢˜ã€‚å»å¹´åœ¨ Learnk8s ä¸Šçœ‹åˆ°äº†å…³äº Deployment æ•…éšœæ’æŸ¥çš„è§†å›¾ï¼Œæˆ‘è¿˜å‚è€ƒåšäº†å½“æ—¶æ•´ä¸ªå¹³å°çš„æ•…éšœæ’æŸ¥è§†å›¾ï¼ŒåŒ…æ‹¬äº†ä»é¡¹ç›®æºç ã€CICD æµæ°´çº¿ã€éƒ¨ç½²æ•´ä¸ªæµç¨‹çš„æ•…éšœæ’æŸ¥</description></item><item><title>Monterey 12.0.1 ä¸Šçš„ bug</title><link>https://atbug.com/bug-with-m1-pro-and-monterey/</link><pubDate>Thu, 18 Nov 2021 08:54:44 +0800</pubDate><guid>https://atbug.com/bug-with-m1-pro-and-monterey/</guid><description>
æœ€è¿‘æ¢ä¸Šäº† MacBook Pro 2021ï¼Œä¹Ÿæ…¢æ…¢å°†å·¥ä½œè½¬åˆ°æ–°çš„ç”µè„‘ä¸Šã€‚ç»“æŸäº†ä¸€å¹´å¤šçš„é»‘ç™½é…ï¼Œä¹‹å‰å·¥ä½œä¸»åŠ›æœºæ˜¯æˆ‘çš„é»‘è‹¹æœï¼Œé…ç½®ä»¥åŠ OpenCore çš„å¼•å¯¼æ”¾åœ¨è¿™é‡Œäº†ã€‚ ä¸ºäº†ç¨³å®šæ€§ï¼Œç³»ç»Ÿä¸€ç›´åœç•™åœ¨äº† 10.15.4ã€‚æ–°çš„ç”µè„‘æ‹¿åˆ°æ‰‹å°±æ˜¯ 12.0.1ï¼Œä¹‹å‰ä¹Ÿå°±åœ¨æˆ‘å¦ä¸€å° 2016 æ¬¾çš„ macbook pro ä¸Šç”¨è¿‡å‡ ä¸ªå‘¨çš„ 12.0.0ã€‚ æ–°çš„ç³»ç»ŸåŠ ä¸Šæ–°çš„æ¶æ„ï¼Œä¸å…æœ‰æœ‰äº› bugï¼Œä»Šå¤©å°±è¯´ä¸‹æˆ‘æ‰€é‡åˆ°çš„ä¸¤ä¸ªæ¯”è¾ƒæ£˜æ‰‹çš„ã€‚ 1. å®‰å…¨ç›¸å…³ EXC_BAD_ACCESS (SIGKILL (Code Signature Invalid)) å…¬å¸çš„æ ¸å¿ƒäº§å“æ˜¯ç”¨ c++ å¼€å‘çš„ï¼Œç¼–è¯‘ä¹‹åæˆ‘éƒ½ä¹ æƒ¯æ€§çš„æ”¾åˆ° /usr/local/bin ç›®å½•ä¸­ã€‚åœ¨æ–°ç³»ç»Ÿä¸­ï¼Œå°±å‡ºç°äº†ä¸Šé¢çš„é”™è¯¯ï¼ˆä»æ§åˆ¶å°è·å–ï¼‰ï¼Œè¿è¡Œçš„æ—¶å€™è¿›ç¨‹ç›´æ¥è¢« killã€‚ ç½‘ä¸ŠæŸ¥äº†ä¸‹ï¼Œè¯´ä¸ kernel cache æœ‰å…³ï¼Œé‡å¯å¯è§£å†³ã€‚ This was caused by kernel caching of previously signed binaries and my replacing those binaries with newly compiled binaries which weren&amp;rsquo;t part of a signed package. By deleting the existing binaries, rebooting</description></item><item><title>Kubernetes ä¸Šè°ƒè¯• distroless å®¹å™¨</title><link>https://atbug.com/debug-distroless-container-on-kubernetes/</link><pubDate>Wed, 03 Nov 2021 07:40:40 +0800</pubDate><guid>https://atbug.com/debug-distroless-container-on-kubernetes/</guid><description>
TL;DR æœ¬æ–‡å†…å®¹ï¼š ä»‹ç» distroless é•œåƒã€ä½œç”¨ä»¥åŠç®€å•çš„ä½¿ç”¨ å¦‚ä½•é’ˆå¯¹ distroless å®¹å™¨çš„è¿›è¡Œè°ƒè¯• ä¸´æ—¶å®¹å™¨(v.1.18+)çš„ä½¿ç”¨ Distroless é•œåƒ Distroless å®¹å™¨ï¼Œé¡¾åæ€ä¹‰ä½¿ç”¨ Distroless é•œåƒä½œä¸ºåŸºç¡€é•œåƒè¿è¡Œçš„å®¹å™¨ã€‚ &amp;ldquo;Distroless&amp;rdquo; é•œåƒåªåŒ…å«äº†ä½ çš„åº”ç”¨ç¨‹åºä»¥åŠå…¶è¿è¡Œæ—¶æ‰€éœ€è¦çš„ä¾èµ–ã€‚ä¸åŒ…å«ä½ èƒ½åœ¨æ ‡å‡† Linxu å‘è¡Œç‰ˆé‡Œçš„å¯ä»¥æ‰¾åˆ°çš„åŒ…ç®¡ç†å™¨ã€shells æˆ–è€…å…¶ä»–ç¨‹åºã€‚ GoogleContainerTools/distroless é’ˆå¯¹ä¸åŒè¯­è¨€æä¾›äº† distroless é•œåƒï¼š gcr.io/distroless/static-debian11 gcr.io/distroless/base-debian11 gcr.io/distroless/java-debian11 gcr.io/distroless/cc-debian11 gcr.io/distroless/nodejs-debian11 gcr.io/distroless/python3-debian11 Distroless é•œåƒæœ‰ä»€ä¹ˆç”¨ï¼Ÿ é‚£äº›å¯èƒ½æ˜¯æ„å»ºé•œåƒæ—¶éœ€è¦çš„ï¼Œä½†å¤§éƒ¨åˆ†å¹¶ä¸æ˜¯è¿è¡Œæ—¶éœ€è¦çš„ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆä¸Šç¯‡æ–‡ç« ä»‹ç» Buildpacks æ—¶è¯´çš„ä¸€ä¸ª builder çš„ stack é•œåƒåŒ…å«æ„å»ºæ—¶åŸºç¡€é•œåƒå’Œè¿è¡Œæ—¶åŸºç¡€é•œåƒï¼Œè¿™æ ·å¯ä»¥åšåˆ°é•œåƒçš„æœ€å°åŒ–ã€‚ å…¶å®æ§åˆ¶ä½“ç§¯å¹¶ä¸æ˜¯ distroless é•œåƒçš„ä¸»è¦ä½œç”¨ã€‚å°†è¿è¡Œæ—¶å®¹å™¨ä¸­çš„å†…å®¹é™åˆ¶ä¸ºåº”ç”¨ç¨‹åºæ‰€éœ€çš„ä¾èµ–ï¼Œæ­¤å¤–ä¸åº”è¯¥å®‰è£…ä»»ä½•</description></item><item><title>æ— éœ€ Dockerfile çš„é•œåƒæ„å»ºï¼šBuildPack vs Dockerfile</title><link>https://atbug.com/build-docker-image-without-dockerfile/</link><pubDate>Fri, 29 Oct 2021 07:36:43 +0800</pubDate><guid>https://atbug.com/build-docker-image-without-dockerfile/</guid><description>
è¿‡å»çš„å·¥ä½œä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨å¾®æœåŠ¡ã€å®¹å™¨åŒ–ä»¥åŠæœåŠ¡ç¼–æ’æ„å»ºäº†æŠ€æœ¯å¹³å°ã€‚ä¸ºäº†æå‡å¼€å‘å›¢é˜Ÿçš„ç ”å‘æ•ˆç‡ï¼Œæˆ‘ä»¬åŒæ—¶è¿˜æä¾›äº† CICD å¹³å°ï¼Œç”¨æ¥å°†ä»£ç å¿«é€Ÿçš„éƒ¨ç½²åˆ° Openshiftï¼ˆä¼ä¸šçº§çš„ Kubernetesï¼‰ é›†ç¾¤ã€‚ éƒ¨ç½²çš„ç¬¬ä¸€æ­¥å°±æ˜¯åº”ç”¨ç¨‹åºçš„å®¹å™¨åŒ–ï¼ŒæŒç»­é›†æˆçš„äº¤ä»˜ç‰©ä»ä»¥å¾€çš„ jar åŒ…ã€webpack ç­‰å˜æˆäº†å®¹å™¨é•œåƒã€‚å®¹å™¨åŒ–å°†è½¯ä»¶ä»£ç å’Œæ‰€éœ€çš„æ‰€æœ‰ç»„ä»¶ï¼ˆåº“ã€æ¡†æ¶ã€è¿è¡Œç¯å¢ƒï¼‰æ‰“åŒ…åˆ°ä¸€èµ·ï¼Œè¿›è€Œå¯ä»¥åœ¨ä»»ä½•ç¯å¢ƒä»»ä½•åŸºç¡€æ¶æ„ä¸Šä¸€è‡´åœ°è¿è¡Œï¼Œå¹¶ä¸å…¶ä»–åº”ç”¨â€œéš”ç¦»â€ã€‚ æˆ‘ä»¬çš„ä»£ç éœ€è¦ä»æºç åˆ°ç¼–è¯‘åˆ°æœ€ç»ˆå¯è¿è¡Œçš„é•œåƒï¼Œç”šè‡³éƒ¨ç½²ï¼Œè¿™ä¸€åˆ‡åœ¨ CICD çš„æµæ°´çº¿ä¸­å®Œæˆã€‚æœ€åˆï¼Œæˆ‘ä»¬åœ¨æ¯ä¸ªä»£ç ä»“åº“ä¸­éƒ½åŠ å…¥äº†ä¸‰ä¸ªæ–‡ä»¶ï¼Œä¹Ÿé€šè¿‡é¡¹ç›®ç”Ÿæˆå™¨ï¼ˆç±»ä¼¼ Spring Initializerï¼‰åœ¨æ–°</description></item><item><title>ä½å¤æ‚åº¦ - æœåŠ¡ç½‘æ ¼çš„ä¸‹ä¸€ç«™</title><link>https://atbug.com/service-mesh-unnecessary-complexity/</link><pubDate>Fri, 15 Oct 2021 07:58:25 +0800</pubDate><guid>https://atbug.com/service-mesh-unnecessary-complexity/</guid><description>
è¯‘è€…ï¼š ä½œä¸ºä¸€ä¸ªæ›¾ç»åœ¨åˆ¶é€ ä¸šä¼ä¸šçš„åŸºç¡€æ¶æ„å›¢é˜Ÿä»»èŒï¼Œä¸ºæ”¯æŒå…¬å¸çš„â€œäº’è”ç½‘åŸºå› â€å’Œâ€œæ•°å­—åŒ–è½¬å‹â€è½åœ°äº†äº‘åŸç”ŸåŸºç¡€è®¾æ–½å¹³å°ï¼Œå¹¶åœ¨å°è¯•é‡‡ç”¨æœåŠ¡ç½‘æ ¼æœªæˆçš„æˆ‘æ¥è¯´ï¼Œçœ‹åˆ°è¿™ç¯‡æ–‡ç« æ·±æœ‰æ„Ÿè§¦ã€‚å°¤å…¶æ˜¯æ–‡ä¸­æ‰€è¯´çš„â€œäººå°‘ï¼Œé—®é¢˜å¤šï¼Œéœ€è¦å¿«é€Ÿè¾“å‡ºä»·å€¼â€ï¼Œç›´æˆ³åˆ°äº†ç—›å¤„ã€‚æœ‰é™çš„äººæ‰‹æœ‰é™çš„æ—¶é—´ï¼Œæˆ‘ä»¬éœ€è¦å°†å¤§éƒ¨åˆ†ç²¾åŠ›é›†ä¸­åœ¨è§£å†³æˆç†Ÿåº¦æ›²çº¿è¾ƒä½çš„åŸºæœ¬é—®é¢˜ä¸Šï¼Œè¦æƒ³å¾ˆå¥½çš„è¿è¡Œå¤æ‚çš„ç³»ç»Ÿæ˜¯éå¸¸å›°éš¾çš„ã€‚ æœåŠ¡ç½‘æ ¼æ˜¯ä¸€ä¸ªæ–°çš„åŸºç¡€è®¾æ–½å±‚ï¼Œå¯ä»¥æ‰¿è½½å¾ˆå¤šçš„åŠŸèƒ½ï¼Œæœªæ¥è¿˜ä¼šæœ‰æ›´å¤§çš„æƒ³è±¡ç©ºé—´å’Œå…‰æ˜çš„æœªæ¥ã€‚ ä»¥ä¸Šçš„ç§ç§åŸå› ï¼Œä¹Ÿä¿ƒä½¿æˆ‘åæ¥é€‰æ‹©è¿›å…¥ä¸€å®¶æä¾›æœåŠ¡ç½‘æ ¼çš„äº§å“ä¼ä¸šï¼Œä¹Ÿå¸Œæœ›æœåŠ¡ç½‘æ ¼å¯ä»¥è¢«æ›´ç®€å•çš„ä½¿ç”¨ã€‚ â€œé“é˜»ä¸”é•¿ï¼Œè¡Œåˆ™å°†è‡³ï¼â€ æœ¬æ–‡ç¿»è¯‘è‡ª Chris Campbell çš„ How Unnecessary Complexity Gave the Service Mesh a</description></item><item><title>è‡ªåŠ¨æ›¿æ¢ Kubernetes é•œåƒ</title><link>https://atbug.com/kubernetes-images-swapper/</link><pubDate>Wed, 06 Oct 2021 08:01:41 +0800</pubDate><guid>https://atbug.com/kubernetes-images-swapper/</guid><description>
å‰å‡ å¤©æœ‰æœ‹å‹åœ¨é—®å¦‚ä½•åœ¨æŸäº‘ä¸Šæ‹‰å– Tekton çš„é•œåƒï¼Œè¿™ç§æƒ…å†µå…¶å®æ¯”è¾ƒæ™®éä¸åªæ˜¯æŸäº‘ã€‚å·¥ä½œä¸­ç»å¸¸è¦ç”¨åˆ°è¿‡æŸäº›é è¿æ°”æ‰èƒ½æ‹‰å–åˆ°çš„é•œåƒï¼Œè¿™å¯¹å·¥ä½œæ¥è¯´çœŸæ˜¯æåº¦çš„ä¸å‹å¥½ã€‚ å› æ­¤ä¹ŸèŒç”Ÿäº†ä¸ªæƒ³æ³•ï¼Œç»´æŠ¤ä¸€ä¸ªåç½‘ç»œå‹å¥½çš„ä»“åº“é•œåƒï¼Œåœ¨ Pod åˆ›å»ºæ—¶å°†é•œåƒä»“åº“åˆ‡æ¢åˆ°è‡ªç»´æŠ¤çš„ä»“åº“ï¼Œä»è‡ªç»´æŠ¤çš„ä»“åº“æ‹‰å–é•œåƒã€‚ å‰å‡ å¤©ä½“éªŒäº†æç‹Gitlab çš„å®¹å™¨é•œåƒåº“ï¼Œä¾¿æ˜¯ä¸ºè¿™ä¸ªæƒ³æ³•åšçš„å‡†å¤‡ã€‚å½“ç„¶å…¶ä»–çš„äº‘å‚å•†ä¹Ÿæœ‰æä¾›é’ˆå¯¹ä¸ªäººç‰ˆçš„å…è´¹é•œåƒä»“åº“å’Œä¼ä¸šç‰ˆä»“åº“ã€‚ æ­£å¥½ Pipy ä½œä¸ºç­–ç•¥å¼•æ“ï¼Œéå¸¸é€‚åˆå®ç°è¿™ç§ç­–ç•¥çš„æ‰§è¡Œã€‚ Image not found a.warning-link { color: inherit !important; font-weight: inherit !important; text-decoration: underline !important; border-bottom: none !important; } ç½‘ç«™é“¾æ¥: https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/10/05/20211005212733.png é“¾æ¥åˆ°æ–‡ä»¶: /static/https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/10/05/20211005212733.png ä½¿ç”¨ Page Bundles: false å®ç°æ€è·¯ Image not found a.warning-link { color: inherit !important; font-weight: inherit !important; text-decoration: underline !important; border-bottom: none !important; } ç½‘ç«™é“¾æ¥: https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/10/05/20211005210725.png é“¾æ¥åˆ°æ–‡ä»¶: /static/https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/10/05/20211005210725.png ä½¿ç”¨ Page Bundles: false Admission Webhook Kubernetes åŠ¨</description></item><item><title>æç‹GitLab SaaS å†…æµ‹è½»åº¦ä½“éªŒ</title><link>https://atbug.com/jihu-gitlab-experience/</link><pubDate>Fri, 01 Oct 2021 08:18:09 +0800</pubDate><guid>https://atbug.com/jihu-gitlab-experience/</guid><description>
æ„Ÿè°¢æç‹å›¢é˜Ÿä¸º GitLabï¼ˆSaaSï¼‰æœ¬åœ°åŒ–çš„åŠªåŠ›ï¼ŒåŒæ—¶ä¹Ÿæ„Ÿè°¢å°é©¬å“¥æä¾›çš„å†…æµ‹èµ„æ ¼ã€‚ æœ€è¿‘çªç„¶æƒ³åˆ°äº†ä¸ªç‚¹å­ï¼Œéœ€è¦ä½¿ç”¨ä¸€ä¸ªç§æœ‰çš„é•œåƒä»“åº“ã€‚æç‹GitLab æœ‰æä¾›å®¹å™¨é•œåƒåº“ï¼Œæ­£å¥½å’Œ CICD ä¸€èµ·åšä¸ªè½»åº¦ä½“éªŒã€‚ å®¹å™¨é•œåƒåº“ Container Registry æ–‡æ¡£ä»‹ç»åœ¨è¿™é‡Œï¼Œç›®å‰è¿˜æ˜¯è‹±æ–‡ã€‚ï¼ˆåº”è¯¥æœ¬åœ°åŒ–çš„å·¥ä½œé‡å¾ˆå¤§ï¼Œæ–‡æ¡£è¿˜æ²¡ç¿»è¯‘ã€‚ï¼‰ å®¹å™¨é•œåƒåº“å¯ä»¥ä½œä¸ºç‹¬ç«‹é•œåƒä»“åº“ä½¿ç”¨ï¼ˆä¸ºä»€ä¹ˆè¦è¿™ä¹ˆç”¨ï¼Œå–ä¸ªå…³å­ä¸‹ç¯‡æ–‡ç« è§ï¼‰ï¼Œå°±æ˜¯ä½¿ç”¨ docker å‘½ä»¤å°†æ„å»ºå¥½çš„é•œåƒæ¨é€åˆ° å®¹å™¨é•œåƒåº“ã€‚ å½“ç„¶ä¹Ÿå¯ä»¥åŒ CICD æµæ°´çº¿ç»“åˆä½¿ç”¨ï¼Œåæ–‡ä¹Ÿä¼šä»‹ç»ã€‚ ç‹¬ç«‹ä½¿ç”¨ æœ¬åœ°ç™»å½• Container Registry æœ‰ä¸¤ç§éªŒè¯æ–¹å¼ï¼š ä½¿ç”¨ç”¨æˆ·åå’Œå¯†ç  å¼€å¯äº†åŒé‡èº«ä»½éªŒè¯ï¼Œå¯ä»¥ä½¿ç”¨è®¿é—®ä¸ªäººè®¿é—®ä»¤ç‰Œ å…¶å®ï¼Œä¸ç®¡æ˜¯å¦å¼€å§‹åŒé‡éªŒè¯ï¼Œéƒ½å»ºè®®ä½¿ç”¨è®¿é—®ä»¤ç‰Œã€‚ docker login registry.gitlab.cn #æ ¹æ®</description></item><item><title>å®¹å™¨ç¥è¯ Docker æ˜¯å¦‚ä½•ä¸€åˆ†ä¸ºäºŒçš„</title><link>https://atbug.com/how-docker-broke-in-half/</link><pubDate>Mon, 20 Sep 2021 08:01:30 +0800</pubDate><guid>https://atbug.com/how-docker-broke-in-half/</guid><description>
è¯‘è€…ç‚¹è¯„ï¼š æœ€è¿‘å¬äº†å¾ˆå¤šèµ„æ·±çš„äººå£«å…³äºå¼€æºï¼Œä»¥åŠå•†ä¸šåŒ–çš„åˆ†æã€‚å¼€æºä¸å•†ä¸šåŒ–ï¼Œå¬èµ·æ¥å°±æ˜¯ä¸€å¯¹çŸ›ç›¾çš„æ‰€åœ¨ï¼Œä¼¼ä¹å¤§å®¶éƒ½åœ¨å°è¯•åšå…¶äºŒè€…çš„å¹³è¡¡ã€‚æ˜¯å…ˆæœ‰å¼€æºï¼Œè¿˜æ˜¯å…ˆæœ‰å•†ä¸šåŒ–ï¼Ÿä¿—è¯è¯´â€œè°ˆé’±ä¸ä¼¤æ„Ÿæƒ…â€ï¼Œè¿‘å‡ å¹´èƒŒé å¼€æºçš„åˆ›ä¸šå…¬å¸å¦‚é›¨åæ˜¥ç¬‹èˆ¬æ¶Œç°ï¼Œå³ä½¿æ˜¯å¼€å‘äººå‘˜ä¹Ÿæ˜¯éœ€è¦ç”Ÿæ´»çš„ã€‚ å®¹å™¨ç¥è¯ Docker æ›¾ç»æ— æ¯”é£å…‰ï¼Œç››æä¸€æ—¶ã€‚å³ä½¿è¿™æ ·ä¸€ä¸ªå¤‡å—ç©ç›®ï¼Œå¤§è·é£æŠ•çš„çƒ­æ§çš„ç‹¬è§’å…½ä¹Ÿæœªèƒ½å…ä¿—ï¼Œå¹¶ä»˜å‡ºäº†ä¸å°çš„ä»£ä»·ã€‚ ä»Šå¤©è¿™ç¯‡æ–‡ç« è®²è¿°äº† Docker è¿™å®¶å…¬å¸ä»è¯ç”Ÿåˆ°å·…å³°åˆ°æ²¡è½ï¼Œè¿™ä¸€è·¯ä¸Šæ‰€åšçš„æŠ‰æ‹©ï¼Œå¹¶æœ€ç»ˆåšäº†å¼€æºä¸å•†ä¸šçš„åˆ†ç¦»ï¼Œå†ä¸€æ¬¡ä»å¼€æºè¸ä¸Šæ‰¾å¯»å•†ä¸šåŒ–ä¹‹è·¯ã€‚è¿™äº›éƒ½æ˜¯å€¼å¾—æˆ‘ä»¬å‚è€ƒå’Œæ€è€ƒçš„ï¼Œä¸ç®¡æ˜¯å·²ç»å¼€æºæˆ–è€…å‡†å¤‡ä»äº‹å¼€æºçš„ã€‚ è¿™ç¯‡æ–‡ç« ç¿»è¯‘è‡ªHow Docker broke in half è¿™å®¶æ”¹å˜æ¸¸æˆè§„</description></item><item><title>ARM64 å¹³å°åŸºäº openEuler + iSula ç¯å¢ƒéƒ¨ç½² Kubernetes</title><link>https://atbug.com/setup-kubernetes-running-with-isulad-on-openeuler/</link><pubDate>Thu, 02 Sep 2021 20:41:06 +0800</pubDate><guid>https://atbug.com/setup-kubernetes-running-with-isulad-on-openeuler/</guid><description>
ä¸ºä»€ä¹ˆè¦åœ¨ arm64 å¹³å°ä¸Šéƒ¨ç½² Kubernetesï¼Œè€Œä¸”è¿˜æ˜¯é²²é¹ 920 çš„æ¶æ„ã€‚è¯´æ¥è¯é•¿ ã€‚ã€‚ã€‚ æ­¤å¤„çœç•¥5000 å­—ã€‚ ä»‹ç»ä¸‹ç³»ç»Ÿä¿¡æ¯ï¼› æ¶æ„ï¼šé²²é¹ 920(Kunpeng920) OSï¼šopenEuler 20.03 (LTS-SP1) CPUï¼š4c å†…å­˜ï¼š16G ç¡¬ç›˜ï¼šè‹¥å¹² æ•´ä¸ªè¿‡ç¨‹è™½ç„¶å‚è€ƒäº†é²²é¹è®ºå›çš„å¸–å­ï¼Œä¸è¿‡è¿˜æ˜¯é¢‡è´¹å‘¨æŠ˜ã€‚ TL;DR æ•´ä¸ªè¿‡ç¨‹ä¸­è¦æ³¨æ„ arm64 å¹³å°ä¸Šå®‰è£… Kubernetes åŠç½‘ç»œç»„ä»¶ï¼Œéœ€è¦ä½¿ç”¨ arm64 ç‰ˆæœ¬çš„é•œåƒã€‚ ç¯å¢ƒé…ç½® 1.å…³é—­ selinux #ä¸´æ—¶å…³é—­ setenforce 0 #æ°¸ä¹…å…³é—­ SELINUX=disabled vim /etc/sysconfig/selinux 2. å…³é—­swapåˆ†åŒº #ä¸´æ—¶å…³é—­ swapoff -a #æ°¸ä¹…å…³é—­ æ³¨é‡Š swap è¡Œ vim /etc/fstab 3. å…³é—­é˜²ç«å¢™ systemctl stop firewalld ssystemctl disable firewalld 4. ç½‘ç»œé…ç½® å¯¹iptableså†…éƒ¨çš„nf-calléœ€è¦æ‰“å¼€çš„å†…ç”Ÿçš„æ¡¥æ¥åŠŸèƒ½ vim /etc/sysctl.d/k8s.conf ä¿®æ”¹å¦‚ä¸‹å†…å®¹ï¼š net.bridge.bridge-nf-call-iptables=1 net.bridge.bridge-nf-call-ip6tables=1 net.ipv4.ip_forward=1 vm_swappiness=0 ä¿®æ”¹å®Œæˆåæ‰§è¡Œï¼š modprobe br_netfilter sysctl -p /etc/sysctl.d/k8s.conf 5. æ·»åŠ  Kubernetes æº åœ¨æ–‡ä»¶ /etc/yum.repos.d/openEuler.repo ä¸­è¿½åŠ å¦‚ä¸‹å†…å®¹ï¼š [kubernetes] name=Kubernetes baseurl=https://mirrors.aliyun.com/kubernetes/yum/repos/kubernetes-el7-aarch64/ enabled=1</description></item><item><title>ä½¿ç”¨ Flomesh è¿›è¡Œ Dubbo æœåŠ¡æ²»ç†</title><link>https://atbug.com/enhance-dubbo-service-governance-with-flomesh/</link><pubDate>Wed, 18 Aug 2021 09:50:28 +0800</pubDate><guid>https://atbug.com/enhance-dubbo-service-governance-with-flomesh/</guid><description>
å†™åœ¨æœ€å‰ å’Œä¸Šä¸€ç¯‡ã€Šä½¿ç”¨ Flomesh å¼ºåŒ– Spring Cloud æœåŠ¡æ²»ç†ã€‹ä¸€æ ·ï¼Œè¿™æ¬¡åŒæ ·æ˜¯åœ¨æ— ä»£ç ä¾µå…¥çš„æƒ…å†µä¸‹å¯¹ Dubbo æœåŠ¡æ²»ç†çš„æå‡ã€‚ æ›´å¤šæ²»ç†åœºæ™¯é™†ç»­æ·»åŠ ä¸­ï¼Œæœ‰å…´è¶£çš„å¯å…³æ³¨ https://github.com/flomesh-io/service-mesh-dubbo-demoã€‚ å¼€æºçš„ Pipy ä½œä¸º Flomesh çš„æ ¸å¿ƒï¼Œå¾—ç›Šäºå…¶è½»é‡åŠçµæ´»æ€§å¯ä»¥é€šè¿‡ç¼–ç¨‹çš„æ–¹å¼è½»æ¾å¿«é€Ÿçš„æ”¯æŒå¤šä¸­å¹³å°çš„æœåŠ¡å‘ç°æœºåˆ¶ï¼Œæ¯”å¦‚ Eurekaã€Consulã€Nacos ç­‰ã€‚ æ¦‚è§ˆ Image not found a.warning-link { color: inherit !important; font-weight: inherit !important; text-decoration: underline !important; border-bottom: none !important; } ç½‘ç«™é“¾æ¥: https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/08/18/16292498443406.jpg é“¾æ¥åˆ°æ–‡ä»¶: /static/https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/08/18/16292498443406.jpg ä½¿ç”¨ Page Bundles: false ç»†èŠ‚ Image not found a.warning-link { color: inherit !important; font-weight: inherit !important; text-decoration: underline !important; border-bottom: none !important; } ç½‘ç«™é“¾æ¥: https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/08/18/16292498964245.jpg é“¾æ¥åˆ°æ–‡ä»¶: /static/https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/08/18/16292498964245.jpg ä½¿ç”¨ Page Bundles: false ç¯å¢ƒæ­å»º æ­å»º Kubernetes ç¯å¢ƒï¼Œå¯ä»¥é€‰æ‹© kubeadm è¿›è¡Œé›†ç¾¤æ­å»ºã€‚ä¹Ÿå¯ä»¥é€‰æ‹© min</description></item><item><title>ä½¿ç”¨ Flomesh å¼ºåŒ– Spring Cloud æœåŠ¡æ²»ç†</title><link>https://atbug.com/enhance-springcloud-service-governance-with-flomesh/</link><pubDate>Tue, 17 Aug 2021 18:47:33 +0800</pubDate><guid>https://atbug.com/enhance-springcloud-service-governance-with-flomesh/</guid><description>
å†™åœ¨æœ€å‰ è¿™ç¯‡æ˜¯å…³äºå¦‚ä½•ä½¿ç”¨ Flomesh æœåŠ¡ç½‘æ ¼æ¥å¼ºåŒ– Spring Cloud çš„æœåŠ¡æ²»ç†èƒ½åŠ›ï¼Œé™ä½ Spring Cloud å¾®æœåŠ¡æ¶æ„è½åœ°æœåŠ¡ç½‘æ ¼çš„é—¨æ§›ï¼Œå®ç°â€œè‡ªä¸»å¯æ§â€ã€‚ æ–‡æ¡£åœ¨ github ä¸ŠæŒç»­æ›´æ–°ï¼Œæ¬¢è¿å¤§å®¶ä¸€èµ·è®¨è®ºï¼šhttps://github.com/flomesh-io/flomesh-bookinfo-demoã€‚ æ¶æ„ Image not found a.warning-link { color: inherit !important; font-weight: inherit !important; text-decoration: underline !important; border-bottom: none !important; } ç½‘ç«™é“¾æ¥: https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/08/17/springdemotypology.png é“¾æ¥åˆ°æ–‡ä»¶: /static/https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/08/17/springdemotypology.png ä½¿ç”¨ Page Bundles: false ç¯å¢ƒæ­å»º æ­å»º Kubernetes ç¯å¢ƒï¼Œå¯ä»¥é€‰æ‹© kubeadm è¿›è¡Œé›†ç¾¤æ­å»ºã€‚ä¹Ÿå¯ä»¥é€‰æ‹© minikubeã€k3sã€Kind ç­‰ï¼Œæœ¬æ–‡ä½¿ç”¨ k3sã€‚ ä½¿ç”¨ k3d å®‰è£… k3sã€‚k3d å°†åœ¨ Docker å®¹å™¨ä¸­è¿è¡Œ k3sï¼Œå› æ­¤éœ€è¦ä¿è¯å·²ç»å®‰è£…äº† Dockerã€‚ $ k3d cluster create spring-demo -p &amp;#34;81:80@loadbalancer&amp;#34; --k3s-server-arg &amp;#39;--no-deploy=traefik&amp;#39; å®‰è£… Flomesh ä»ä»“åº“ https://github.com/flomesh-io/flomesh-bookinfo-demo.git å…‹éš†ä»£ç ã€‚è¿›å…¥åˆ° flomesh-book</description></item><item><title>å¼€æºè¯„ä¼°æ¡†æ¶</title><link>https://atbug.com/a-framework-for-open-source-evaluation/</link><pubDate>Mon, 09 Aug 2021 08:36:21 +0800</pubDate><guid>https://atbug.com/a-framework-for-open-source-evaluation/</guid><description>
æœ¬æ–‡ç”±æœ¬äººç¿»è¯‘è‡ª Bilgin Ibryam çš„ A Framework for Open Source Evaluationï¼Œé¦–å‘åœ¨äº‘åŸç”Ÿç¤¾åŒºåšå®¢ã€‚ å¦‚ä»Šï¼ŒçœŸå‡å¼€æºæ— å¤„ä¸åœ¨ã€‚æœ€è¿‘å¼€æºé¡¹ç›®è½¬ä¸ºé—­æºçš„æ¡ˆä¾‹è¶Šæ¥è¶Šå¤šï¼ŒåŒæ—¶ä¹Ÿæœ‰ä¸å°‘é—­æºé¡¹ç›®ï¼ˆæŒ‰ç…§ OSI å®šä¹‰ï¼‰åƒå¼€æºä¸€æ ·æ„å»ºç¤¾åŒºçš„ä¾‹å­ã€‚è¿™æ€ä¹ˆå¯èƒ½ï¼Œå¼€æºé¡¹ç›®ä¸åº”è¯¥å§‹ç»ˆå¦‚æ­¤å—ï¼Ÿ å¼€æºä¸æ˜¯éé»‘å³ç™½ï¼Œå®ƒå…·æœ‰å¼€æ”¾æ€§ã€é€æ˜ã€åä½œæ€§å’Œä¿¡ä»»æ€§çš„å¤šä¸ªç»´åº¦ã€‚æœ‰äº›å¼€æºæ˜¯ Github ä¸Šçš„ä»»ä½•é¡¹ç›®ï¼Œæœ‰äº›å¿…é¡»é€šè¿‡ OSI å®šä¹‰ï¼Œæœ‰äº›æ˜¯å¿…é¡»éµå®ˆä¸æˆæ–‡ä½†æ™®éæ¥å—çš„å¼€æºè§„èŒƒã€‚è¿™é‡Œé€šè¿‡çœ‹ä¸€äº›å•†ä¸šå’ŒæŠ€æœ¯æ–¹é¢ï¼Œå†è®¨è®ºç¤¾åŒºç®¡ç†ä¹ æƒ¯ï¼Œæ¥åŒå¤§å®¶åˆ†äº«ä¸€ä¸‹æˆ‘å¯¹è¯„ä¼°å¼€æºé¡¹ç›®çš„çœ‹æ³•ã€‚ å…è´£å£°æ˜ è¿™äº›æ˜¯æˆ‘çš„ä¸ªäººè§‚ç‚¹ï¼Œä¸æˆ‘çš„é›‡ä¸»æˆ–æˆ‘æ‰€å±çš„è½¯ä»¶åŸºé‡‘ä¼šå’Œé¡¹ç›®æ— å…³ã€‚ è¿™ä¸æ˜¯æ³•å¾‹æˆ–ä¸“ä¸šæ„è§ï¼ˆæˆ‘ä¸æ˜¯å¾‹å¸ˆï¼Œä¹Ÿä¸æ˜¯ä¸“é—¨ä»äº‹ OSS è¯„ä¼°</description></item><item><title>æ¸¸è®° - 2021 åŒ—ç–†ä¹‹è¡Œ</title><link>https://atbug.com/2021-xinjiang-trip/</link><pubDate>Sat, 07 Aug 2021 09:51:22 +0800</pubDate><guid>https://atbug.com/2021-xinjiang-trip/</guid><description>
è¶ç€æ¢å·¥ä½œçš„é—´éš™ï¼Œæ¥ä¸€åœºâ€œè“„è°‹å·²ä¹…â€ã€â€œè¯´èµ°å°±èµ°â€çš„æ—…è¡Œã€‚ æ–°ç–†ï¼Œæ˜¯ä¸€ä¸ªç¾ä¸½è€Œé¥è¿œçš„åœ°æ–¹ã€‚å‰æ®µæ—¶é—´çœ‹äº†æå¨Ÿçš„ã€Šå†¬ç‰§åœºã€‹ï¼Œæ›´æ˜¯æèµ·äº†æˆ‘å¯¹æ–°ç–†å¯¹æ¸¸ç‰§å“ˆè¨å…‹æ—çš„å…´è¶£ã€‚ä»¥è‡³åæ¥æ¢¦ä¸­è§åˆ°ä¸€æœ›æ— é™…çš„æˆˆå£æ»©ï¼Œè®©è‡ªå·±ä¸‹å®šå†³å¿ƒåšå‡ºæ”¹å˜ã€‚ èƒŒæ™¯ è¿™æ¬¡åŒ—ç–†ä¹‹è¡Œå‡†å¤‡ä»“ä¿ƒï¼Œä»è·¯çº¿æ–¹æ¡ˆåˆ°å¯»æ‰¾åŒä¼´ï¼Œéƒ½æ˜¯å‡ºå‘å‰ä¸€å‘¨æå®šçš„ã€‚ åŒä¼´æ‰¾çš„æ˜¯äº‘åŸç”Ÿç¤¾åŒºçš„ å®‹å‡€è¶… Jimmyï¼ŒåŒæ ·ä¹Ÿæ˜¯è€ä¹¡ï¼ˆä¸¤äººåœ¨å¤–æ¼‚å¤šå¹´ï¼Œæ²Ÿé€šå…¨æ˜¯æ™®é€šè¯ã€‚ã€‚ã€‚ï¼‰ï¼Œä»–ä»åŒ—äº¬å‡ºå‘ã€‚ç”±äºä»–çš„å·¥ä½œæ€§è´¨ç‰¹åˆ«&amp;ndash;è¿œç¨‹å·¥ä½œï¼Œæ‰€ä»¥å½“åˆä¸´æ—¶æ‰¾åŒä¼´çš„æ—¶å€™æƒ³åˆ°äº†ä»–ï¼Œè€Œä¸”è¿˜ä¹Ÿåœ¨æœ‰é©¾ç…§åœ¨æ‰‹ã€‚ä¹Ÿç”±äºä»–éœ€è¦è¿œç¨‹å·¥ä½œï¼Œè¿™æ¬¡æˆ‘ä»¬é€‰æ‹©äº†æˆ¿è½¦è‡ªé©¾ï¼Œæ­£å¥½æœ¬äººä¹Ÿæƒ³ä½“éªŒä¸€ä¸‹æˆ¿è½¦ã€‚ è·¯ä¹¦å‘åœ¨äº†è¿™é‡Œï¼Œå…¨ç¨‹ 2800km+</description></item><item><title>Kubernetes å¿…å¤‡å·¥å…·ï¼š2021</title><link>https://atbug.com/translation-kuberletes-essential-tools-2021/</link><pubDate>Thu, 15 Jul 2021 08:10:22 +0800</pubDate><guid>https://atbug.com/translation-kuberletes-essential-tools-2021/</guid><description>
æœ‰åˆ«äºå‰äº›å¤©çš„æ–‡ç«  - å¸¸ç”¨çš„å‡ æ¬¾å·¥å…·è®© Kubernetes é›†ç¾¤ä¸Šçš„å·¥ä½œæ›´å®¹æ˜“ åé‡äºå·¥å…·ç±»æ¥æå‡å·¥ä½œæ•ˆç‡ï¼Œä»Šå¤©è¿™ç¯‡æ–‡ç« æ›´åŠ é€‚åˆç”¨æ¥åšé€‰å‹æ—¶çš„å‚è€ƒã€‚ æ–‡æ¡£ç¿»è¯‘è‡ª Kubernetes Essential Tools: 2021ï¼Œç¯‡å¹…è¾ƒé•¿ï¼Œåšäº†éƒ¨åˆ†å¢åˆ ã€‚ ä»‹ç» åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†å°è¯•æ€»ç»“æˆ‘æœ€å–œæ¬¢çš„ Kubernetes å·¥å…·ï¼Œå¹¶ç‰¹åˆ«å¼ºè°ƒæœ€æ–°çš„å’Œé²œä¸ºäººçŸ¥ä½†æˆ‘è®¤ä¸ºä¼šéå¸¸æµè¡Œçš„å·¥å…·ã€‚ è¿™åªæ˜¯æˆ‘æ ¹æ®æˆ‘çš„ç»éªŒå¾—å‡ºçš„ä¸ªäººæ¸…å•ï¼Œä½†ä¸ºäº†é¿å…åè§ï¼Œæˆ‘è¿˜å°†å°è¯•æåŠæ¯ç§å·¥å…·çš„æ›¿ä»£æ–¹æ¡ˆï¼Œä»¥ä¾¿ä½ å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€è¦è¿›è¡Œæ¯”è¾ƒå’Œå†³å®šã€‚æˆ‘å°†å°½å¯èƒ½ç¼©çŸ­è¿™ç¯‡æ–‡ç« å¹¶æä¾›é“¾æ¥ï¼Œä»¥ä¾¿ä½ å¯ä»¥è‡ªè¡Œæ¢ç´¢æ›´å¤šå†…å®¹ã€‚æˆ‘çš„ç›®æ ‡æ˜¯å›ç­”è¿™ä¸ªé—®é¢˜ï¼šâ€œæˆ‘å¦‚ä½•åœ¨ Kubernetes ä¸­åš Xï¼Ÿâ€ é€šè¿‡æè¿°ä¸åŒè½¯ä»¶å¼€å‘ä»»åŠ¡çš„å·¥å…·ã€‚ K3D K3D æ˜¯æˆ‘æœ€å–œæ¬¢çš„åœ¨ç¬”è®°æœ¬ç”µè„‘ä¸Šè¿è¡Œ Kubernetes (K8s) é›†ç¾¤çš„æ–¹å¼ã€‚å®ƒéå¸¸è½»å·§ä¸”é€Ÿ</description></item><item><title>Rego ä¸å¥½ç”¨ï¼Ÿç”¨ Pipy å®ç° OPA</title><link>https://atbug.com/pipy-implement-kubernetes-admission-control/</link><pubDate>Tue, 13 Jul 2021 08:44:56 +0800</pubDate><guid>https://atbug.com/pipy-implement-kubernetes-admission-control/</guid><description>
è¿˜ä¸çŸ¥é“ Pipy æ˜¯ä»€ä¹ˆçš„åŒå­¦å¯ä»¥çœ‹ä¸‹ GitHub ã€‚ Pipy æ˜¯ä¸€ä¸ªè½»é‡çº§ã€é«˜æ€§èƒ½ã€é«˜ç¨³å®šã€å¯ç¼–ç¨‹çš„ç½‘ç»œä»£ç†ã€‚Pipy æ ¸å¿ƒæ¡†æ¶ä½¿ç”¨ C++ å¼€å‘ï¼Œç½‘ç»œ IO é‡‡ç”¨ ASIO åº“ã€‚ Pipy çš„å¯æ‰§è¡Œæ–‡ä»¶ä»…æœ‰ 5M å·¦å³ï¼Œè¿è¡ŒæœŸçš„å†…å­˜å ç”¨ 10M å·¦å³ï¼Œå› æ­¤ Pipy éå¸¸é€‚åˆåš Sidecar proxyã€‚ Pipy å†…ç½®äº†è‡ªç ”çš„ pjs ä½œä¸ºè„šæœ¬æ‰©å±•ï¼Œä½¿å¾—Pipy å¯ä»¥ç”¨ JS è„šæœ¬æ ¹æ®ç‰¹å®šéœ€æ±‚å¿«é€Ÿå®šåˆ¶é€»è¾‘ä¸åŠŸèƒ½ã€‚ Pipy é‡‡ç”¨äº†æ¨¡å—åŒ–ã€é“¾å¼çš„å¤„ç†æ¶æ„ï¼Œç”¨é¡ºåºæ‰§è¡Œçš„æ¨¡å—æ¥å¯¹ç½‘ç»œæ•°æ®å—è¿›è¡Œå¤„ç†ã€‚è¿™ç§ç®€å•çš„æ¶æ„ä½¿å¾— Pipy åº•å±‚ç®€å•å¯é ï¼ŒåŒæ—¶å…·å¤‡äº†åŠ¨æ€ç¼–æ’æµé‡çš„èƒ½åŠ›ï¼Œå…¼é¡¾äº†ç®€å•å’Œçµæ´»ã€‚é€šè¿‡ä½¿ç”¨ REUSE_PORT çš„æœºåˆ¶ï¼ˆä¸»æµ Linux å’Œ BSD ç‰ˆæœ¬éƒ½æ”¯æŒè¯¥åŠŸèƒ½ï¼‰ï¼ŒPipy å¯ä»¥ä»¥å¤šè¿›ç¨‹æ¨¡å¼è¿è¡Œï¼Œä½¿å¾— Pipy ä¸ä»…é€‚ç”¨äº Sidecar æ¨¡å¼ï¼Œä¹Ÿé€‚ç”¨äºå¤§è§„æ¨¡çš„æµé‡å¤„ç†åœºæ™¯ã€‚ åœ¨å®è·µä¸­ï¼ŒPipy ç‹¬</description></item><item><title>Open Policy Agent: Top 5 Kubernetes å‡†å…¥æ§åˆ¶ç­–ç•¥</title><link>https://atbug.com/open-policy-agent-top-5-kubernetes-admission-control/</link><pubDate>Mon, 12 Jul 2021 08:20:40 +0800</pubDate><guid>https://atbug.com/open-policy-agent-top-5-kubernetes-admission-control/</guid><description>
å¦‚ä½•ä½¿ç”¨ Open Policy Agent å®ç°å‡†å…¥ç­–ç•¥æ§åˆ¶ï¼Œå¯ä»¥å‚è€ƒè¿™é‡Œ æœ¬æ–‡ç¿»è¯‘è‡ª Open Policy Agent: The Top 5 Kubernetes Admission Control Policies Kubernetes å¼€å‘äººå‘˜å’Œå¹³å°å·¥ç¨‹å¸ˆé€šå¸¸æ‰¿å—ç€éå¸¸å¤§çš„å‹åŠ›ï¼Œä»¥ä¿æŒåº”ç”¨ç¨‹åºéƒ¨ç½²çš„å¿«é€Ÿè¿›è¡Œï¼Œå¹¶ä¸”æ€»æ˜¯ä¸ºäº†é€Ÿåº¦å’Œè¿›åº¦è€Œåšå‡ºå¦¥åã€‚å¹³å°å›¢é˜Ÿè¶Šæ¥è¶Šæœ‰è´£ä»»ç¡®ä¿è¿™äº›å¦¥åï¼ˆä¾‹å¦‚ç®¡ç† Ingressï¼‰ä¸ä¼šå¯¼è‡´å®¢æˆ·æ•°æ®æš´éœ²åœ¨æ•´ä¸ªäº’è”ç½‘ä¸Šç­‰åæœã€‚ å¹¸è¿çš„æ˜¯ï¼ŒKubernetes æä¾›äº†è®¾ç½®ç­–ç•¥çš„èƒ½åŠ›ï¼Œé€šè¿‡æ£€æŸ¥å¹¶é˜²æ­¢éƒ¨ç½²é”™è¯¯å°†å…¶æŠ•å…¥ç”Ÿäº§ï¼Œä»è€Œé¿å…è¿™äº›åæœã€‚ä¸ºäº†ç¡®ä¿å›¢é˜Ÿçš„åº”ç”¨ç¨‹åºä¸ä¼šæ¯”ä¿¡å¿ƒæ›´é‡è¦ï¼Œä»¥ä¸‹æ˜¯ç°åœ¨åº”è¯¥åœ¨é›†ç¾¤ä¸­è¿è¡Œçš„å‰äº”ä¸ª Kubernetes å‡†å…¥æ§åˆ¶ç­–ç•¥ã€‚ 1. å¯ä¿¡é•œåƒä»“åº“ æ­¤ç­–ç•¥å¾ˆç®€å•ï¼Œä½†åŠŸèƒ½å¼ºå¤§ï¼šä»…å…è®¸ä»å—ä¿¡ä»»çš„é•œåƒä»“åº“ä¸­æ‹‰å–çš„å®¹å™¨æ˜ åƒï¼Œå¹¶ä¸”å¯ä»¥é€‰æ‹©ä»…æ‹‰å–ä¸å…è®¸çš„ä»“åº“é•œåƒåœ°å€</description></item><item><title>Kubernetes çš„é­”åŠ›åœ¨äºä¼ä¸šæ ‡å‡†åŒ–ï¼Œè€Œä¸æ˜¯åº”ç”¨ç¨‹åºçš„å¯ç§»æ¤æ€§</title><link>https://atbug.com/translation-kubernetes-magic-is-in-enterprise-standardization-not-app-portability/</link><pubDate>Sun, 11 Jul 2021 08:05:42 +0800</pubDate><guid>https://atbug.com/translation-kubernetes-magic-is-in-enterprise-standardization-not-app-portability/</guid><description>
ç¬”è€…ï¼šKubernetes æŠ½è±¡äº†èµ„æºå’Œå·¥ä½œè´Ÿè½½çš„æ“ä½œæ¨¡å¼ï¼Œç»Ÿä¸€äº†å·¥å…·é›†ï¼Œå®ç°äººæœºæ¥å£çš„æ ‡å‡†åŒ–ã€‚æ­£å¦‚ç±» Docker å·¥å…·æä¾›äº†åº”ç”¨è¿è¡Œæ—¶çš„æ“ä½œæ¨¡å¼ï¼›Spring Framework æä¾›äº† Java åº”ç”¨çš„å¼€å‘æ¨¡å¼ã€‚ Kubernetes æ˜¯å…³äºè·¨äº‘çš„æŠ€èƒ½ã€å·¥å…·å’Œå®è·µçš„å¯ç§»æ¤æ€§ã€‚ä¸æ˜¯å·¥ä½œè´Ÿè½½çš„å¯ç§»æ¤æ€§ã€‚ &amp;ndash; Bilgin Lbryam @bibryam æœ¬æ–‡ç¿»è¯‘è‡ª Kubernetes magic is in enterprise standardization, not app portability Kubernetes ä¸ä¼šç¥å¥‡åœ°ä½¿ä½ çš„åº”ç”¨ç¨‹åºå…·æœ‰å¯ç§»æ¤æ€§ï¼Œä½†å®ƒå¯èƒ½ä¼šç»™ä½ å¸¦æ¥æ›´å¥½çš„ä¸œè¥¿ã€‚ äº‘ä¸ºä¼ä¸šæä¾›äº†çœ‹ä¼¼æ— é™çš„é€‰æ‹©ã€‚ç„¶è€Œï¼Œæ ¹æ® Canonical-sponsored çš„ä¸€é¡¹è°ƒæŸ¥ï¼Œè¿™å¹¶ä¸æ˜¯å¤§å¤šæ•°ä¼ä¸šé‡‡ç”¨ Kubernetes ç­‰äº‘å‹å¥½æŠ€æœ¯çš„åŸå› ã€‚ç›¸åï¼ŒKubernetes çš„ä¸»è¦ç›®æ ‡æ˜¯æ ‡å‡†åŒ–â€”â€”å¤–è§‚å’Œæ“ä½œä¸å…¶ä»–äººä¸€æ ·ã€‚ å¯ç§»æ¤æ€§ä¸æ˜¯ç›®æ ‡ æˆ‘ä¹‹å‰å·²ç»è®¨è®ºè¿‡è¿™ä¸ªé—®é¢˜ï¼Œå‚è€ƒäº† Gartner å…³äº Kubernetes å’Œå¯ç§»æ¤æ€§çš„æŒ‡å—ã€‚è®¸å¤šäººè®¤ä¸º K</description></item><item><title>ä½¿ç”¨ Open Policy Agent å®ç°å¯ä¿¡é•œåƒä»“åº“æ£€æŸ¥</title><link>https://atbug.com/image-trusted-repository-with-open-policy-agent/</link><pubDate>Sat, 10 Jul 2021 07:14:47 +0800</pubDate><guid>https://atbug.com/image-trusted-repository-with-open-policy-agent/</guid><description>
ä»äº’è”ç½‘ï¼ˆæˆ–å¯ä¿¡é•œåƒä»“åº“åº“ä»¥å¤–çš„ä»»ä½•åœ°æ–¹ï¼‰æ‹‰å–æœªçŸ¥é•œåƒä¼šå¸¦æ¥é£é™©â€”â€”ä¾‹å¦‚æ¶æ„è½¯ä»¶ã€‚ä½†æ˜¯è¿˜æœ‰å…¶ä»–å¾ˆå¥½çš„ç†ç”±æ¥ç»´æŠ¤å•ä¸€çš„å¯ä¿¡æ¥æºï¼Œä¾‹å¦‚åœ¨ä¼ä¸šä¸­å®ç°å¯æ”¯æŒæ€§ã€‚é€šè¿‡ç¡®ä¿é•œåƒä»…æ¥è‡ªå—ä¿¡ä»»çš„é•œåƒä»“åº“ï¼Œå¯ä»¥å¯†åˆ‡æ§åˆ¶é•œåƒåº“å­˜ï¼Œé™ä½è½¯ä»¶ç†µå’Œè”“å»¶çš„é£é™©ï¼Œå¹¶æé«˜é›†ç¾¤çš„æ•´ä½“å®‰å…¨æ€§ã€‚é™¤æ­¤ä»¥å¤–ï¼Œæœ‰æ—¶è¿˜ä¼šéœ€è¦æ£€æŸ¥é•œåƒçš„ tagï¼Œæ¯”å¦‚ç¦æ­¢ä½¿ç”¨ latest é•œåƒã€‚ è¿™ä»Šå¤©æˆ‘ä»¬å°è¯•ç”¨â€œç­–ç•¥å³ä»£ç â€çš„å®ç° OPA æ¥å®ç°åŠŸèƒ½ã€‚ è¿˜æ²¡å¼€å§‹ä¹‹å‰å¯èƒ½æœ‰äººä¼šé—®ï¼šæ˜æ˜å¯ä»¥å®ç°ä¸ª Admission Webhook å°±è¡Œï¼Œä¸ºä»€ä¹ˆè¿˜è¦åŠ ä¸Š OPAï¼Ÿ ç¡®å®å¯ä»¥ï¼Œä½†æ˜¯è¿™æ ·ç­–ç•¥å’Œé€»è¾‘éƒ½ä¼šè€¦åˆåœ¨ä¸€èµ·ï¼Œå½“ç­–ç•¥éœ€è¦è°ƒæ•´çš„æ—¶å€™éœ€è¦ä¿®æ”¹ä»£ç é‡æ–°å‘å¸ƒã€‚è€Œ OPA å°±æ˜¯ç”¨æ¥åšè§£è€¦çš„ï¼Œå…¶æ›´åƒæ˜¯ä¸€ä¸ªç­–ç•¥çš„æ‰§è¡Œå¼•æ“ã€‚ ä»€ä¹ˆæ˜¯ OPA Open Policy Agentï¼ˆ</description></item><item><title>Kubernetes CKA è¯ä¹¦å¤‡è€ƒç¬”è®°</title><link>https://atbug.com/notes-for-cka-preparation/</link><pubDate>Fri, 02 Jul 2021 08:02:15 +0800</pubDate><guid>https://atbug.com/notes-for-cka-preparation/</guid><description>
Kubernetes ä½¿ç”¨æœ‰å¥½å‡ å¹´äº†ï¼Œä½†åœ¨ä»Šå¹´ 5 æœˆæ‰å®Œæˆ CKA çš„è€ƒè¯•ã€‚è™½è¯´ç”¨äº†å‡ å¹´ï¼Œè¿˜æ˜¯æå‰åˆ·äº†éƒ¨åˆ†é¢˜ç†Ÿæ‚‰ä¸‹ã€‚ ç»å¤§éƒ¨åˆ†é¢˜éƒ½æ˜¯æœ‰åœ¨ minikube çš„ç¯å¢ƒä¸Šæ“ä½œè¿‡ï¼Œåªæœ‰éƒ¨åˆ†æ¯”å¦‚å‡çº§é›†ç¾¤å—é™äºç¯å¢ƒé—®é¢˜æ²¡æœ‰å®åœ°æ“ä½œã€‚ å†™åœ¨æœ€å‰ ä¿å­˜å¸¸ç”¨æ–‡æ¡£è¿›ä¹¦ç­¾ï¼Œå¦‚æœæœ‰ Alfred å¯ç”¨æµè§ˆå™¨ä¹¦ç­¾ workflowã€‚æ•ˆæœè§ä¸‹å›¾ kubectl è‡ªåŠ¨è¡¥å…¨ echo &amp;quot;source &amp;lt;(kubectl completion bash)&amp;quot; &amp;gt;&amp;gt; ~/.bashrc; source ~/.bashrc æ¯é“é¢˜å¼€å§‹å‰è¦åˆ‡æ¢ context å’Œ namespaceï¼Œç›´æ¥å¤åˆ¶é¢˜ç›®é‡Œçš„å‘½ä»¤å³å¯ å¿…è¦çš„ alias å–„ç”¨ --dry-run=client -o yaml é¿å…æ‰‹åŠ¨æ•²å¤ªå¤š å–„ç”¨ kubectl explain [resource[.field]] çœ‹æ‡‚é¢˜ç›®æœ€é‡è¦ï¼Œè¾“å‡ºæ­£ç¡®çš„ç»“æœæ›´é‡è¦ï¼ˆé‡è¦çš„äº‹è®²ä¸‰éï¼‰ çœ‹æ‡‚é¢˜ç›®æœ€é‡è¦ï¼Œè¾“å‡ºæ­£ç¡®çš„ç»“æœæ›´é‡è¦ï¼ˆé‡è¦çš„äº‹è®²ä¸‰éï¼‰ çœ‹æ‡‚é¢˜ç›®æœ€é‡è¦ï¼Œè¾“å‡ºæ­£ç¡®çš„ç»“æœæ›´é‡è¦ï¼ˆé‡è¦çš„äº‹è®²ä¸‰éï¼‰ ä¹¦ç­¾åœ°å€ï¼šK8s-CKA-CAKD-Bookmarks</description></item><item><title>å¯ç¼–ç¨‹ç½‘å…³ Pipy ç¬¬ä¸‰å¼¹ï¼šäº‹ä»¶æ¨¡å‹è®¾è®¡</title><link>https://atbug.com/pipy-event-handling-design/</link><pubDate>Sun, 27 Jun 2021 09:38:18 +0800</pubDate><guid>https://atbug.com/pipy-event-handling-design/</guid><description>
è‡ªä»å‚åŠ äº† Flomesh çš„ workshopï¼Œäº†è§£äº†å¯ç¼–ç¨‹ç½‘å…³ Pipyã€‚å¯¹è¿™ä¸ªâ€œå°ä¸œè¥¿â€å……æ»¡äº†å¥½å¥‡ï¼Œå‰åå†™äº†ä¸¤ç¯‡æ–‡ç« ï¼Œçœ‹äº†éƒ¨åˆ†æºç è§£å¼€äº†å…¶éƒ¨åˆ†é¢çº±ã€‚ä½†å§‹ç»ˆæœªè§å…¶å…¨è²Œï¼Œæ²¡æœ‰è§¦åŠå…¶æ ¸å¿ƒè®¾è®¡ã€‚ ä¸æ˜¯æœ‰å¥è¯ï¼Œâ€œå¥½å¥‡å®³æ­»çŒ«â€ã€‚å…¶å®åº”è¯¥è¿˜æœ‰ååŠå¥ï¼Œâ€œæ»¡è¶³äº†å°±æ²¡äº‹â€ï¼ˆè§ç»´åŸºç™¾ç§‘ï¼‰ã€‚ æ‰€æœ‰å°±æœ‰äº†ä»Šå¤©çš„è¿™ä¸€ç¯‡ï¼Œå¯¹å‰ä¸¤ç¯‡æ„Ÿå…´è¶£çš„å¯ä»¥è·³è½¬ç¿»çœ‹ã€‚ åˆæ¢å¯ç¼–ç¨‹ç½‘å…³ Pipy å¯ç¼–ç¨‹ç½‘å…³ Pipy ç¬¬äºŒå¼¹ï¼šç¼–ç¨‹å®ç° Metrics åŠæºç è§£è¯» è¨€å½’æ­£ä¼ ã€‚ äº‹ä»¶æ¨¡å‹ ä¸Šç¯‡å†™äº† Pipy åŸºäºäº‹ä»¶çš„ä¿¡æ¯æµè½¬ï¼Œå…¶å®è¿˜æœªæ·±å…¥è§¦åŠå…¶æ ¸å¿ƒçš„äº‹ä»¶æ¨¡å‹ã€‚æ—¢ç„¶æ˜¯äº‹ä»¶æ¨¡å‹ï¼Œå…ˆçœ‹äº‹ä»¶ã€‚ src/event.hpp:41 ä¸­å®šä¹‰äº† Pipy çš„å››ç§äº‹ä»¶ï¼š Data MessageStart MessageEnd SessionEnd ç¿»çœ‹æºç å¯çŸ¥ï¼ˆå¿…é¡»åæ§½æ–‡æ¡£å¤ªå°‘ï¼‰è¿™å‡ ç§äº‹ä»¶å…¶å®æ˜¯æœ‰é¡ºåºçš„ï¼šMessageStart -&amp;gt; Data -&amp;gt; MessageEnd -&amp;gt; Ses</description></item><item><title>å¸¸ç”¨çš„å‡ æ¬¾å·¥å…·è®© Kubernetes é›†ç¾¤ä¸Šçš„å·¥ä½œæ›´å®¹æ˜“</title><link>https://atbug.com/tools-accelerate-work-on-kubernetes-cluster/</link><pubDate>Sat, 26 Jun 2021 12:16:28 +0800</pubDate><guid>https://atbug.com/tools-accelerate-work-on-kubernetes-cluster/</guid><description>
ä¹‹å‰å†™è¿‡ä¸€ç¯‡ ä»‹ç»äº†å·¥å…·åŠ é€Ÿäº‘åŸç”Ÿ Java å¼€å‘ã€‚ å…¶å®æ—¥å¸¸å·¥ä½œä¸­åœ¨é›†ç¾¤ä¸Šçš„æ“ä½œä¹Ÿéå¸¸å¤šï¼Œä»Šå¤©å°±æ¥ä»‹ç»æˆ‘æ‰€ä½¿ç”¨çš„å·¥å…·ã€‚ kubectl-alias ä½¿ç”¨é¢‘ç‡æœ€é«˜çš„å·¥å…·ï¼Œæˆ‘è‡ªå·±ç¨å¾®ä¿®æ”¹äº†ä¸€ä¸‹ï¼ŒåŠ å…¥äº† StatefulSet çš„æ”¯æŒã€‚ è¿™ä¸ªæ˜¯æˆ‘çš„ https://github.com/addozhang/kubectl-aliasesï¼ŒåŸºäº https://github.com/ahmetb/kubectl-aliasesã€‚ æ¯”å¦‚è¾“å‡ºæŸä¸ª pod çš„ jsonï¼Œkgpoojson xxx ç­‰åŒäº kubectl get pod xxx -o jsonã€‚ ç»“åˆ jq ä½¿ç”¨æ•ˆæœæ›´å¥½ ğŸ˜‚ã€‚ è¯­æ³•è§£è¯» k=kubectl sys=--namespace kube-system commands: g=get d=describe rm=delete a:apply -f ak:apply -k k:kustomize ex: exec -i -t lo: logs -f resources: po=pod, dep=deployment, ing=ingress, svc=service, cm=configmap, sec=secret,ns=namespace, no=node flags: output format: oyaml, ojson, owide all: --all or --all-namespaces depending on the command sl: --show-labels w=-w/--watch value flags (should be at the end): n=-n/--namespace f=-f/--filename l=-l/--selector kubectx + kubens å®‰è£…çœ‹è¿™é‡Œ kubectx ç”¨äºåœ¨ä¸åŒçš„é›†ç¾¤é—´</description></item><item><title>Jenkins å¦‚ä½•ä¸ Kubernetes é›†ç¾¤çš„ Tekton Pipeline äº¤äº’ï¼Ÿ</title><link>https://atbug.com/jenkins-interact-with-tekton-pipelines-via-plugin/</link><pubDate>Wed, 23 Jun 2021 07:58:45 +0800</pubDate><guid>https://atbug.com/jenkins-interact-with-tekton-pipelines-via-plugin/</guid><description>
æœ¬æ–‡è¯¦ç»†ä»‹ç»äº† Jenkins å¦‚ä½•é€šè¿‡ tekton-client-plugin å®ç°ä¸ Kubernetes ä¸Šçš„ Tekton Pipeline äº¤äº’ï¼ŒåŒ…æ‹¬ Kubernetes ä¸Šå®‰è£… Jenkinsã€Tekton Pipelines ç­‰ã€‚ å…³äºå¦‚ä½•ä½¿ç”¨ Tekton Pipeline å®ç° CICD å¯ä»¥çœ‹è¿™ç¯‡æ–‡ç«  äº‘åŸç”Ÿ CICD: Tekton Pipeline å®æˆ˜ æœ¬æ–‡ç”¨äºæ„å»ºçš„é¡¹ç›®ä»¥åŠæ‰€æœ‰ manifest yaml éƒ½åœ¨å¯ä»¥åœ¨è¿™é‡Œä¸‹è½½ã€‚ TL;DR æƒ¯ä¾‹ï¼Œå…ˆä¸Šæ€»ç»“ã€‚tekton-client-plugin è™½ç„¶è¿˜æ˜¯å¤„äºåˆæœŸé˜¶æ®µï¼Œä½†æ˜¯ å…¶ä»·å€¼éå¸¸æ˜æ˜¾ï¼Œå°¤å…¶æ˜¯å¯¹å…ˆç”¨ä½¿ç”¨ Jenkins ä½œä¸º CICD å®ç°çš„ç”¨æˆ·æ¥è¯´ã€‚ä» Jenkins è¿ç§»åˆ°äº‘åŸç”Ÿçš„ Tekton æ—¶ï¼Œå¯ä»¥çœæ‰ç”¨æˆ·ç•Œé¢çš„å¼€å‘æˆæœ¬ï¼Œè€Œä¸”å°½å¯èƒ½å°‘çš„æ”¹å˜ç”¨æˆ·ä¹ æƒ¯ ï¼Œä¾é ç‰ˆæœ¬ç®¡ç†å¯ä»¥æ§åˆ¶è¿ç§»çš„èŠ‚å¥ã€‚ tekton-client-plugin åœ¨ä»Šå¹´ 5 æœˆ 7 æ—¥å‘å¸ƒçš„ 1.0.0 ç‰ˆæœ¬ï¼Œç›®å‰ä¸º 1.0.02ã€‚ç›®å‰è¿˜å¤„äºåˆæœŸé˜¶æ®µï¼Œæˆ‘ä¸ªäººæ„Ÿè§‰ç›®å‰ä»…ä»…ç®—æ˜¯æ‰“é€š Jenkins ä¸ Tekton äº¤äº’è¿™æ¡è·¯ï¼Œæ‰©å±•æ€§è¿˜ä¸å¤Ÿå¥½ã€‚ æ¯”å¦‚ç›®å‰ä»…ä»…æ”¯æŒå¦‚ä¸‹å‡ </description></item><item><title>äº‘åŸç”Ÿ CICD: Tekton Pipeline å®æˆ˜</title><link>https://atbug.com/tekton-pipeline-practice/</link><pubDate>Tue, 22 Jun 2021 07:19:33 +0800</pubDate><guid>https://atbug.com/tekton-pipeline-practice/</guid><description>
æ›´æ–°å†å²ï¼š v1ï¼š2020.1.21 åŸºäº Tekton Pipline v0.9.0 v2ï¼ˆå½“å‰ï¼‰ï¼š2021.6.22 åŸºäº Tekton Pipeline v0.25.0 Tekton æ˜¯ Google å¼€æºçš„ Kubernetes åŸç”ŸCI/CD ç³»ç»Ÿ, åŠŸèƒ½å¼ºå¤§æ‰©å±•æ€§å¼º. å‰èº«æ˜¯ Knavite é‡Œçš„ build-pipeline é¡¹ç›®, åæœŸå­µåŒ–æˆç‹¬ç«‹çš„é¡¹ç›®. å¹¶æˆä¸º CDF ä¸‹çš„å››ä¸ªé¡¹ç›®ä¹‹ä¸€, å…¶ä»–ä¸‰ä¸ªåˆ†åˆ«æ˜¯ Jenkins, Jenkins X, Spinnaker. ä¸ºä»€ä¹ˆè¯´ Tekton æ˜¯ Kubernetes åŸç”Ÿçš„, ä»¥å†…å…¶åŸºäº Kubernetes çš„ CRD å®šä¹‰äº† Pipeline æµæ°´çº¿. Image not found a.warning-link { color: inherit !important; font-weight: inherit !important; text-decoration: underline !important; border-bottom: none !important; } ç½‘ç«™é“¾æ¥: https://raw.githubusercontent.com/addozhang/oss/master/uPic/bquuTV.jpg é“¾æ¥åˆ°æ–‡ä»¶: /static/https://raw.githubusercontent.com/addozhang/oss/master/uPic/bquuTV.jpg ä½¿ç”¨ Page Bundles: false CRD åŠè¯´æ˜: Task: æ„å»ºä»»åŠ¡, å¯ä»¥å®šä¹‰ä¸€äº›åˆ—çš„ steps. æ¯ä¸ª step ç”±ä¸€ä¸ª container æ‰§è¡Œ. TaskRun: task å®é™…çš„æ‰§è¡Œ, å¹¶æä¾›æ‰§è¡Œæ‰€éœ€çš„å‚æ•°. è¿™ä¸ªå¯¹è±¡åˆ›å»ºå, å°±ä¼šæœ‰ pod è¢«åˆ›å»º. Pipeline: å®šä¹‰ä¸€ä¸ªæˆ–è€…å¤šä¸ª task çš„æ‰§è¡Œ, ä»¥åŠ PipelineResource å’Œå„ç§å®šä¹‰å‚æ•°çš„é›†åˆ PipelineRun: ç±»ä¼¼ task å’Œ taskrun çš„å…³ç³»: ä¸€ä¸ªå®šä¹‰ä¸€ä¸ªæ‰§è¡Œ. PipelineRun åˆ™æ˜¯ pipeline çš„å®é™…æ‰§è¡Œ. åˆ›å»º</description></item><item><title>æºç è§£æï¼šä¸€æ–‡è¯»æ‡‚ Kubelet</title><link>https://atbug.com/kubelet-source-code-analysis/</link><pubDate>Tue, 15 Jun 2021 08:25:25 +0800</pubDate><guid>https://atbug.com/kubelet-source-code-analysis/</guid><description>
æœ¬æ–‡ä¸»è¦ä»‹ç» kubelet åŠŸèƒ½ã€æ ¸å¿ƒç»„ä»¶ï¼Œä»¥åŠå¯åŠ¨æµç¨‹çš„æºç åˆ†æï¼Œæ€»ç»“äº† kubelet çš„å·¥ä½œåŸç†ã€‚ kubelet ç®€ä»‹ Image not found a.warning-link { color: inherit !important; font-weight: inherit !important; text-decoration: underline !important; border-bottom: none !important; } ç½‘ç«™é“¾æ¥: https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/06/15/20210613091144.png é“¾æ¥åˆ°æ–‡ä»¶: /static/https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/06/15/20210613091144.png ä½¿ç”¨ Page Bundles: false ä»å®˜æ–¹çš„æ¶æ„å›¾ä¸­å¾ˆå®¹æ˜“å°±èƒ½æ‰¾åˆ° kubelet æ‰§è¡Œ kubelet -h çœ‹åˆ° kubelet çš„åŠŸèƒ½ä»‹ç»ï¼š kubelet æ˜¯æ¯ä¸ª Node èŠ‚ç‚¹ä¸Šéƒ½è¿è¡Œçš„ä¸»è¦â€œèŠ‚ç‚¹ä»£ç†â€ã€‚ä½¿ç”¨å¦‚ä¸‹çš„ä¸€ä¸ªå‘ apiserver æ³¨å†Œ Node èŠ‚ç‚¹ï¼šä¸»æœºçš„ hostnameï¼›è¦†ç›– host çš„å‚æ•°ï¼›æˆ–è€…äº‘æä¾›å•†æŒ‡å®šçš„é€»è¾‘ã€‚ kubelet åŸºäº PodSpec å·¥ä½œã€‚PodSpec æ˜¯ç”¨ YAML æˆ–è€… JSON å¯¹è±¡æ¥æè¿° Podã€‚Kubelet æ¥å—é€šè¿‡å„ç§æœºåˆ¶ï¼ˆä¸»è¦æ˜¯ apiserverï¼‰æä¾›çš„ä¸€ç»„ PodSpecï¼Œå¹¶ç¡®ä¿é‡Œé¢æè¿°çš„å®¹å™¨è‰¯å¥½è¿è¡Œã€‚ é™¤äº†ç”± apiserver æä¾› PodSpecï¼Œè¿˜å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼æä¾›ï¼š æ–‡ä»¶ HTTP ç«¯ç‚¹ HTTP æœåŠ¡å™¨ kubelet åŠŸèƒ½å½’çº³ä¸€ä¸‹</description></item><item><title>å¯ç¼–ç¨‹ç½‘å…³ Pipy ç¬¬äºŒå¼¹ï¼šç¼–ç¨‹å®ç° Metrics åŠæºç è§£è¯»</title><link>https://atbug.com/programming-archive-metrics-with-pipy/</link><pubDate>Fri, 11 Jun 2021 08:27:36 +0800</pubDate><guid>https://atbug.com/programming-archive-metrics-with-pipy/</guid><description>
ç”±äºè¦ç»™å›¢é˜Ÿåšä¸€ä¸‹å…³äº Flomesh çš„åˆ†äº«ï¼Œå‡†å¤‡ä¸‹ææ–™ã€‚ â€œåˆ†äº«æ˜¯æœ€å¥½çš„å­¦ä¹ æ–¹æ³•ã€‚â€ ä¸Šä¸€å›åˆæ¢å¯ç¼–ç¨‹ç½‘å…³ Pipyï¼Œé¢†ç•¥äº† Pipy çš„â€œé£éªšâ€ã€‚ä» Pipy çš„ GUI äº¤äº’æ·±å…¥äº†è§£äº† Pipy çš„é…ç½®åŠ è½½æµç¨‹ã€‚ ä»Šå¤©çœ‹ä¸€ä¸‹ Pipy å¦‚ä½•å®ç° Metrics çš„åŠŸèƒ½ï¼Œé¡ºä¾¿çœ‹ä¸‹æ•°æ®å¦‚ä½•åœ¨å¤šä¸ª Pipeline ä¸­è¿›è¡Œæµè½¬ã€‚ å‰ç½® é¦–å…ˆï¼Œéœ€è¦å¯¹ Pipy æœ‰ä¸€å®šçš„äº†è§£ï¼Œå¦‚æœä¸äº†è§£çœ‹ä¸€ä¸‹ä¸Šä¸€ç¯‡æ–‡ç« ã€‚ å…¶æ¬¡æ„å»ºå¥½ Pipy ç¯å¢ƒï¼Œå…³äºæ„å»ºè¿˜æ˜¯å»çœ‹ä¸Šä¸€ç¯‡æ–‡ç« ã€‚ Metrics åŠŸèƒ½å®ç° è‡³äº Pipy å®ç° Metrics çš„æ–¹å¼ï¼Œæºç ä¸­å°±æœ‰ï¼Œä½äº test/006-metrics/pipy.jsã€‚ Image not found a.warning-link { color: inherit !important; font-weight: inherit !important; text-decoration: underline !important; border-bottom: none !important; } ç½‘ç«™é“¾æ¥: https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/06/10/20210610202734.png é“¾æ¥åˆ°æ–‡ä»¶: /static/https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/06/10/20210610202734.png ä½¿ç”¨ Page Bundles: false ä»£ç†ç›‘å¬ 6080 ç«¯å£ï¼Œåç«¯æœåŠ¡åœ¨ 8080 ç«¯å£ï¼ŒMetrics åœ¨ 9090 ç«¯å£ å…±æœ‰ 5 ä¸ª Pipelineï¼š3 ä¸ª listen ç±»å‹ï¼Œ2 ä¸ª Pipeline</description></item><item><title>Kubernetes çš„è‡ªåŠ¨ä¼¸ç¼©ä½ ç”¨å¯¹äº†å—ï¼Ÿ</title><link>https://atbug.com/auto-scaling-best-practice-in-kubernetes/</link><pubDate>Wed, 09 Jun 2021 00:34:25 +0800</pubDate><guid>https://atbug.com/auto-scaling-best-practice-in-kubernetes/</guid><description>
æœ¬æ–‡ç¿»è¯‘è‡ª learnk8s çš„ Architecting Kubernetes clusters â€” choosing the best autoscaling strategyï¼Œæœ‰å¢åˆ éƒ¨åˆ†å†…å®¹ã€‚ Image not found a.warning-link { color: inherit !important; font-weight: inherit !important; text-decoration: underline !important; border-bottom: none !important; } ç½‘ç«™é“¾æ¥: https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/06/09/cleanshot-20210608-at-2159402x.png é“¾æ¥åˆ°æ–‡ä»¶: /static/https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/06/09/cleanshot-20210608-at-2159402x.png ä½¿ç”¨ Page Bundles: false TL;DR: åœ¨é»˜è®¤è®¾ç½®ä¸‹ï¼Œæ‰©å±• Kubernetes é›†ç¾¤ä¸­çš„ pod å’ŒèŠ‚ç‚¹å¯èƒ½éœ€è¦å‡ åˆ†é’Ÿæ—¶é—´ã€‚äº†è§£å¦‚ä½•è°ƒæ•´é›†ç¾¤èŠ‚ç‚¹çš„å¤§å°ã€é…ç½®æ°´å¹³å’Œé›†ç¾¤è‡ªåŠ¨ç¼©æ”¾å™¨ä»¥åŠè¿‡åº¦é…ç½®é›†ç¾¤ä»¥åŠ å¿«æ‰©å±•é€Ÿåº¦ã€‚ è‡ªåŠ¨æ‰©å±•å™¨ åœ¨ Kubernetes ä¸­ï¼Œå¸¸è¯´çš„â€œè‡ªç”¨æ‰©å±•â€æœ‰ï¼š HPAï¼šPod æ°´å¹³ç¼©æ”¾å™¨ VPAï¼šPod å‚ç›´ç¼©æ”¾å™¨ CAï¼šé›†ç¾¤è‡ªåŠ¨ç¼©æ”¾å™¨ ä¸åŒç±»å‹çš„è‡ªåŠ¨ç¼©æ”¾å™¨ï¼Œä½¿ç”¨çš„åœºæ™¯ä¸ä¸€æ ·ã€‚ HPA HPA å®šæœŸæ£€æŸ¥å†…å­˜å’Œ CPU ç­‰æŒ‡æ ‡ï¼Œè‡ªåŠ¨è°ƒæ•´ Deployment ä¸­çš„å‰¯æœ¬æ•°ï¼Œæ¯”å¦‚æµé‡å˜åŒ–ï¼š Image not found a.warning-link { color: inherit !important; font-weight: inherit !important; text-decoration: underline !important; border-bottom: none !important; } ç½‘ç«™é“¾æ¥: https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/06/09/cleanshot-20210608-at-2206552x.png é“¾æ¥åˆ°æ–‡ä»¶: /static/https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/06/09/cleanshot-20210608-at-2206552x.png ä½¿ç”¨ Page Bundles: false Image not found a.warning-link { color: inherit !important; font-weight: inherit !important; text-decoration: underline !important; border-bottom: none !important; } ç½‘</description></item><item><title>åˆæ¢å¯ç¼–ç¨‹ç½‘å…³ Pipy</title><link>https://atbug.com/glance-at-programmable-gateway-pipy/</link><pubDate>Mon, 31 May 2021 00:45:08 +0800</pubDate><guid>https://atbug.com/glance-at-programmable-gateway-pipy/</guid><description>
æœ‰å¹¸å‚åŠ äº† Flomesh ç»„ç»‡çš„workshopï¼Œäº†è§£äº†ä»–ä»¬çš„ Pipy ç½‘ç»œä»£ç†ï¼Œä»¥åŠå›´ç»• Pipy æ„å»ºèµ·æ¥çš„ç”Ÿæ€ã€‚Pipy åœ¨ç”Ÿæ€ä¸­ï¼Œä¸æ­¢æ˜¯ä»£ç†çš„è§’è‰²ï¼Œè¿˜æ˜¯ Flomesh æœåŠ¡ç½‘æ ¼â€‹ä¸­çš„æ•°æ®å¹³é¢ã€‚ æ•´ç†ä¸€ä¸‹ï¼Œåšä¸ªè®°å½•ï¼Œé¡ºä¾¿ç„ä¸€ä¸‹ Pipy çš„éƒ¨åˆ†æºç ã€‚ ä»‹ç» ä¸‹é¢æ˜¯æ‘˜è‡ª Github ä¸Šå…³äº Pipy çš„ä»‹ç»ï¼š Pipy æ˜¯ä¸€ä¸ªè½»é‡çº§ã€é«˜æ€§èƒ½ã€é«˜ç¨³å®šã€å¯ç¼–ç¨‹çš„ç½‘ç»œä»£ç†ã€‚Pipy æ ¸å¿ƒæ¡†æ¶ä½¿ç”¨ C++ å¼€å‘ï¼Œç½‘ç»œ IO é‡‡ç”¨ ASIO åº“ã€‚ Pipy çš„å¯æ‰§è¡Œæ–‡ä»¶ä»…æœ‰ 5M å·¦å³ï¼Œè¿è¡ŒæœŸçš„å†…å­˜å ç”¨ 10M å·¦å³ï¼Œå› æ­¤ Pipy éå¸¸é€‚åˆåš Sidecar proxyã€‚ Pipy å†…ç½®äº†è‡ªç ”çš„ pjs ä½œä¸ºè„šæœ¬æ‰©å±•ï¼Œä½¿å¾—Pipy å¯ä»¥ç”¨ JS è„šæœ¬æ ¹æ®ç‰¹å®šéœ€æ±‚å¿«é€Ÿå®šåˆ¶é€»è¾‘ä¸åŠŸèƒ½ã€‚ Pipy é‡‡ç”¨äº†æ¨¡å—åŒ–ã€é“¾å¼çš„å¤„ç†æ¶æ„ï¼Œç”¨é¡ºåºæ‰§è¡Œçš„æ¨¡å—æ¥å¯¹ç½‘ç»œæ•°æ®å—è¿›è¡Œå¤„ç†ã€‚è¿™ç§ç®€å•çš„æ¶æ„ä½¿å¾— Pipy åº•å±‚ç®€å•å¯é ï¼ŒåŒæ—¶å…·</description></item><item><title>ä½¿ç”¨ Quarkus å’Œ MicroProfile å®ç°å¾®æœåŠ¡ç‰¹æ€§</title><link>https://atbug.com/microservicilities-quarkus/</link><pubDate>Wed, 26 May 2021 07:37:04 +0800</pubDate><guid>https://atbug.com/microservicilities-quarkus/</guid><description>
Quarkus çš„æ–‡ç« ä¹‹å‰å†™è¿‡ä¸‰ç¯‡äº†ï¼Œè®²è¿‡äº† Quarkus çš„å°è€Œå¿«ã€‚ Hello, Quarkus åº”&amp;quot;äº‘&amp;quot;è€Œç”Ÿçš„ Java æ¡†æ¶ Quarkusï¼šæ„å»ºæœ¬æœºå¯æ‰§è¡Œæ–‡ä»¶ è°è¯´ Java ä¸èƒ½ç”¨æ¥è·‘ Serverlessï¼Ÿ ä¸€ç›´åœ¨é…é…¿å†™ä¸€ç¯‡ Quarkus ç”Ÿæ€ç›¸å…³çš„ï¼Œå› ä¸ºæœ€è¿‘ä¸€ç›´åœ¨å¿™ Meetup çš„äº‹æƒ…è€Œææµ…ã€‚æ­£å¥½çœ‹åˆ°äº†è¿™ç¯‡æ–‡ç« ï¼Œå°±æ‹¿æ¥ç¿»è¯‘ä¸€ä¸‹ï¼Œè¡¥å…¨äº‘åŸç”Ÿä¸­çš„â€œå¾®æœåŠ¡â€è¿™ä¸€å—ã€‚ æœ¬æ–‡è¯‘è‡ªã€ŠImplementing Microservicilities with Quarkus and MicroProfileã€‹ ã€‚ ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å¾®æœåŠ¡ç‰¹æ€§ï¼Ÿ åœ¨å¾®æœåŠ¡æ¶æ„ä¸­ï¼Œä¸€ä¸ªåº”ç”¨ç¨‹åºæ˜¯ç”±å‡ ä¸ªç›¸äº’è¿æ¥çš„æœåŠ¡ç»„æˆçš„ï¼Œè¿™äº›æœåŠ¡ä¸€èµ·å·¥ä½œæ¥å®ç°æ‰€éœ€çš„ä¸šåŠ¡åŠŸèƒ½ã€‚ å› æ­¤ï¼Œå…¸å‹çš„ä¼ä¸šå¾®æœåŠ¡æ¶æ„å¦‚ä¸‹æ‰€ç¤ºï¼š Image not found a.warning-link { color: inherit !important; font-weight: inherit !important; text-decoration: underline !important; border-bottom: none !important; } ç½‘ç«™é“¾æ¥: https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/05/26/16219855266680.jpg é“¾æ¥åˆ°æ–‡ä»¶: /static/https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/05/26/16219855266680.jpg ä½¿ç”¨ Page Bundles: false åˆšå¼€å§‹ï¼Œä½¿ç”¨å¾®</description></item><item><title>å¼€ç®±å³ç”¨çš„ Prometheus å‘Šè­¦è§„åˆ™é›†</title><link>https://atbug.com/introduction-awesome-prometheus-alerts/</link><pubDate>Thu, 13 May 2021 08:01:00 +0800</pubDate><guid>https://atbug.com/introduction-awesome-prometheus-alerts/</guid><description>
åœ¨é…ç½®ç³»ç»Ÿç›‘æ§çš„æ—¶å€™ï¼Œæ˜¯ä¸æ˜¯å³ä½¿ç»å°½è„‘æ±ç›‘æ§çš„ä¹Ÿè¿˜æ˜¯ä¸å¤Ÿå…¨é¢ï¼Œæˆ–è€…ä¸çŸ¥å¦‚ä½•è·å–æƒ³è¦çš„æŒ‡æ ‡ã€‚ Awesome Prometheus alerts ç»´æŠ¤äº†ä¸€å¥—å¼€ç®±å³ç”¨çš„ Prometheus å‘Šè­¦è§„åˆ™é›†åˆï¼Œæœ‰ 300 å¤šä¸ªå‘Šè­¦è§„åˆ™ã€‚åŒæ—¶ï¼Œè¿˜æ˜¯è¯´æ˜å¦‚ä½•è·å–å¯¹åº”çš„æŒ‡æ ‡ã€‚è¿™äº›è§„åˆ™ï¼Œå¯¹æ¯ä¸ª Prometheus éƒ½æ˜¯é€šç”¨çš„ã€‚ æ¶‰åŠå¦‚ä¸»æœºã€ç¡¬ä»¶ã€å®¹å™¨ç­‰åŸºç¡€èµ„æºï¼Œåˆ°æ•°æ®åº“ã€æ¶ˆæ¯ä»£ç†ã€è¿è¡Œæ—¶ã€åå‘ä»£ç†ã€è´Ÿè´£å‡è¡¡å™¨ï¼Œè¿è¡Œæ—¶ã€æœåŠ¡ç¼–æ’ï¼Œç”šè‡³æ˜¯ç½‘ç»œå±‚é¢å’Œ Prometheus è‡ªèº«å’Œé›†ç¾¤ã€‚ Image not found a.warning-link { color: inherit !important; font-weight: inherit !important; text-decoration: underline !important; border-bottom: none !important; } ç½‘ç«™é“¾æ¥: https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/05/13/alertrulescover.png é“¾æ¥åˆ°æ–‡ä»¶: /static/https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/05/13/alertrulescover.png ä½¿ç”¨ Page Bundles: false Prometheus çš„å®‰è£…å’Œé…ç½®ä¸åšèµ˜è¿°ï¼Œé…ç½®å¯ä»¥çœ‹è¿™é‡Œã€‚ä¸‹é¢ç®€å•çœ‹ä¸‹å‡ ä¸ªå¸¸ç”¨è§„åˆ™ ä¸»æœºå’Œç¡¬ä»¶èµ„æº ä¸»æœºå’Œç¡¬ä»¶èµ„æºçš„å‘Šè­¦ä¾èµ– node-exporter è¾“å‡ºçš„æŒ‡æ ‡ã€‚ä¾‹å¦‚ï¼š å†…å­˜ä¸è¶³ å¯ç”¨å†…å­˜ä½äºé˜ˆå€¼ 10% å°±ä¼šè§¦å‘å‘Šè­¦ã€‚ - alert:HostOutOfMemoryexpr:node_memory_MemAvailable_bytes / node_memory_MemTotal_bytes * 100 &amp;lt; 10for:2mlabels:severity:warningannotations:summary:Host out of</description></item><item><title>Kubernetes ä¸Šå¦‚ä½•æ§åˆ¶å®¹å™¨çš„å¯åŠ¨é¡ºåºï¼Ÿ</title><link>https://atbug.com/k8s-1.18-container-start-sequence-control/</link><pubDate>Fri, 30 Apr 2021 07:43:54 +0800</pubDate><guid>https://atbug.com/k8s-1.18-container-start-sequence-control/</guid><description>
å»å¹´å†™è¿‡ä¸€ç¯‡åšå®¢ï¼šæ§åˆ¶ Pod å†…å®¹å™¨çš„å¯åŠ¨é¡ºåºï¼Œåˆ†æäº† TektonCD çš„å®¹å™¨å¯åŠ¨æ§åˆ¶çš„åŸç†ã€‚ ä¸ºä»€ä¹ˆè¦åšå®¹å™¨å¯åŠ¨é¡ºåºæ§åˆ¶ï¼Ÿæˆ‘ä»¬éƒ½çŸ¥é“ Pod ä¸­é™¤äº† init-container ä¹‹å¤–ï¼Œæ˜¯å…è®¸æ·»åŠ å¤šä¸ªå®¹å™¨çš„ã€‚ç±»ä¼¼ TektonCD ä¸­ task å’Œ step çš„æ¦‚å¿µå°±åˆ†åˆ«ä¸ pod å’Œ container å¯¹åº”ï¼Œè€Œ step æ˜¯æŒ‰ç…§é¡ºåºæ‰§è¡Œçš„ã€‚æ­¤å¤–è¿˜æœ‰æœåŠ¡ç½‘æ ¼çš„åœºæ™¯ï¼Œsidecar å®¹å™¨éœ€è¦åœ¨æœåŠ¡å®¹å™¨å¯åŠ¨ä¹‹å‰å®Œæˆé…ç½®çš„åŠ è½½ï¼Œä¹Ÿéœ€è¦å¯¹å®¹å™¨çš„å¯åŠ¨é¡ºåºåŠ ä»¥æ§åˆ¶ã€‚å¦åˆ™ï¼ŒæœåŠ¡å®¹å™¨å…ˆå¯åŠ¨ï¼Œè€Œ sidecar è¿˜æ— æ³•æä¾›ç½‘ç»œä¸Šçš„æ”¯æŒã€‚ ç°å® Image not found a.warning-link { color: inherit !important; font-weight: inherit !important; text-decoration: underline !important; border-bottom: none !important; } ç½‘ç«™é“¾æ¥: https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/04/30/sidecarlifecycle1.gif é“¾æ¥åˆ°æ–‡ä»¶: /static/https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/04/30/sidecarlifecycle1.gif ä½¿ç”¨ Page Bundles: false æœŸæœ› Image not found a.warning-link { color: inherit !important; font-weight: inherit !important; text-decoration: underline !important; border-bottom: none !important; } ç½‘ç«™é“¾æ¥: https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/04/30/sidecarlifecycle2.gif é“¾æ¥åˆ°æ–‡ä»¶: /static/https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/04/30/sidecarlifecycle2.gif ä½¿ç”¨ Page Bundles: false åˆ°äº†è¿™é‡Œè‚¯å®šæœ‰åŒå­¦ä¼šé—®ï¼Œspec.containers[] æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„æ˜¯</description></item><item><title>äº‘ä¸Šç»†ç²’åº¦è®¿é—®ç®¡ç†çš„å‚è€ƒæ¶æ„</title><link>https://atbug.com/translation-access-management-reference-architecture/</link><pubDate>Wed, 28 Apr 2021 08:02:11 +0800</pubDate><guid>https://atbug.com/translation-access-management-reference-architecture/</guid><description>
æœ¬æ–‡ç”± Addo Zhang ç¿»è¯‘è‡ª A Reference Architecture for Fine-Grained Access Management on the Cloud ä»€ä¹ˆæ˜¯è®¿é—®ç®¡ç†ï¼Ÿ è®¿é—®ç®¡ç†æ˜¯è¯†åˆ«ç”¨æˆ·æˆ–ä¸€ç»„ç”¨æˆ·æ˜¯å¦åº”è¯¥èƒ½å¤Ÿè®¿é—®ç»™å®šèµ„æºï¼ˆä¾‹å¦‚ä¸»æœºã€æœåŠ¡æˆ–æ•°æ®åº“ï¼‰çš„è¿‡ç¨‹ã€‚ä¾‹å¦‚ï¼Œå¯¹äºå¼€å‘äººå‘˜æ¥è¯´æ˜¯å¦å¯ä»¥ä½¿ç”¨ SSH ç™»å½•ç”Ÿäº§åº”ç”¨ç¨‹åºæœåŠ¡å™¨ï¼Œå¦‚æœå¯ä»¥ï¼Œé‚£ä¹ˆå¯ä»¥ç™»å½•å¤šé•¿æ—¶é—´ï¼Ÿå¦‚æœ SRE åœ¨éæ”¯æŒæ—¶é—´å°è¯•è®¿é—®æ•°æ®åº“ï¼Œä»–ä»¬è¿™æ ·åšï¼Ÿå¦‚æœæ•°æ®å·¥ç¨‹å¸ˆå·²è½¬ç§»åˆ°å…¶ä»–å›¢é˜Ÿï¼Œä»–ä»¬æ˜¯å¦åº”è¯¥ç»§ç»­è®¿é—® ETL ç®¡é“çš„ S3 å­˜å‚¨æ¡¶ï¼Ÿ ç°åœ¨å¦‚ä½•è¿›è¡Œè®¿é—®ç®¡ç†ï¼Ÿ åœ¨äº‘ä¸Šå„ç§åŸºç¡€è®¾æ–½å’Œæ•°æ®æœåŠ¡æ¿€å¢ä¹‹å‰ï¼Œè®¿é—®ç®¡ç†æ˜¯ DevOps å’Œ Security å›¢é˜Ÿè¦è§£å†³çš„ç›¸å¯¹ç®€å•çš„é—®é¢˜ã€‚VPN å’Œå ¡å’ä¸»æœºæ˜¯ï¼ˆç°åœ¨ä»ç„¶æ˜¯ï¼‰åœ¨ç½‘ç»œçº§åˆ«å°é”æ‰€æœ‰å…³é”®èµ„æºçš„é¦–é€‰æœºåˆ¶ã€‚ç”¨æˆ·å¿…é¡»å…ˆé€šè¿‡ VPN æœåŠ¡å™¨è¿›è¡Œèº«ä»½éªŒè¯ï¼Œæˆ–è€…ç™»å½•åˆ°å ¡å’ä¸»æœºï¼Œç„¶åæ‰èƒ½è®¿é—®ä¸“ç”¨ç½‘ç»œä¸Šçš„</description></item><item><title>Quarkusï¼šè°è¯´ Java ä¸èƒ½ç”¨æ¥è·‘ Serverlessï¼Ÿ</title><link>https://atbug.com/quarkus-enable-java-running-in-serverless/</link><pubDate>Sat, 24 Apr 2021 09:16:05 +0800</pubDate><guid>https://atbug.com/quarkus-enable-java-running-in-serverless/</guid><description>
Image not found a.warning-link { color: inherit !important; font-weight: inherit !important; text-decoration: underline !important; border-bottom: none !important; } ç½‘ç«™é“¾æ¥: https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/04/24/whynotjava.png é“¾æ¥åˆ°æ–‡ä»¶: /static/https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/04/24/whynotjava.png ä½¿ç”¨ Page Bundles: false æƒ³åˆ°è¿™ä¸ªæ ‡é¢˜çš„æ—¶å€™ï¼Œæˆ‘ç¬¬ä¸€æ—¶é—´æƒ³åˆ°çš„å°±æ˜¯æ˜Ÿçˆ·çš„ã€Šå”ä¼¯è™ç‚¹ç§‹é¦™ã€‹çš„è¿™ä¸€å¹•ã€‚ å½“è®¨è®ºèµ·ä¸–ç•Œä¸Šæœ€å¥½çš„å¼€å‘è¯­è¨€æ˜¯ä»€ä¹ˆçš„æ—¶å€™ï¼ŒJava çš„ç²‰ä¸ä»¬æ€»ä¼šé‡åˆ°è¿™ç§åœºæ™¯ï¼š å¹ï¼šâ€œJava è¯­æ³•ç®€å•ï¼Œå®¹æ˜“ä¸Šæ‰‹ï¼â€ é»‘ï¼šâ€œJava å¯åŠ¨æ…¢ï¼Œæ€§èƒ½å·®ï¼Œè€—èµ„æºï¼â€ å¹ï¼šâ€œJava æœ‰ä¸–ç•Œä¸Šæœ€å¤šçš„ç¨‹åºå‘˜ï¼â€ é»‘ï¼šâ€œJava å¯åŠ¨æ…¢ï¼Œæ€§èƒ½å·®ï¼Œè€—èµ„æºï¼â€ å¹ï¼šâ€œJava ç”Ÿæ€å¥½ï¼â€ é»‘ï¼šâ€œJava å¯åŠ¨æ…¢ï¼Œæ€§èƒ½å·®ï¼Œè€—èµ„æºï¼â€ å¹ï¼šâ€œæ»šï¼â€ ä»Šå¤©æˆ‘ä»¬ç»§ç»­è¯´è¯´ Quarkusï¼Œåº”â€œäº‘â€è€Œç”Ÿçš„ Java æ¡†æ¶ã€‚ä»Šå¤©ç®—æ˜¯ç¬¬ä¸‰ç¯‡äº†ï¼Œæ²¡çœ‹è¿‡çš„åŒå­¦å¯ä»¥å›é¡¾ä¸€ä¸‹ï¼š Hello, Quarkus åº”&amp;quot;äº‘&amp;quot;è€Œç”Ÿçš„ Java æ¡†æ¶ Quar</description></item><item><title>æœåŠ¡ç½‘æ ¼å¹³ç¨³è½åœ°ï¼šIstio ä¸­ç²¾å‡†æ§åˆ¶ Sidecar çš„æ³¨å…¥</title><link>https://atbug.com/how-to-control-istio-sidecar-injection/</link><pubDate>Wed, 21 Apr 2021 08:13:04 +0800</pubDate><guid>https://atbug.com/how-to-control-istio-sidecar-injection/</guid><description>
ä¸ºä»€ä¹ˆ è¯´èµ·æœåŠ¡ç½‘æ ¼ï¼Œè¿™å¹…å›¾å¤§å®¶è‚¯å®šä¸ä¼šé™Œç”Ÿã€‚è¿™å°±æ˜¯æœåŠ¡ç½‘æ ¼çš„ç½‘ç»œï¼Œä¹Ÿæ˜¯ç½‘æ ¼æ¶æ„çš„ç»ˆæå½¢æ€ã€‚ Image not found a.warning-link { color: inherit !important; font-weight: inherit !important; text-decoration: underline !important; border-bottom: none !important; } ç½‘ç«™é“¾æ¥: https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/04/21/cleanshot-20210420-at-2314142x.png é“¾æ¥åˆ°æ–‡ä»¶: /static/https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/04/21/cleanshot-20210420-at-2314142x.png ä½¿ç”¨ Page Bundles: false é‚£åœ¨è¿ç§»åˆ°ç½‘æ ¼æ¶æ„ä¹‹å‰ï¼Œæˆ‘ä»¬çš„ç³»ç»Ÿæ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ Image not found a.warning-link { color: inherit !important; font-weight: inherit !important; text-decoration: underline !important; border-bottom: none !important; } ç½‘ç«™é“¾æ¥: https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/04/21/cleanshot-20210420-at-2316432x.png é“¾æ¥åˆ°æ–‡ä»¶: /static/https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/04/21/cleanshot-20210420-at-2316432x.png ä½¿ç”¨ Page Bundles: false æˆ‘ä»¬çš„ç³»ç»Ÿåœ¨æ¼”è¿›çš„è¿‡ç¨‹ä¸­ï¼Œä¸å¯é¿å…çš„ä¼šé‡åˆ°å„ç§ 0 åˆ° 1 è¿‡ç¨‹ä¸­çš„ä¸­é—´æ€ã€‚æ¯”å¦‚ä¸‹é¢è¿™ç§ï¼Œå¯ä»¥æ¯”è¾ƒç›´è§‚çš„çœ‹å‡º Istio æˆ–è€…ç½‘æ ¼æ˜¯éƒ¨åˆ†è¦†ç›–çš„ã€‚è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å¹³æ»‘ã€å¯æ§çš„æ¨è¿›ï¼Œæ‰èƒ½åœ¨ä¿éšœç³»ç»Ÿå¯ç”¨æ€§çš„å‰æä¸‹è¿›è¡Œæ¶æ„çš„æ¼”è¿›ã€‚ Image not found a.warning-link { color: inherit !important; font-weight: inherit !important; text-decoration: underline !important; border-bottom: none !important; } ç½‘ç«™é“¾æ¥: https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/04/21/cleanshot-20210420-at-2318242x.png é“¾æ¥åˆ°æ–‡ä»¶: /static/https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/04/21/cleanshot-20210420-at-2318242x.png ä½¿ç”¨ Page Bundles: false æ€ä¹ˆåš Sidecar çš„æ³¨å…¥åˆ†ä¸¤ç§ï¼šæ‰‹åŠ¨å’Œè‡ªåŠ¨ã€‚ æ‰‹åŠ¨ æ‰‹åŠ¨</description></item><item><title>åº”â€œäº‘â€è€Œç”Ÿçš„ Java æ¡†æ¶ï¼šæ„å»ºæœ¬æœºå¯æ‰§è¡Œæ–‡ä»¶</title><link>https://atbug.com/quarkus-build-native-executable-file/</link><pubDate>Sat, 17 Apr 2021 09:08:40 +0800</pubDate><guid>https://atbug.com/quarkus-build-native-executable-file/</guid><description>
Image not found a.warning-link { color: inherit !important; font-weight: inherit !important; text-decoration: underline !important; border-bottom: none !important; } ç½‘ç«™é“¾æ¥: https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/04/17/16186233244243.jpg é“¾æ¥åˆ°æ–‡ä»¶: /static/https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/04/17/16186233244243.jpg ä½¿ç”¨ Page Bundles: false ç”µå½±ã€ŠåŠŸå¤«ã€‹ä¸­ï¼Œç«äº‘é‚ªç¥æœ‰å¥è¯ï¼šâ€œå¤©ä¸‹æ­¦åŠŸæ— åšä¸æ‘§ï¼Œå”¯å¿«ä¸ç ´ã€‚â€ åœ¨ ä¸Šä¸€ç¯‡æ–‡ç«  ä¸­ï¼Œæˆ‘ä»¬å†™äº†ç¬¬ä¸€ä¸ª Quarkus åº”ç”¨ï¼Œå¹¶å°è¯•ç€æ„å»ºäº† legacy-jar å’Œ fast-jarã€‚ ä»Šå¤©æ¥çœ‹ä¸€ä¸‹ Quarkus æ„å»ºå‡ºæ¥çš„æœ¬æœºå¯æ‰§è¡Œæ–‡ä»¶åˆ°åº•æ¯” Spring åº”ç”¨èƒ½å¿«å¤šå°‘ï¼Œç”Ÿæ€çš„æˆç†Ÿåº¦ä¸åœ¨è¿™é‡Œè®¨è®ºã€‚ TLDR å…ˆä¸Šç»“è®ºï¼Œ ä¸åªæœ‰ä¸€ä¸ª Controller çš„Spring Web åº”ç”¨åšä¸‹å¯¹æ¯”ã€‚ åº”ç”¨å¯åŠ¨æ—¶é—´ï¼š0.012s vs 2.294s Image not found a.warning-link { color: inherit !important; font-weight: inherit !important; text-decoration: underline !important; border-bottom: none !important; } ç½‘ç«™é“¾æ¥: https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/04/17/cleanshot-20210417-at-0900292x.png é“¾æ¥åˆ°æ–‡ä»¶: /static/https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/04/17/cleanshot-20210417-at-0900292x.png ä½¿ç”¨ Page Bundles: false Image not found a.warning-link { color: inherit !important; font-weight: inherit !important; text-decoration: underline !important; border-bottom: none !important; } ç½‘ç«™é“¾æ¥: https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/04/17/cleanshot-20210417-at-0915282x.png é“¾æ¥åˆ°æ–‡ä»¶: /static/https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/04/17/cleanshot-20210417-at-0915282x.png ä½¿ç”¨ Page Bundles: false é•œåƒå¤§å°ï¼š49MB vs 237 MB Spring åº”ç”¨é•œåƒä½¿ç”¨ openjdk:11.0-jre-slim ä½œä¸º base é•œåƒï¼Œå¤§å°ä¸º 220MBã€‚ docker images REPOSITORY</description></item><item><title>åº”â€œäº‘â€è€Œç”Ÿçš„ Java æ¡†æ¶ï¼šHello, Quarkus</title><link>https://atbug.com/hello-quarkus/</link><pubDate>Mon, 05 Apr 2021 21:08:40 +0800</pubDate><guid>https://atbug.com/hello-quarkus/</guid><description>
Wikipediaä¸Šæœ‰å…³ Quarkus çš„ä¿¡æ¯è¿˜å¾ˆå°‘ï¼Œåªæœ‰ä¸€å¥ç®€å•çš„ä»‹ç»ï¼š Quarkus æ˜¯ä¸“ä¸º OpenJDK HotSpot å’Œ GraalVM å®šåˆ¶çš„å…¨æ ˆ Kubernetes åŸç”Ÿ Java åº”ç”¨ç¨‹åºæ¡†æ¶ã€‚ä¸å¦‚ Spring ä¹‹ç±»çš„å…¶ä»–æ¡†æ¶ç›¸æ¯”ï¼Œå®ƒæä¾›äº†è¾ƒå°çš„å†…å­˜å ç”¨å¹¶ç¼©çŸ­äº†å¯åŠ¨æ—¶é—´ã€‚å®ƒå…è®¸ç»“åˆå‘½ä»¤å¼å’Œéé˜»å¡å“åº”å¼ç¼–ç¨‹ã€‚ ä» Quarkus çš„å®˜ç½‘ï¼Œå¯ä»¥çœ‹åˆ°å…¶æœ‰å‡ ä¸ªç‰¹æ€§ï¼š å®¹å™¨ä¼˜å…ˆ ç»Ÿä¸€äº†å‘½ä»¤å¼å’Œå“åº”å¼ç¼–ç¨‹ å¼€å‘è€…å‹å¥½ æœ€ä½³å“ç§çš„åº“åŠæ ‡å‡† æ›´å¤š Quarkus å¯ä»¥å‚è€ƒå®˜ç½‘çš„ä»‹ç»åŠæ–‡æ¡£ã€‚ä»Šå¤©ä¸»è¦å°±æ˜¯è·‘ä¸€ä¸‹ Quarkus çš„ Hello worldã€‚ æ”¾ä¸€å¼ å®˜ç½‘çš„å›¾ï¼š Image not found a.warning-link { color: inherit !important; font-weight: inherit !important; text-decoration: underline !important; border-bottom: none !important; } ç½‘ç«™é“¾æ¥: https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/04/05/16176279246527.jpg é“¾æ¥åˆ°æ–‡ä»¶: /static/https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/04/05/16176279246527.jpg ä½¿ç”¨ Page Bundles: false ç¯å¢ƒå‡†å¤‡ åŸºäº Java 11 çš„ GraalVM Maven 3.6.2+ ç¬”è€…ä½¿ç”¨çš„æ˜¯ macos 10.15.4ï¼ŒGraalVM å’Œ Maven å»ºè®®é€šè¿‡ sdkman è¿›è¡Œå®‰è£…ã€‚ $ sdk install java 21.0.0.2.r11-grl #å¦‚æœå·²ä½¿ç”¨å…¶ä»– java ç‰ˆæœ¬ï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤ sdk</description></item><item><title>åˆ†å¸ƒå¼ç³»ç»Ÿåœ¨ Kubernetes ä¸Šçš„è¿›åŒ–</title><link>https://atbug.com/translation-distributed-systems-kubernetes/</link><pubDate>Mon, 29 Mar 2021 23:11:25 +0800</pubDate><guid>https://atbug.com/translation-distributed-systems-kubernetes/</guid><description>
æœ¬æ–‡è¯‘è‡ª The Evolution of Distributed Systems on Kubernetes åœ¨ 3 æœˆä»½çš„ QCon ä¸Šï¼Œæˆ‘åšäº†ä¸€ä¸ªå…³äº Kubernetes çš„åˆ†å¸ƒå¼ç³»ç»Ÿè¿›åŒ–çš„æ¼”è®²ã€‚é¦–å…ˆï¼Œæˆ‘æƒ³å…ˆé—®ä¸€ä¸ªé—®é¢˜ï¼Œå¾®æœåŠ¡ä¹‹åæ˜¯ä»€ä¹ˆï¼Ÿæˆ‘ç›¸ä¿¡å¤§å®¶éƒ½æœ‰å„è‡ªçš„ç­”æ¡ˆï¼Œæˆ‘ä¹Ÿæœ‰æˆ‘çš„ç­”æ¡ˆã€‚ä½ ä¼šåœ¨æœ€åå‘ç°æˆ‘çš„æƒ³æ³•æ˜¯ä»€ä¹ˆã€‚ä¸ºäº†è¾¾åˆ°è¿™ä¸ªç›®çš„ï¼Œæˆ‘å»ºè®®å¤§å®¶çœ‹çœ‹åˆ†å¸ƒå¼ç³»ç»Ÿçš„éœ€æ±‚æ˜¯ä»€ä¹ˆï¼Ÿä»¥åŠè¿™äº›éœ€æ±‚åœ¨è¿‡å»æ˜¯å¦‚ä½•å‘å±•çš„ï¼Œä»å•ä½“åº”ç”¨å¼€å§‹åˆ° Kubernetesï¼Œå†åˆ°æœ€è¿‘çš„ Daprã€Istioã€Knative ç­‰é¡¹ç›®ï¼Œå®ƒä»¬æ˜¯å¦‚ä½•æ”¹å˜æˆ‘ä»¬åšåˆ†å¸ƒå¼ç³»ç»Ÿçš„æ–¹å¼ã€‚æˆ‘ä»¬å°†å°è¯•å¯¹æœªæ¥åšä¸€äº›é¢„æµ‹ã€‚ ç°ä»£åˆ†å¸ƒå¼åº”ç”¨ ä¸ºäº†ç»™è¿™ä¸ªè¯é¢˜æä¾›æ›´å¤šçš„èƒŒæ™¯ä¿¡æ¯ï¼Œæˆ‘è®¤ä¸ºçš„åˆ†å¸ƒå¼ç³»ç»Ÿæ˜¯ç”±æ•°ç™¾ä¸ªç»„ä»¶ç»„æˆçš„ç³»ç»Ÿã€‚è¿™äº›ç»„ä»¶å¯ä»¥æ˜¯æœ‰çŠ¶æ€çš„ã€æ— çŠ¶æ€çš„æˆ–è€…æ— æœåŠ¡å™¨çš„ã€‚æ­¤å¤–ï¼Œè¿™äº›ç»„ä»¶å¯ä»¥ç”¨ä¸</description></item><item><title>ã€è¯‘ã€‘2021 å¹´åŠæœªæ¥çš„äº‘åŸç”Ÿé¢„æµ‹</title><link>https://atbug.com/translation-cloud-native-predictions-for-2021-and-beyond/</link><pubDate>Tue, 09 Feb 2021 06:43:54 +0800</pubDate><guid>https://atbug.com/translation-cloud-native-predictions-for-2021-and-beyond/</guid><description>
æœ¬æ–‡è¯‘è‡ª Cloud Native Predictions for 2021 and Beyond åŸæ–‡å‘å¸ƒåœ¨ Chris Aniszczyk çš„ä¸ªäººåšå®¢ æˆ‘å¸Œæœ›æ¯ä¸ªäººéƒ½æœ‰ä¸€ä¸ªç¾å¥½çš„å‡æœŸï¼Œå› ä¸º 2021 å¹´ 1 æœˆçš„å‰å‡ å‘¨ä¸€ç›´éå¸¸ç–¯ç‹‚ï¼Œä»å›ä¹±åˆ°æ–°çš„ COVID èŒæ ªã€‚åœ¨äº‘åŸç”Ÿå›½åº¦ï¼ŒCNCF æœ€è¿‘å‘å¸ƒäº†å…³äºæˆ‘ä»¬å»å¹´å®Œæˆçš„æ‰€æœ‰å·¥ä½œçš„å¹´åº¦æŠ¥å‘Šã€‚æˆ‘å»ºè®®å¤§å®¶æ‰¾ä¸ªæœºä¼šå»çœ‹ä¸€ä¸‹è¿™ä»½æŠ¥å‘Šï¼Œåœ¨ç–«æƒ…å¤§æµè¡Œçš„è¿™ä¸€å¹´ï¼Œæˆ‘ä»¬æ”¶è·é¢‡ä¸°ã€‚https://twitter.com/CloudNativeFdn/status/1343914259177222145 ä½œä¸ºæˆ‘å·¥ä½œçš„ä¸€éƒ¨åˆ†ï¼Œæˆ‘å¯¹äº‘åŸç”Ÿè¶‹åŠ¿æœ‰ä¸€ä¸ªç‹¬ç‰¹çš„è§‚ç‚¹ï¼Œé€ç»™æ‰€æœ‰ä¸æˆ‘åˆä½œçš„ä¼šå‘˜å…¬å¸å’Œå¼€å‘äººå‘˜ï¼Œæ‰€ä»¥æˆ‘æƒ³æˆ‘ä¼šåˆ†äº«æˆ‘å¯¹ 2021 å¹´åŠä»¥åäº‘åŸç”Ÿå‘å±•çš„æƒ³æ³•ã€‚ äº‘åŸç”Ÿçš„ IDE ä½œä¸ºä¸€ä¸ªåœ¨ Eclipse åŸºé‡‘ä¼šå†…éƒ¨ä»äº‹å¼€å‘è€…å·¥å…·å·¥ä½œçš„äººï¼Œæˆ‘å¯¹æœ€è¿‘çš„</description></item><item><title>ã€è¯‘ã€‘åº”ç”¨æ¶æ„ï¼šä¸ºä»€ä¹ˆè¦éšç€å¸‚åœºæ¼”è¿›</title><link>https://atbug.com/translation-application-architecture-why-it-should-evolve-with-the-market/</link><pubDate>Sun, 17 Jan 2021 21:37:23 +0800</pubDate><guid>https://atbug.com/translation-application-architecture-why-it-should-evolve-with-the-market/</guid><description>
æœ¬æ–‡è¯‘è‡ª Application architecture: why it should evolve with the market æœ€åˆç”±Mia Platformå›¢é˜Ÿå‘å¸ƒåœ¨Mia Platformçš„åšå®¢ä¸Š å¦‚ä»Šï¼ŒIT æŒ‘æˆ˜åœ¨äºé€šè¿‡æœ‰æ•ˆé€‰æ‹©åº”ç”¨æ¶æ„æ¥é€‚åº”å¸‚åœºå’Œä¸šåŠ¡éœ€æ±‚çš„å‘å±•ã€‚ä¸ºäº†æ»¡è¶³ä¸šåŠ¡å’Œå®¢æˆ·çš„éœ€æ±‚ï¼ŒIT éƒ¨é—¨åº”èƒ½å¤Ÿå¯¹æŠ€æœ¯å’Œæ–¹æ³•é‡‡å–è¡ŒåŠ¨ä»¥ç¡®ä¿è½¯ä»¶å…·æœ‰çµæ´»æ€§ï¼Œå¹¶å®ç°äº§å“å’ŒæœåŠ¡çš„æŒç»­åˆ›æ–°æµç¨‹ï¼Œä»è€Œåšå‡ºæ›´å¿«çš„ååº” ã€‚ å½“ç„¶ï¼Œè¿‡å»çš„å•ä½“åº”ç”¨ç¨‹åºå’Œåˆšæ€§åŸºç¡€è®¾æ–½æ— æ³•åšåˆ°è¿™ä¸€ç‚¹ã€‚ç›¸åï¼Œå®ƒå¯ä»¥é€šè¿‡ä¸ºæ¼”åŒ–è€Œè®¾è®¡çš„æ¶æ„æ¥å®ç°ï¼Œè¯¥æ¶æ„åœ¨éœ€è¦æ—¶æ˜“äºæ›´æ–°å’Œé‡æ„ã€‚å®¹å™¨åŒ–å®è·µçš„å¹¿æ³›åº”ç”¨ï¼ˆæ ¹æ® Gartnerï¼Œåˆ°2022å¹´ï¼Œå¤§å…¬å¸çš„å°±ä¸šäººæ•°å°†ä»ç›®å‰çš„ 30ï¼… å¢é•¿åˆ° 75ï¼…ï¼‰ï¼Œè¿™ç§æƒ…å†µä¸‹é‡‡ç”¨äº‘åŸç”Ÿæ–¹æ³•é‡æ–°è®¾è®¡å¾®æœåŠ¡åº”ç”¨æ˜¯æˆåŠŸçš„å…³é”®ã€‚ å¦‚ä½•æ„å»ºä¸æ–­å‘å±•çš„åº”</description></item><item><title>Envoy listener filter times out é—®é¢˜</title><link>https://atbug.com/envoy-listener-filter-times-out/</link><pubDate>Wed, 09 Dec 2020 20:00:00 +0800</pubDate><guid>https://atbug.com/envoy-listener-filter-times-out/</guid><description>
æœ€è¿‘åœ¨çœ‹ openservicemesh ç›¸å…³å†…å®¹ï¼Œè¿™å‘¨æ›´æ–°äº† main åˆ†æ”¯çš„ä»£ç ä¹‹åã€‚å‘ç°åŸæœ¬ v0.5.0 æ—¶å¯ä»¥æ­£å¸¸ä»£ç†çš„ mysql æµé‡ï¼Œåœ¨æ–°çš„ commit ä¸­æ— æ³•ä»£ç†äº†ã€‚ å¼€å¯ envoy çš„ filter debug æ—¥å¿—åå‘ç°å‡ºç°äº†è¶…æ—¶ã€‚ [2020-12-09 08:54:42.285][15][debug][filter] [source/extensions/filters/listener/original_dst/original_dst.cc:18] original_dst: New connection accepted [2020-12-09 08:54:42.285][15][debug][filter] [source/extensions/filters/listener/http_inspector/http_inspector.cc:38] http inspector: new connection accepted [2020-12-09 08:54:42.285][15][trace][filter] [source/extensions/filters/listener/http_inspector/http_inspector.cc:105] http inspector: recv: 0 [2020-12-09 08:54:57.286][15][debug][conn_handler] [source/server/connection_handler_impl.cc:273] listener filter times out after 15000 ms è´´ä¸€ä¸‹ outbound listener çš„é…ç½®ç‰‡æ®µ: { &amp;#34;@type&amp;#34;: &amp;#34;type.googleapis.com/envoy.admin.v3.ListenersConfigDump&amp;#34;, &amp;#34;version_info&amp;#34;: &amp;#34;1&amp;#34;, &amp;#34;dynamic_listeners&amp;#34;: [{ &amp;#34;name&amp;#34;: &amp;#34;outbound_listener&amp;#34;, &amp;#34;active_state&amp;#34;: { &amp;#34;version_info&amp;#34;: &amp;#34;1&amp;#34;, &amp;#34;listener&amp;#34;: { &amp;#34;@type&amp;#34;: &amp;#34;type.googleapis.com/envoy.config.listener.v3.Listener&amp;#34;, &amp;#34;name&amp;#34;: &amp;#34;outbound_listener&amp;#34;, &amp;#34;address&amp;#34;: { &amp;#34;socket_address&amp;#34;: { &amp;#34;address&amp;#34;: &amp;#34;0.0.0.0&amp;#34;, &amp;#34;port_value&amp;#34;: 15001 } }, &amp;#34;filter_chains&amp;#34;: [ //çœç•¥å…¶ä»– filter chain { &amp;#34;filters&amp;#34;: [{ &amp;#34;name&amp;#34;: &amp;#34;envoy.filters.network.tcp_proxy&amp;#34;, &amp;#34;typed_config&amp;#34;: { &amp;#34;@type&amp;#34;: &amp;#34;type.googleapis.com/envoy.extensions.filters.network.tcp_proxy.v3.TcpProxy&amp;#34;, &amp;#34;stat_prefix&amp;#34;: &amp;#34;passthrough-outbound&amp;#34;, &amp;#34;cluster&amp;#34;: &amp;#34;passthrough-outbound&amp;#34; } }], &amp;#34;name&amp;#34;: &amp;#34;outbound-egress-filter-chain&amp;#34; }], &amp;#34;listener_filters&amp;#34;: [{ &amp;#34;name&amp;#34;: &amp;#34;envoy.filters.listener.original_dst&amp;#34; }, { &amp;#34;name&amp;#34;: &amp;#34;envoy.filters.listener.http_inspector&amp;#34; } ], &amp;#34;traffic_direction&amp;#34;: &amp;#34;OUTBOUND&amp;#34; }, &amp;#34;last_updated&amp;#34;: &amp;#34;2020-12-08T10:07:41.191Z&amp;#34; } }] } åˆ†æ Envoy é‚£è¾¹çœ‹åˆ°äº†æœ‰ä¸ª issueï¼Œä¸ºæ­¤å¢åŠ äº† timeout çš„è®¾ç½®ï¼Œé»˜è®¤ 15sã€‚ listener_filters_timeoutï¼šé»˜è®¤ 15sã€‚ç­‰å¾… listener filter å®Œæˆçš„è¶…æ—¶æ—¶é—´ï¼Œå¦‚æœè®¾ç½®ä¸º 0ï¼Œåˆ™ä¸è¶…æ—¶ã€‚å¦‚æœæ²¡æœ‰è®¾ç½®ä¸‹é¢çš„é…ç½®ä¸ºtrueï¼Œåˆ™ä¼šç›´æ¥å…³é—­è¿æ¥ã€‚</description></item><item><title>ä½¿ç”¨ cLion é˜…è¯» envoy æºç </title><link>https://atbug.com/read-envoy-source-code-in-clion/</link><pubDate>Tue, 08 Dec 2020 20:53:39 +0800</pubDate><guid>https://atbug.com/read-envoy-source-code-in-clion/</guid><description>
è™½ç„¶ä¸å†™ C++ï¼Œä½†æ˜¯çœ‹ç‚¹ä»£ç è¿˜æ˜¯èƒ½çœ‹æ‡‚ã€‚Envoy çš„åŠŸèƒ½é…ç½®å¤æ‚ï¼Œæœ‰æ—¶å€™å¤„ç†é—®é¢˜è¿˜æ˜¯éœ€è¦çœ‹ä¸‹æºç çš„ã€‚ Vim æˆ–è€… Code å°±ç®—äº†ï¼Œæˆ‘åªæ˜¯é˜…è¯»æºç éœ€è¦å…³è”è·³è½¬å°±è¡Œã€‚åœ¨ Clion ä¸­ï¼Œä»£ç çš„å…³è”è·³è½¬éœ€è¦ä¸€ä¸ªCMakeLists.txt æ–‡ä»¶ã€‚ æˆ‘å°†ç”Ÿæˆçš„å†…å®¹æŒ‚åœ¨äº† gist ä¸Šäº†ï¼Œä¸æƒ³èŠ±è´¹æ—¶é—´ç”Ÿæˆçš„å¯ä»¥ç›´æ¥å¤åˆ¶ã€‚ å‡†å¤‡ç¯å¢ƒ 1. å®‰è£…ä¾èµ–çš„å·¥å…· brew install coreutils wget cmake libtool go automake ninja clang-format 2. bazel ä½¿ç”¨ homebrew è¿›è¡Œå®‰è£…ï¼š brew install bazel å³å¯ å®‰è£…é—®è¿è¡Œç¼–è¯‘æµ‹è¯•ä¸‹ï¼šbazel build //source/exe:envoy-staticï¼Œæç¤ºç‰ˆæœ¬å¤ªé«˜ã€‚ ç°åœ¨ homebrew å®‰è£…çš„ç‰ˆæœ¬æ˜¯3.7.1ï¼Œè€Œ envoy éœ€è¦3.4.1ã€‚ æŒ‰ç…§æç¤ºä¸‹è½½3.4.1çš„ç‰ˆæœ¬ï¼šcd &amp;quot;/usr/local/Cellar/bazel/3.7.1/libexec/bin&amp;quot; &amp;amp;&amp;amp; curl -fLO https://releases.bazel.build/3.4.1/release/bazel-3.4.1-darwin-x86_64 &amp;amp;&amp;amp; chmod +x bazel-3.4.1-darwin-x86_64ï¼Œç„¶</description></item><item><title>Kubernetes æºç è§£æ - Informer</title><link>https://atbug.com/kubernetes-source-code-how-informer-work/</link><pubDate>Sun, 16 Aug 2020 23:32:38 +0800</pubDate><guid>https://atbug.com/kubernetes-source-code-how-informer-work/</guid><description>
ä¸Šç¯‡æ‰’äº† HPA çš„æºç ï¼Œä½†æ˜¯æ²¡æ·±å…¥ç»†èŠ‚ï¼Œä»Šå¤©å¾€ç»†èŠ‚æ·±å…¥ã€‚ å¼€å±€å…ˆç¥­å‡ºä¸€å¼ å›¾ï¼š Image not found a.warning-link { color: inherit !important; font-weight: inherit !important; text-decoration: underline !important; border-bottom: none !important; } ç½‘ç«™é“¾æ¥: https://atbug.oss-cn-hangzhou.aliyuncs.com/2020/08/16/15975802542217.png é“¾æ¥åˆ°æ–‡ä»¶: /static/https://atbug.oss-cn-hangzhou.aliyuncs.com/2020/08/16/15975802542217.png ä½¿ç”¨ Page Bundles: false ä¸ºä»€ä¹ˆè¦æœ‰ Informerï¼Ÿ Kubernetes ä¸­çš„æŒä¹…åŒ–æ•°æ®ä¿å­˜åœ¨ etcdä¸­ï¼Œå„ä¸ªç»„ä»¶å¹¶ä¸ä¼šç›´æ¥è®¿é—® etcdï¼Œè€Œæ˜¯é€šè¿‡ api-serveræš´éœ²çš„ RESTful æ¥å£å¯¹é›†ç¾¤è¿›è¡Œè®¿é—®å’Œæ§åˆ¶ã€‚ èµ„æºçš„æ§åˆ¶å™¨ï¼ˆå›¾ä¸­å³ä¾§ç°è‰²çš„éƒ¨åˆ†ï¼‰è¯»å–æ•°æ®ä¹Ÿå¹¶ä¸ä¼šç›´æ¥ä» api-server ä¸­è·å–èµ„æºä¿¡æ¯ï¼ˆè¿™æ ·ä¼šå¢åŠ  api-server çš„å‹åŠ›ï¼‰ï¼Œè€Œæ˜¯ä»å…¶â€œæœ¬åœ°ç¼“å­˜â€ä¸­è¯»å–ã€‚è¿™ä¸ªâ€œæœ¬åœ°ç¼“å­˜â€åªæ˜¯è¡¨è±¡çš„å­˜åœ¨ï¼ŒåŠ ä¸Šç¼“å­˜çš„åŒæ­¥é€»è¾‘å°±æ˜¯ä»Šå¤©è¦æ˜¯è¯´çš„Informerï¼ˆç°è‰²åŒºåŸŸä¸­çš„ç¬¬ä¸€ä¸ªè“è‰²å—ï¼‰æ‰€æä¾›çš„åŠŸèƒ½ã€‚ ä»å›¾ä¸­å¯ä»¥çœ‹åˆ° Informer çš„å‡ ä¸ªç»„ä»¶ï¼š Reflectorï¼šä¸ api</description></item><item><title>Kubernetes æºç è§£æ - HPA æ°´å¹³è‡ªåŠ¨ä¼¸ç¼©å¦‚ä½•å·¥ä½œ</title><link>https://atbug.com/kubernetes-source-code-how-hpa-work/</link><pubDate>Sat, 15 Aug 2020 02:09:37 +0800</pubDate><guid>https://atbug.com/kubernetes-source-code-how-hpa-work/</guid><description>
HPA - Horizontal Pod Autoscaler çš„ç¼©å†™ï¼ŒPod æ°´å¹³è‡ªåŠ¨ä¼¸ç¼©ã€‚é€šè¿‡å¯¹ Pod è´Ÿè½½çš„ç›‘æ§ï¼Œæ¥è‡ªåŠ¨å¢åŠ æˆ–è€…å‡å°‘ Pod çš„å‰¯æœ¬æ•°é‡ã€‚ ä»å­—é¢æ„æ€æ¥çœ‹ï¼Œå…¶ä¸»è¦åŒ…å«äº†ä¸¤éƒ¨åˆ†ï¼š ç›‘æ§ Pod çš„è´Ÿè½½ æ§åˆ¶ Pod çš„å‰¯æœ¬æ•°é‡ é‚£å…·ä½“æ˜¯å¦‚ä½•å®ç°çš„å‘¢ï¼Ÿä»¥ä¸‹åŸºäº1.17 æºç ï¼Œæ¥åˆ†æä¸‹ HPA å¦‚ä½•å·¥ä½œã€‚ æ³¨æ„ï¼šæ–‡ç« ä¸­çš„ä»£ç åœ¨æºç çš„åŸºç¡€ä¸Šè¿›è¡Œäº†ç²¾ç®€ï¼šåˆ æ‰äº†æ³¨é‡Šã€åºåˆ—åŒ–ç­‰ä¿¡æ¯ï¼Œæˆ–ä¿ç•™äº†éƒ¨åˆ†æ ¸å¿ƒä»£ç ï¼ŒåŠ ä¸Šæ–°çš„æ³¨é‡Šã€‚ èµ„æº HPA çš„èµ„æºæ˜¯HorizontalPodAutoscalerï¼Œåœ¨v1ç‰ˆæœ¬ä¸­ï¼Œåªæ”¯æŒåŸºäº CPU æŒ‡æ ‡çš„è®¡ç®—ï¼›åœ¨v2beta2ç‰ˆæœ¬ä¸­åŠ å…¥äº†åŸºäºå†…å­˜å’Œè‡ªå®šä¹‰æŒ‡æ ‡çš„è®¡ç®—ã€‚ v1 //staging/src/k8s.io/api/autoscaling/v1/types.go type HorizontalPodAutoscaler struct { metav1.TypeMeta metav1.ObjectMeta Spec HorizontalPodAutoscalerSpec Status HorizontalPodAutoscalerStatus } type HorizontalPodAutoscalerSpec struct { ScaleTargetRef CrossVersionObjectReference //ç›‘æ§çš„ç›®æ ‡èµ„æº MinReplicas *int32 //æœ€å°å‰¯æœ¬æ•° MaxReplicas int32 //æœ€å¤§å‰¯æœ¬æ•° TargetCPUUtilizationPercentage *int32 //è§¦å‘è°ƒæ•´çš„CPU ä½¿ç”¨</description></item><item><title>å¸¦ä½ äº†è§£ Ribbon è´Ÿè½½å‡è¡¡å™¨çš„å®ç°</title><link>https://atbug.com/how-loadbalancer-works-in-ribbon/</link><pubDate>Tue, 09 Jun 2020 19:35:53 +0800</pubDate><guid>https://atbug.com/how-loadbalancer-works-in-ribbon/</guid><description>
Spring Cloud ä¸­ Ribbonæœ‰åœ¨ Zuul å’Œ Feign ä¸­ä½¿ç”¨ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥é€šè¿‡åœ¨RestTemplateçš„ bean å®šä¹‰ä¸Šæ·»åŠ @LoadBalancedæ³¨è§£æ–¹å¼è·å¾—ä¸€ä¸ªå¸¦æœ‰è´Ÿè½½å‡è¡¡æ›´èƒ½çš„RestTemplateã€‚ ä¸è¿‡å®ç°çš„æ–¹æ³•éƒ½å¤§åŒå°å¼‚ï¼šå¯¹HttpClientè¿›è¡Œå°è£…ï¼ŒåŠ ä¸Šå®ä¾‹çš„â€é€‰æ‹©â€œï¼ˆè¿™ä¸ªé€‰æ‹©çš„é€»è¾‘å°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„è´Ÿè½½å‡è¡¡ï¼‰ã€‚ è¦å­¦ä¹ æŸä¸ªæ¡†æ¶çš„æ—¶å€™ï¼Œæœ€ç®€å•çš„æ–¹æ¡ˆå°±æ˜¯ï¼šRunning+Debuggingã€‚ è·‘å°±æ˜¯äº†ã€‚ debug ä¸ä¸€å®šæ˜¯ä¸ºäº† bug debug å‡ºçœŸçŸ¥ Debugging = Learning é€‰ç”¨ Ali Spittel çš„ä¸€æ¡æ¨æ–‡ï¼š Image not found a.warning-link { color: inherit !important; font-weight: inherit !important; text-decoration: underline !important; border-bottom: none !important; } ç½‘ç«™é“¾æ¥: https://atbug.oss-cn-hangzhou.aliyuncs.com/2020/06/09/screenshot-20200609-at-165236.png é“¾æ¥åˆ°æ–‡ä»¶: /static/https://atbug.oss-cn-hangzhou.aliyuncs.com/2020/06/09/screenshot-20200609-at-165236.png ä½¿ç”¨ Page Bundles: false ä»¥ Zuul è·¯ç”±çš„çº¿ç¨‹æ ˆä¸ºä¾‹ Image not found a.warning-link { color: inherit !important; font-weight: inherit !important; text-decoration: underline !important; border-bottom: none !important; } ç½‘ç«™é“¾æ¥: https://atbug.oss-cn-hangzhou.aliyuncs.com/2020/06/09/screenshot-20200609-at-151421.png é“¾æ¥åˆ°æ–‡ä»¶: /static/https://atbug.oss-cn-hangzhou.aliyuncs.com/2020/06/09/screenshot-20200609-at-151421.png ä½¿ç”¨ Page Bundles: false è°ƒæ•´ä¸‹</description></item><item><title>Eureka å®ä¾‹æ³¨å†ŒçŠ¶æ€ä¿æŒ STARTING çš„é—®é¢˜æ’æŸ¥</title><link>https://atbug.com/troubleshooting-on-eureka-instance-keep-starting/</link><pubDate>Thu, 28 May 2020 22:04:02 +0800</pubDate><guid>https://atbug.com/troubleshooting-on-eureka-instance-keep-starting/</guid><description>
Image not found a.warning-link { color: inherit !important; font-weight: inherit !important; text-decoration: underline !important; border-bottom: none !important; } ç½‘ç«™é“¾æ¥: https://atbug.oss-cn-hangzhou.aliyuncs.com/2020/05/28/maninblackshirtandgraydenimpantssittingongray11342.jpg é“¾æ¥åˆ°æ–‡ä»¶: /static/https://atbug.oss-cn-hangzhou.aliyuncs.com/2020/05/28/maninblackshirtandgraydenimpantssittingongray11342.jpg ä½¿ç”¨ Page Bundles: false è¿™æ˜¯çœŸå®å‘ç”Ÿåœ¨ç”Ÿäº§ç¯å¢ƒçš„ caseï¼Œå®ä¾‹å¯åŠ¨åæ­£å¸¸è¿è¡Œï¼Œè€Œåœ¨æ³¨å†Œä¸­å¿ƒçš„çŠ¶æ€ä¸€ç›´ä¿æŒSTARTINGï¼Œè€Œæœ¬åœ°çš„çŠ¶æ€ä¸ºUPã€‚å¯¼è‡´æœåŠ¡çš„æ¶ˆè´¹æ–¹æ— æ³•å‘ç°å¯ç”¨å®ä¾‹ã€‚ è¿™ç§æƒ…å†µçš„å‡ºç°æ¦‚ç‡éå¸¸ä½ï¼Œè¿è¡Œä¸€å¹´å¤šæœªå‘ç°ä¸¤ä¸ªå®ä¾‹åŒæ—¶å‡ºç°é—®é¢˜çš„æƒ…å†µï¼Œå› æ­¤å¤šå®ä¾‹è¿è¡Œå¯ä»¥é¿å…ã€‚æ–‡æœ«æœ‰é—®é¢˜çš„è§£å†³æ–¹æ¡ˆï¼Œä¸æƒ³èŠ±æ—¶é—´çœ‹åˆ†æè¿‡ç¨‹å¯ç›´æ¥è·³åˆ°æœ€åã€‚ ç¯å¢ƒè¯´æ˜ï¼š eureka-client: 1.7.2 spring-boot: 1.5.12.RELEASE spring-cloud: Edgware.SR3 é—®é¢˜é‡ç° å€ŸåŠ©Btraceé‡ç°, java -noverify -cp .:btrace-boot.jar -javaagent:btrace-agent.jar=script=&amp;lt;pre-compiled-btrace-script&amp;gt; &amp;lt;MainClass&amp;gt; &amp;lt;AppArguments&amp;gt; æ€è·¯ ä¸»çº¿ç¨‹æ›´æ–°å®ä¾‹æœ¬åœ°çŠ¶æ€(STARTING-&amp;gt;UP)å‰, ç­‰å¾…å¿ƒè·³çº¿ç¨‹å®Œæˆç¬¬ä¸€æ¬¡å¿ƒè·³å¹¶å°è¯•æ³¨å†Œå®ä¾‹, è·å–åˆ°å½“å‰çš„çŠ¶æ€STARTING. ä¸»çº¿ç¨‹æ›´æ–°çŠ¶æ€åè§¦</description></item><item><title>Tekton çš„å·¥ä½œåŸç†</title><link>https://atbug.com/how-tekton-works/</link><pubDate>Sat, 23 May 2020 22:47:14 +0800</pubDate><guid>https://atbug.com/how-tekton-works/</guid><description>
Image not found a.warning-link { color: inherit !important; font-weight: inherit !important; text-decoration: underline !important; border-bottom: none !important; } ç½‘ç«™é“¾æ¥: https://atbug.oss-cn-hangzhou.aliyuncs.com/2020/05/24/tekton.jpeg é“¾æ¥åˆ°æ–‡ä»¶: /static/https://atbug.oss-cn-hangzhou.aliyuncs.com/2020/05/24/tekton.jpeg ä½¿ç”¨ Page Bundles: false è¿™ç¯‡æ–‡ç« æ˜¯åŸºäº Tekton Pipeline çš„æœ€æ–°ç‰ˆæœ¬v0.12.1ç‰ˆæœ¬ã€‚ å¿«é€Ÿå…¥é—¨è¯·å‚è€ƒï¼šäº‘åŸç”Ÿ CICD: Tekton Pipeline å®æˆ˜ ï¼Œå®æˆ˜æ˜¯åŸºäºç‰ˆæœ¬ v0.10.xã€‚ Pipeline CRD ä¸æ ¸å¿ƒèµ„æºçš„å…³ç³» $ k api-resources --api-group=tekton.dev NAME SHORTNAMES APIGROUP NAMESPACED KIND clustertasks tekton.dev false ClusterTask conditions tekton.dev true Condition pipelineresources tekton.dev true PipelineResource pipelineruns pr,prs tekton.dev true PipelineRun pipelines tekton.dev true Pipeline taskruns tr,trs tekton.dev true TaskRun tasks tekton.dev true Task Tekton Pipelinesæä¾›äº†ä¸Šé¢çš„CRDï¼Œå…¶ä¸­éƒ¨åˆ†CRDä¸k8s coreä¸­èµ„æºç›¸å¯¹åº” Task =&amp;gt; Pod Task.Step =&amp;gt; Container Image not found a.warning-link { color: inherit !important; font-weight: inherit !important; text-decoration: underline !important; border-bottom: none !important; } ç½‘ç«™é“¾æ¥: https://atbug.oss-cn-hangzhou.aliyuncs.com/2020/05/23/15902164552270.jpg é“¾æ¥åˆ°æ–‡ä»¶: /static/https://atbug.oss-cn-hangzhou.aliyuncs.com/2020/05/23/15902164552270.jpg ä½¿ç”¨ Page Bundles: false å·¥ä½œåŸç† Image not found a.warning-link { color: inherit !important; font-weight: inherit !important; text-decoration: underline !important; border-bottom: none !important; } ç½‘ç«™é“¾æ¥: https://atbug.oss-cn-hangzhou.aliyuncs.com/2020/05/23/15902280074872.jpg é“¾æ¥åˆ°æ–‡ä»¶: /static/https://atbug.oss-cn-hangzhou.aliyuncs.com/2020/05/23/15902280074872.jpg ä½¿ç”¨ Page Bundles: false (å›¾ç‰‡æ¥è‡ª) Tekton Pipeline æ˜¯åŸºäº Knative çš„å®ç°ï¼Œpod tekton-pipelines-controller ä¸­æœ‰ä¸¤ä¸ª Knative Controllerçš„</description></item><item><title>Java ä¸­çš„ Mysql æ—¶åŒºé—®é¢˜</title><link>https://atbug.com/mysql-timezone-in-java/</link><pubDate>Thu, 14 May 2020 11:34:24 +0800</pubDate><guid>https://atbug.com/mysql-timezone-in-java/</guid><description>
Image not found a.warning-link { color: inherit !important; font-weight: inherit !important; text-decoration: underline !important; border-bottom: none !important; } ç½‘ç«™é“¾æ¥: https://atbug.oss-cn-hangzhou.aliyuncs.com/2020/05/14/anonymouspersonwithminiatureairplaneonchalkboard37.jpg é“¾æ¥åˆ°æ–‡ä»¶: /static/https://atbug.oss-cn-hangzhou.aliyuncs.com/2020/05/14/anonymouspersonwithminiatureairplaneonchalkboard37.jpg ä½¿ç”¨ Page Bundles: false (Photo by Andrea Piacquadio from Pexels) è¯è¯´å·¥ä½œåå¤šå¹´ï¼Œmysql è¿˜çœŸæ²¡ç”¨å‡ å¹´ã€‚èµ·åˆæ˜¯å¤–ä¼é“¶è¡Œï¼Œæ— æ³•ç›´æ¥æ¥è§¦åˆ° DBï¼›åæ¥ä¸€ç›´ä»äº‹æ¶æ„æ–¹é¢ï¼Œä¹Ÿå¤šæ˜¯è§£å†³é—®é¢˜ä¸ºä¸»ã€‚ è¿™æ¬¡æ­å»ºæµ·å¤–æœºæˆ¿ï¼Œå›´ç»•æ—¶åŒºå¤§å®¶åšäº†ä¸€ç•ªè®¨è®ºã€‚ä¸è¯´æœ€ç»ˆçš„ç»“æœæ˜¯ä»€ä¹ˆï¼ŒæœŸé—´æœ‰åŒäº‹è®¤ä¸º DB è¿”å›çš„æ˜¯ UTC æ—¶é—´ã€‚ è¿™é‡Œç®€å•åšä¸ªéªŒè¯ï¼Œé¡ºä¾¿çœ‹ä¸‹æ—¶åŒºçš„é—®é¢˜åˆ°åº•æ˜¯å¦‚ä½•å¤„ç†ã€‚ ç¯å¢ƒ openjdk version &amp;ldquo;1.8.0_242&amp;rdquo; mysql-connector-java &amp;ldquo;8.0.20&amp;rdquo; mysql &amp;ldquo;5.7&amp;rdquo; æ—¶åŒº TZ=Europe/London æœ¬åœ°æ—¶åŒº GMT+8 åˆ›å»ºä¸ªç®€å•çš„åº“teståŠè¡¨userï¼Œ è¡¨ç»“æ„å¦‚ä¸‹ï¼š CREATE TABLE `user` ( `name` varchar(50) NOT NULL, `birth_date` timestamp NULL DEFAULT CURRENT_TIMESTAMP ) ENGINE=InnoDB DEFAULT CHARSET=latin1 æ’å…¥ä¸€æ¡æµ‹è¯•æ•°æ®ï¼š mysql&amp;gt; insert into `user` -&amp;gt; values (&amp;#39;Tom&amp;#39;, time(&amp;#39;2020-05-15 08:00:00&amp;#39;)); Query OK, 1 row affected (0.01 sec) mysql&amp;gt; select * from user; +------+---------------------+ | name | birth_date | +------+---------------------+ | Tom | 2020-05-14 08:00:00 | +------+---------------------+ 1 row in set (0.00 sec) æµ‹è¯•ä»£ç ï¼š Connection conn = DriverManager.getConnection(&amp;#34;jdbc:mysql://localhost:3306/test?useSSL=false&amp;#34;, &amp;#34;root&amp;#34;, &amp;#34;root&amp;#34;); Statement stmt = conn.createStatement(); stmt.execute(&amp;#34;select</description></item><item><title>ç¿»è¯‘ï¼šå¤šè¿è¡Œæ—¶å¾®æœåŠ¡æ¶æ„</title><link>https://atbug.com/translation-multi-runtime-microservices-architecture/</link><pubDate>Wed, 01 Apr 2020 23:18:00 +0800</pubDate><guid>https://atbug.com/translation-multi-runtime-microservices-architecture/</guid><description>
è¿™æ ·æ–‡ç« é€šè¿‡Googleç¿»è¯‘å’Œäººå·¥é€å­—ä¿®æ”¹çš„æ–¹å¼å®Œæˆçš„ï¼ŒæŸäº›ä½ç½®ä¹ŸåŠ ä¸Šè‡ªå·±çš„ç†è§£ã€‚å¦‚æœ‰é”™è¯¯ï¼Œè¯·æŒ‡å‡ºã€‚ ç¿»è¯‘è¿™ç¯‡æ–‡ç« çš„ç›®çš„å…¶å®æ˜¯ä¸ºäº†è‡ªå·±åŠ æ·±å¯¹å¾®æœåŠ¡ã€åˆ†å¸ƒå¼æ¶æ„ä»¥åŠå¤šè¿è¡Œæ—¶æ¶æ„çš„ç†è§£ã€‚æ•´ç¯‡æ–‡ç« ä»â€æˆ˜ç•¥â€œä¸Šåˆ†æäº†å¾®æœåŠ¡â€ä»å¤è‡³ä»Šâ€œè§£å†³çš„é—®é¢˜ï¼Œä»¥åŠå¸¦æ¥çš„æ–°é—®é¢˜ï¼›è¿›è€Œåœ¨â€œæˆ˜æœ¯â€å±‚é¢ï¼Œç»™å‡ºäº†è§£å†³è¿™äº›æ–°é—®é¢˜çš„æ‰‹æ®µã€‚ ä¸ªäººè§è§£ï¼šæ¶æ„ä»æ¥éƒ½æ˜¯è§£å†³é—®é¢˜å¹¶å¸¦æ¥é—®é¢˜ï¼Œ å–èˆä¹‹é“ ã€‚ èƒŒæ™¯çŸ¥è¯† å¾®æœåŠ¡çš„ 12 è¦ç´ ï¼š åŸºå‡†ä»£ç ï¼šä¸€ä»½åŸºå‡†ä»£ç ï¼Œå¤šä»½éƒ¨ç½² ä¾èµ–ï¼šæ˜¾å¼å£°æ˜ä¾èµ–å…³ç³» é…ç½®ï¼šåœ¨ç¯å¢ƒä¸­å­˜å‚¨é…ç½® åç«¯æœåŠ¡ï¼šæŠŠåç«¯æœåŠ¡å½“åšé™„åŠ èµ„æº æ„å»ºã€å‘å¸ƒã€è¿è¡Œï¼šä¸¥æ ¼åˆ†ç¦»æ„å»ºå’Œè¿è¡Œ è¿›ç¨‹ï¼šä»¥ä¸€ä¸ªæˆ–å¤šä¸ªæ— çŠ¶æ€è¿›ç¨‹è¿è¡Œåº”ç”¨ ç«¯å£ç»‘å®šï¼šé€šè¿‡ç«¯å£ç»‘å®šæä¾›æœåŠ¡ å¹¶å‘ï¼šé€šè¿‡è¿›</description></item><item><title>æ§åˆ¶ Pod å†…å®¹å™¨çš„å¯åŠ¨é¡ºåº</title><link>https://atbug.com/control-process-order-of-pod-containers/</link><pubDate>Thu, 12 Mar 2020 22:05:16 +0800</pubDate><guid>https://atbug.com/control-process-order-of-pod-containers/</guid><description>
Image not found a.warning-link { color: inherit !important; font-weight: inherit !important; text-decoration: underline !important; border-bottom: none !important; } ç½‘ç«™é“¾æ¥: https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/04/30/screenshot-20210430-at-092623.png é“¾æ¥åˆ°æ–‡ä»¶: /static/https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/04/30/screenshot-20210430-at-092623.png ä½¿ç”¨ Page Bundles: false 2021.4.30 æ›´æ–°ï¼š æœ€æ–°çš„æ–¹æ¡ˆï¼Œè¯·è·³è½¬æ–°ç¯‡ Kubernetes ä¸Šå¦‚ä½•æ§åˆ¶å®¹å™¨çš„å¯åŠ¨é¡ºåºã€‚ èƒŒæ™¯ ä¼—æ‰€å‘¨çŸ¥, Kubernetes Pod å†…æœ‰ä¸¤ç§å®¹å™¨: åˆå§‹åŒ–å®¹å™¨(init container)å’Œåº”ç”¨å®¹å™¨(app container). å…¶ä¸­åˆå§‹åŒ–å®¹å™¨çš„æ‰§è¡Œå…ˆäºåº”ç”¨å®¹å™¨, å¹¶ä¸”åˆå§‹åŒ–å®¹å™¨å’Œåº”ç”¨å®¹å™¨çš„ä¸ªæ•°åˆ†åˆ«ä¸º 0~n å’Œ 1~n. åˆå§‹åŒ–å®¹å™¨ä¼šæŒ‰ç…§é¡ºåºæ‰§è¡Œ, é¡ºåºæ‰§è¡Œçš„å‰ææ˜¯åˆå§‹åŒ–å®¹å™¨å§‹ç»ˆä¼šè¿è¡Œåˆ°å®Œæˆ(completed)çŠ¶æ€. è€Œåº”ç”¨å®¹å™¨æ°å¥½ç›¸å: å¯åŠ¨é¡ºåºéšæœº, å¹¶å§‹ç»ˆä¿æŒè¿è¡Œ(running)çŠ¶æ€. é—®é¢˜ å·¥ä½œä¸­æœ‰ä¸ªæ¶æ„çš„æ–¹æ¡ˆä½¿ç”¨åˆ°äº† sidecar å®¹å™¨: å°†åŸºç¡€ç»„ä»¶åŠŸèƒ½ä»å®¹å™¨è½¬ç§»åˆ° sidecar å®¹å™¨ä¸­, å…¶ä¸­æœ‰ä¸ªåŠŸèƒ½æ˜¯ä»è¿œç¨‹é…ç½®ä¸­å¿ƒè·å–é…ç½®å¹¶ä¿æŒå®æ—¶æ›´æ–°. ä¿è¯å®</description></item><item><title>Go Docker é•œåƒè¿›é˜¶: ç²¾ç®€é•œåƒ</title><link>https://atbug.com/build-minimal-docker-image-for-go-app/</link><pubDate>Wed, 11 Mar 2020 23:00:27 +0800</pubDate><guid>https://atbug.com/build-minimal-docker-image-for-go-app/</guid><description>
Image not found a.warning-link { color: inherit !important; font-weight: inherit !important; text-decoration: underline !important; border-bottom: none !important; } ç½‘ç«™é“¾æ¥: https://atbug.oss-cn-hangzhou.aliyuncs.com/2020/03/11/15839387687383.jpg é“¾æ¥åˆ°æ–‡ä»¶: /static/https://atbug.oss-cn-hangzhou.aliyuncs.com/2020/03/11/15839387687383.jpg ä½¿ç”¨ Page Bundles: false â€‹[å›¾ç‰‡æ¥è‡ª https://www.facebook.com/sequenceprocess/] é—®é¢˜: å…¥é—¨åˆ°ç”Ÿäº§çº§çš„å·®è· æ˜¨å¤©çš„æ–‡ç« ã€Šä¸º Go åº”ç”¨åˆ›å»º Docker é•œåƒã€‹, ç®—æ˜¯å…¥é—¨çº§çš„, å¹¶ä¸é€‚ç”¨äºç”Ÿäº§çº§. ä¸ºä»€ä¹ˆ? $ docker images REPOSITORY TAG IMAGE ID CREATED SIZE addozhang/golang-hello-world latest 4cce1292a87a 4 seconds ago 813MB æ•´ä¸ªé•œåƒçš„å¤§å°æœ‰ 813MB, è¿™è¿˜åªæœ‰ä¸€ä¸ªç®€å•çš„ Hello world. å› ä¸ºå…¶ä¸­åŒ…å«äº† Golang çš„ç¼–è¯‘å’Œè¿è¡Œç¯å¢ƒ. ä½†æ˜¯å®é™…ç”Ÿäº§ç¯å¢ƒä¸­, æˆ‘ä»¬å¹¶ä¸éœ€è¦è¿™ä¹ˆå¤š. å…ˆçœ‹ç»“æœ ç²¾ç®€ä¹‹ååªæœ‰ 2.07MB, è€Œä¸”å¹¶ä¸å½±å“è¿è¡Œ. $ docker images REPOSITORY TAG IMAGE ID CREATED SIZE addozhang/golang-hello-world latest 4cce1292a87a 3 minutes ago 813MB addozhang/golang-hello-world2 latest 1da5bb994074 7 minutes ago 2.07MB $ docker run --rm addozhang/golang-hello-world2 Hello world è§£å†³æ–¹æ¡ˆ å¦‚æœåšåˆ°çš„? é¦–å…ˆä»åŸºç¡€é•œåƒå¼€å§‹, æ¢æˆscratch1. æ„å»ºæ—¶å°†ç¼–è¯‘å¥½çš„æ–‡ä»¶å¤åˆ¶åˆ°é•œåƒä¸­ FROM scratch ADD golang-hello-world / CMD [&amp;#34;/golang-hello-world&amp;#34;] å‡å¦‚ä½ æ˜¯ä½¿ç”¨go buildæ¥ç¼–è¯‘, åœ¨ Macos ä¸Šä¼šé‡åˆ°å¦‚ä¸‹é—®é¢˜: $ docker run</description></item><item><title>ä¸º Go åº”ç”¨åˆ›å»º Docker é•œåƒ</title><link>https://atbug.com/build-docker-image-for-go-app/</link><pubDate>Wed, 11 Mar 2020 20:41:58 +0800</pubDate><guid>https://atbug.com/build-docker-image-for-go-app/</guid><description>
Image not found a.warning-link { color: inherit !important; font-weight: inherit !important; text-decoration: underline !important; border-bottom: none !important; } ç½‘ç«™é“¾æ¥: https://atbug.oss-cn-hangzhou.aliyuncs.com/2020/03/11/15839304511808.jpg é“¾æ¥åˆ°æ–‡ä»¶: /static/https://atbug.oss-cn-hangzhou.aliyuncs.com/2020/03/11/15839304511808.jpg ä½¿ç”¨ Page Bundles: false å—¯å—¯, æœ€è¿‘å¼€å§‹ç”¨ Golang äº†. ä»Šå¤©éœ€è¦ä¸º Go åº”ç”¨åˆ›å»ºå¯¹è±¡, çœ‹äº†ä¸‹å®˜æ–¹åšå®¢. æ‹¿ hello world åšä¸ªæµ‹è¯•. ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤åˆ›å»ºä¸ªæ–°çš„é¡¹ç›® $ mkdir -p $GOPATH/src/github.com/addozhang/golang-hello-world &amp;amp;&amp;amp; cd &amp;#34;$_&amp;#34; $ go mod init github.com/addozhang/golang-hello-world go: creating new go.mod: module github.com/addozhang/golang-hello-world $ cat &amp;lt;&amp;lt; EOF &amp;gt; main.go package main import &amp;#34;fmt&amp;#34; func main() { fmt.Println(&amp;#34;Hello world&amp;#34;) } EOF # go fmt è¿è¡Œæ£€æŸ¥ä¸€æ¬¡ $ go run main.go Hello world ç¨‹åºæ²¡é—®é¢˜, ä¸‹é¢å°±æ˜¯æ„å»ºé•œåƒäº†. åˆ›å»ºä¸€ä¸ª Dockerfile æ–‡ä»¶, å†…å®¹å¦‚ä¸‹: FROM golang LABEL Author=&amp;#34;addozhang&amp;#34; ADD . /go/src/github.com/addozhang/golang-hello-world RUN go install github.com/addozhang/golang-hello-world ENTRYPOINT [ &amp;#34;/go/bin/golang-hello-world&amp;#34; ] æ„å»ºé•œåƒ: $ docker build -t addozhang/golang-hello-world . è¿è¡Œé•œåƒ: $ docker run --rm addozhang/golang-hello-world:latest Hello world è¿è¡Œæ²¡é—®é¢˜, æ”¶å·¥</description></item><item><title>äº‘åŸç”ŸCICD: Tekton Trigger å®æˆ˜</title><link>https://atbug.com/tekton-trigger-practice/</link><pubDate>Wed, 12 Feb 2020 21:30:03 +0800</pubDate><guid>https://atbug.com/tekton-trigger-practice/</guid><description>
Triggerçš„ä»‹ç»çœ‹ è¿™é‡Œ. æ¥ä¸Šæ–‡ Tekton Pipeline å®æˆ˜ , æˆ‘ä»¬ä¸ºæŸä¸ªé¡¹ç›®åˆ›å»ºäº†ä¸€ä¸ªPipeline, ä½†æ˜¯æ‰§è¡Œæ—¶é€šè¿‡ PipelineRun æ¥å®Œæˆçš„. åœ¨ PipelineRun ä¸­æˆ‘ä»¬åˆ¶å®šäº† Pipepline ä»¥åŠè¦ä½¿ç”¨çš„ PipelineResource. ä½†æ˜¯æ—¥å¸¸çš„å¼€å‘ä¸­, æˆ‘ä»¬æ›´å¤šå¸Œæœ›åœ¨æäº¤äº†ä»£ç ä¹‹åå¼€å§‹ Pipeline çš„æ‰§è¡Œ. è¿™æ—¶æˆ‘ä»¬å°±è¦ç”¨åˆ° Tekton Trigger äº†. æ€è·¯æ˜¯è¿™æ ·: ä»£ç æäº¤åå°†Push Eventå‘é€ç»™Tekton Trigger EventController(ä»¥ä¸‹ç®€ç§° Controller), ç„¶å Controller åŸºäºçš„TriggerBindingçš„é…ç½®ä» payload ä¸­æå–ä¿¡æ¯, è£…è½½åœ¨&amp;quot;Params&amp;quot;ä¸­ä½œä¸ºTriggerTemplateçš„å…¥å‚. æœ€å Controller åˆ›å»ºPipelineRun. Trigger ç›¸å…³çš„èµ„æº TriggerTemplate å›çœ‹ä¸Šå›ç”¨çš„PipelineRun Yaml, å‚æ•°æœ‰revision, url, image</description></item><item><title>Tekton Trigger ä»‹ç»</title><link>https://atbug.com/tekton-trigger-glance/</link><pubDate>Wed, 05 Feb 2020 18:03:15 +0800</pubDate><guid>https://atbug.com/tekton-trigger-glance/</guid><description>
èƒŒæ™¯ Tekton çš„ä»‹ç»è¯·å‚è€ƒTekton Pipeline å®æˆ˜. é€šå¸¸, CI/CD äº‹ä»¶åº”è¯¥åŒ…å«å¦‚ä¸‹ä¿¡æ¯: ç¡®å®šäº‹ä»¶çš„ç±»å‹(æ¯”å¦‚ GitHub Push, GitLab Issue, Docker Hub Webhook ç­‰) å¯ä»ç‰¹å®šç®¡é“è®¿é—®å¹¶æ˜ å°„åˆ°ç‰¹å®šç®¡é“ (ä»äº‹ä»¶è´Ÿè½½ä¸­è·å– SHA ä¿¡æ¯, ç„¶ååœ¨ç®¡é“ä¸­ä½¿ç”¨) å‡†ç¡®åœ°è§¦å‘ç®¡é“ (åŸºäºæœ‰æ•ˆè´Ÿè½½å€¼è§¦å‘ç®¡é“) Tekton API çš„è®¾è®¡åˆ†ç¦»äº†é…ç½®(æ¯”å¦‚ PipelineRun VS Pipeline), ä¿è¯äº† step å¯ä»¥è¢«é‡ç”¨. ä½†æ˜¯æ²¡æœ‰æä¾›åŠ¨æ€å°è£…é…ç½®çš„æœºåˆ¶æ¥ç”Ÿæˆèµ„æº(å°¤å…¶æ˜¯ PipelineRun å’Œ PipelineResource). Triggers é€šè¿‡ä¸‹é¢çš„ CRDs åœ¨æ¶æ„ä¸Šå¯¹ Tekton è¿›è¡Œäº†æ‰©å±•: TriggerTemplate: åˆ›å»ºèµ„æºçš„æ¨¡æ¿(æ¯”å¦‚ç”¨æ¥åˆ›å»º PipelineResource å’Œ PipelineRun) TriggerBinding: æ ¡éªŒäº‹ä»¶å¹¶æå–è´Ÿè½½å­—æ®µ EventListener: è¿æ¥TriggerBindingå’ŒTriggerTemplateåˆ°å¯å¯»å€çš„ç«¯ç‚¹(äº‹ä»¶æ¥æ”¶å™¨). ä½¿ç”¨ä»å„ä¸ª TriggerBindingä¸­æå–çš„å‚æ•°æ¥åˆ›å»ºTriggerTemp</description></item><item><title>Tekton Dashboard å®‰è£…</title><link>https://atbug.com/tekton-dashboard-installation/</link><pubDate>Sat, 01 Feb 2020 12:39:28 +0800</pubDate><guid>https://atbug.com/tekton-dashboard-installation/</guid><description>
Tekton æä¾›äº†dashboardæ–¹ä¾¿ç”¨æˆ·ç®¡ç†å’ŒæŸ¥çœ‹ Tekton PipelineRun å’Œ TaskRun ä»¥åŠåˆ›å»º, æ‰§è¡Œå’Œå®Œæˆè¿‡ç¨‹ä¸­æ¶‰åŠçš„èµ„æº. å®ƒè¿˜å…è®¸æŒ‰æ ‡ç­¾è¿‡æ»¤ PipelineRun å’Œ TaskRun. å®‰è£…æ–¹æ³• kubectl apply --filename https://github.com/tektoncd/dashboard/releases/download/v0.4.1/dashboard_latest_release.yaml æ£€æŸ¥dashboardçš„è¿è¡Œæƒ…å†µ, STATUSä¸ºRunningçš„è¯åˆ™è¯´æ˜è¿è¡ŒæˆåŠŸ. kubectl get pods --namespace tekton-pipelines è®¿é—® è®¿é—®Tektonçš„Dashboardæœ‰ä¸¤ç§æ–¹å¼, ä¸€ç§æ˜¯é€šè¿‡port-forward, å¦ä¸€ç§æ˜¯é€šè¿‡ingressæ¥è®¿é—®. port-forward kubectl port-forward svc/tekton-dashboard 9097 ingress å…ˆæ£€æŸ¥ingressæ˜¯å¦å¼€å¯. minikube addon list ... - ingress: enabled ... å¦‚æœæ˜¯disabledçš„è¯, é€šè¿‡å‘½ä»¤minikube addons enable ingress. æ³¨æ„: è¿™é‡Œæ‹‰å–quay.io/kubernetes-ingress-controller/nginx-ingress-controlleré•œ</description></item><item><title>Tekton 0.9.0 æ›´æ–°</title><link>https://atbug.com/tekton-0.9.0-release/</link><pubDate>Sun, 19 Jan 2020 14:33:17 +0800</pubDate><guid>https://atbug.com/tekton-0.9.0-release/</guid><description>
ç¿»è¯‘æ•´ç†è‡ª Whatâ€™s New in Tekton 0.9 åŠŸèƒ½åŠBugä¿®å¤ è„šæœ¬æ¨¡å¼ ä»¥å‰å¦‚æœè¦åœ¨å®¹å™¨é‡Œè¿è¡Œä¸ªç®€å•çš„ bash è„šæœ¬, éœ€è¦è¿™ä¹ˆå†™: - name:helloimage:ubuntucommand:[&amp;#39;bash&amp;#39;]args:- -c- |set -ex echo &amp;#34;hello&amp;#34;åœ¨ 0.9 ä¹‹å, å¯ä»¥æ›´åŠ ç®€å•, ä¸éœ€è¦å†å†™command å’Œè®¨åŒçš„-c. - name:helloimage:ubuntuscript:|#!/bin/bash echo &amp;#34;hello&amp;#34;æ€§èƒ½ é€šè¿‡ä¸€ç³»åˆ—çš„å·¥ä½œ, æ¯ä¸ª PipelineRun çš„è¿è¡Œæ—¶é—´ç¼©çŸ­äº† 5-20 ç§’ API å˜åŒ– ä¸ºäº† beta ç‰ˆæœ¬çš„å‘å¸ƒ, API åšäº†ä¸€äº›è°ƒæ•´: é•œåƒæ‘˜è¦è¾“å‡ºè·¯å¾„çš„æ ‡å‡†åŒ– Tekton ç›®å‰æä¾›äº†ä¸€ä¸ªæœºåˆ¶ç”¨äºå­˜å‚¨ task æ„å»ºå‡ºçš„é•œåƒçš„æ‘˜è¦. è¿™ä¸ªæœºåˆ¶æ—©äº PipelineResourceå­ç³»ç»Ÿ, å¹¶è¦æ±‚ Task ç¼–å†™è€…é•œåƒè¿™äº›æ‘˜è¦å†™åˆ°æŒ‡å®šçš„ä½ç½®/builder/image-outputs. ä»ç°åœ¨å¼€å§‹, æœ‰äº†è¾“å‡ºèµ„æºçš„æ ‡å‡†è·¯å¾„/workspace/</description></item><item><title>Tektonå®‰è£…åŠHello world</title><link>https://atbug.com/tekton-installation-and-sample/</link><pubDate>Fri, 17 Jan 2020 19:17:14 +0800</pubDate><guid>https://atbug.com/tekton-installation-and-sample/</guid><description>
å®‰è£… kubectl apply --filename https://storage.googleapis.com/tekton-releases/pipeline/latest/release.yaml æ£€æŸ¥å®‰è£…çš„tektonç›¸å…³çš„CRD: kubectl api-resources | grep tekton clustertasks tekton.dev false ClusterTask conditions tekton.dev true Condition pipelineresources tekton.dev true PipelineResource pipelineruns pr,prs tekton.dev true PipelineRun pipelines tekton.dev true Pipeline taskruns tr,trs tekton.dev true TaskRun tasks tekton.dev true Task tektonçš„ä¸¤ä¸ªpod: kubectl get pods --namespace tekton-pipelines NAME READY STATUS RESTARTS AGE tekton-pipelines-controller-556d8f4494-2qthv 1/1 Running 0 11m tekton-pipelines-webhook-849cff5cf-8m5qq 1/1 Running 0 11m å®‰è£…CLI cli: https://github.com/tektoncd/cli#installing-tkn brew install tektoncd-cli Tekton: hello world åˆ›å»ºä¸€ä¸ªç®€å•çš„Task, åªæœ‰ä¸€ä¸ªstepå°±æ˜¯æ‰“å°å‡º&amp;quot;hello world&amp;quot; apiVersion:tekton.dev/v1alpha1kind:Taskmetadata:name:echo-hello-worldspec:steps:- name:echoimage:alpinecommand:- echoargs:- &amp;#34;hello world&amp;#34;åˆ›å»ºä¸€ä¸ªTaskRunæ‰§è¡Œä¸Šé¢çš„Task apiVersion:tekton.dev/v1alpha1kind:TaskRunmetadata:name:echo-hello-world-task-runspec:taskRef:name:echo-hello-worldè¿è¡Œtask: kubectl apply</description></item><item><title>Minikubeå®‰è£…istio</title><link>https://atbug.com/install-istio-on-minikube/</link><pubDate>Fri, 17 Jan 2020 08:02:42 +0800</pubDate><guid>https://atbug.com/install-istio-on-minikube/</guid><description>
å‡†å¤‡ æ³¨æ„: istioctlçš„å®‰è£…è¦ä½¿ç”¨å®‰è£…é‡Œçš„, ä¸è¦æ˜¯ç”¨homebrewé‡Œçš„. github issue curl -L https://istio.io/downloadIstio | sh - cd istio-1.4.2 cp bin/istioctl /usr/local/bin/istioctl å®‰è£…å‰æ£€æŸ¥ istioctl verify-install å¦‚æœæ£€æŸ¥æ²¡é—®é¢˜, ä¼šçœ‹åˆ°Install Pre-Check passed! The cluster is ready for Istio installation. å®‰è£… istioæœ‰5ç§å†…å»ºçš„å®‰è£…é…ç½®1: remote, sds, default, demo, minimal istioctl profile list minimal: ä½¿ç”¨istioçš„æµé‡ç®¡ç†æ‰€éœ€ç»„ä»¶çš„æœ€å°åŒ–å®‰è£… default: æ ¹æ®IstioControlPlane APIçš„é»˜è®¤è®¾ç½®(å»ºè®®ç”¨äºç”Ÿäº§éƒ¨ç½²)å¯ç”¨ç»„ä»¶. æ‚¨å¯ä»¥é€šè¿‡è¿è¡Œå‘½ä»¤istioctl profile dumpæ˜¾ç¤ºé»˜è®¤è®¾ç½®. demo: å‡ ä¹å®‰è£…æ‰€æœ‰çš„ç‰¹æ€§, åŒ…æ‹¬loggingå’Œtracingçš„æ¯”ä¾‹ä¸º100%. ä¸é€‚åˆç”Ÿäº§ç¯å¢ƒ, è´Ÿè½½å¤ªé‡ default demo minimal sds remote Core components istio-citadel X X X X istio-egressgateway X istio-galley X X X istio-ingressgateway X X X istio-nodeagent X istio-pilot X X X X istio-policy X X X istio-sidecar-injector X X X X istio-telemetry X X X Addons</description></item><item><title>ç¥ç§˜çš„Eurekaè‡ªæˆ‘ä¿æŠ¤</title><link>https://atbug.com/translation-the-mystery-of-eurekas-self-preservation/</link><pubDate>Sun, 05 Jan 2020 14:14:03 +0800</pubDate><guid>https://atbug.com/translation-the-mystery-of-eurekas-self-preservation/</guid><description>
æœ¬æ–‡ç¿»è¯‘è‡ªThe Mystery of Eureka Self-Preservation æ ¹æ®CAPå®šç†, Eurekaæ˜¯ä¸€ä¸ªAPç³»ç»Ÿ, è¿™å°±å¯¼è‡´äº†åœ¨ç½‘ç»œåˆ†åŒºæœŸé—´å¤šä¸ªæ³¨å†Œè¡¨ä¸­çš„ä¿¡æ¯ä¸ä¸€è‡´. è‡ªæˆ‘ä¿æŠ¤åŠŸèƒ½åˆ™æ˜¯ä¸ºäº†å°½å¯èƒ½é™ä½è¿™ç§ä¸ä¸€è‡´. è‡ªæˆ‘ä¿æŠ¤çš„å®šä¹‰ è‡ªæˆ‘ä¿æŠ¤(self preservation)æ˜¯Eurekaçš„ä¸€é¡¹åŠŸèƒ½, Eurekaæ³¨å†Œè¡¨åœ¨æœªæ”¶åˆ°å®ä¾‹çš„å¿ƒè·³æƒ…å†µè¶…è¿‡ä¸€å®šé˜ˆå€¼æ—¶åœæ­¢é©±é€è¿‡æœŸçš„å®ä¾‹. ä»ä¸€ä¸ªå¥åº·çš„ç³»ç»Ÿå¼€å§‹ æŠŠä¸‹é¢çœ‹æˆä¸€ä¸ªå¥åº·çš„ç³»ç»Ÿ Image not found a.warning-link { color: inherit !important; font-weight: inherit !important; text-decoration: underline !important; border-bottom: none !important; } ç½‘ç«™é“¾æ¥: https://raw.githubusercontent.com/addozhang/oss/master/uPic/n5wZMX.jpg é“¾æ¥åˆ°æ–‡ä»¶: /static/https://raw.githubusercontent.com/addozhang/oss/master/uPic/n5wZMX.jpg ä½¿ç”¨ Page Bundles: false å‡è®¾æ‰€æœ‰çš„å¾®æœåŠ¡éƒ½å¤„äºå¥åº·çš„çŠ¶æ€å¹¶æˆåŠŸæ³¨å†Œåˆ°Eurekaæ³¨å†Œè¡¨ä¸­. å¤šä¸ªæ³¨å†Œè¡¨é—´ä¼šåŒæ­¥æ³¨å†Œè¡¨è®°å½•, æ‰€æœ‰çš„å¾®æœåŠ¡å®ä¾‹éƒ½å¤„äºUPçŠ¶æ€. å‡è®¾å®ä¾‹2ä»æ³¨å†Œä¸­å¿ƒå‘ç°é‡Œå®ä¾‹4, å¹¶è°ƒ</description></item><item><title>åŠ é€Ÿäº‘åŸç”Ÿçš„ Java å¼€å‘</title><link>https://atbug.com/speed-up-java-development-on-kubernetes/</link><pubDate>Sat, 21 Dec 2019 20:45:22 +0800</pubDate><guid>https://atbug.com/speed-up-java-development-on-kubernetes/</guid><description>
ä»Šå¤©æ¥è¯´è¯´æ—¥å¸¸åœ¨Kuberneteså¼€å‘Javaé¡¹ç›®é‡åˆ°çš„é—®é¢˜. å½“æˆ‘ä»¬æ–°å»ºä¸€ä¸ªé¡¹ç›®çš„æ—¶å€™, æ€»æ˜¯é¢ä¸´éœ€è¦æ–°å»ºmanifest, å¹³æ—¶éƒ½æ˜¯copy+paste+modify. èƒ½å¦ä»¥å˜æˆçš„æ–¹å¼æ¥ç”Ÿæˆ? å¼€å‘æ—¶çš„æ­¥éª¤ä¹Ÿæ¯”è¾ƒç¹ç: docker build, docker push, kubectl apple, kubectl delete pod. å¯¹äºä¸€ä¸ªJavaåº”ç”¨æ¥è¯´è¿˜å¤šäº†ä¸€æ­¥ç¼–è¯‘. æ“ä½œä¸€æ¬¡è¿˜ok, ä½†æ˜¯ä¸€å¤©åå‡ æ¬¡æ€»ä¼šæœ‰æƒ³åçš„æ„Ÿè§‰. è¿™äº›æ­¥éª¤èƒ½å¦ç®€åŒ–æˆä¸€ä¸ªå‘½ä»¤, ç”šè‡³ä¿®æ”¹äº†ä»£ç è‡ªåŠ¨å°±å®Œæˆä¸Šé¢ä¸€ç³»åˆ—çš„æ“ä½œ? å®ç°è¿™äº›æˆ‘ä»¬éœ€è¦å‡ ä¸ªå·¥å…·: dekorate, Jib, Skaffold. å…¶ä¸­Jibä¹Ÿåœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä½¿ç”¨Jibä¸ºJavaåº”ç”¨æ„å»ºé•œåƒä¸­ä»‹ç»è¿‡. dekorate Dekorate is a collection of Java compile-time generators and decorators for Kubernetes/OpenShift manifests. Dekorateæ˜¯Javaç¼–è¯‘æ—¶ç”Ÿæˆå’Œè£…é¥°Kubernetes/OpenShift</description></item><item><title>ä½¿ç”¨ Jib ä¸º Java åº”ç”¨æ„å»ºé•œåƒ</title><link>https://atbug.com/build-docker-or-oci-image-with-jib-for-java/</link><pubDate>Mon, 09 Dec 2019 10:05:30 +0800</pubDate><guid>https://atbug.com/build-docker-or-oci-image-with-jib-for-java/</guid><description>
Image not found a.warning-link { color: inherit !important; font-weight: inherit !important; text-decoration: underline !important; border-bottom: none !important; } ç½‘ç«™é“¾æ¥: https://github.com/GoogleContainerTools/jib/raw/master/logo/jib-build-docker-java-container-image.png é“¾æ¥åˆ°æ–‡ä»¶: /static/https://github.com/GoogleContainerTools/jib/raw/master/logo/jib-build-docker-java-container-image.png ä½¿ç”¨ Page Bundles: false Jibæ˜¯Google Container Toolsä¸­çš„ä¸€ä¸ªå·¥å…·ã€‚ Jib builds optimized Docker and OCI images for your Java applications without a Docker daemon - and without deep mastery of Docker best-practices. It is available as plugins for Maven and Gradle and as a Java library. Jibæ— éœ€Dockerå®ˆæŠ¤ç¨‹åºå³å¯ä¸ºJavaåº”ç”¨ç¨‹åºæ„å»ºä¼˜åŒ–çš„Dockerå’ŒOCIæ˜ åƒ-æ— éœ€æ·±å…¥äº†è§£Dockeræœ€ä½³å®è·µ. å®ƒå¯ä»¥ä½œä¸ºMavenå’ŒGradleçš„æ’ä»¶ä»¥åŠJavaåº“ä½¿ç”¨. ä¸Dockeræ„å»ºæµç¨‹æ¯”è¾ƒ Dockeré•œåƒæ„å»ºæµç¨‹: Image not found a.warning-link { color: inherit !important; font-weight: inherit !important; text-decoration: underline !important; border-bottom: none !important; } ç½‘ç«™é“¾æ¥: https://4.bp.blogspot.com/-SXeItzMS_oo/WzVemqaj7CI/AAAAAAAAF_w/t5Lau7EOC84Kywct_OPiDGIomCiFTywgwCLcBGAs/s1600/docker_build_flow.png é“¾æ¥åˆ°æ–‡ä»¶: /static/https://4.bp.blogspot.com/-SXeItzMS_oo/WzVemqaj7CI/AAAAAAAAF_w/t5Lau7EOC84Kywct_OPiDGIomCiFTywgwCLcBGAs/s1600/docker_build_flow.png ä½¿ç”¨ Page Bundles: false Jibæ„å»ºæµç¨‹: Image not found a.warning-link { color: inherit !important; font-weight: inherit !important; text-decoration: underline !important; border-bottom: none !important; } ç½‘ç«™é“¾æ¥: https://3.bp.blogspot.com/-_qNyJdVno8E/WzVeqmuC5PI/AAAAAAAAF_0/AHaZ1_ZnJmg8eaUnTlUGyUVe06KRmvlYQCLcBGAs/s1600/jib_build_flow.png é“¾æ¥åˆ°æ–‡ä»¶: /static/https://3.bp.blogspot.com/-_qNyJdVno8E/WzVeqmuC5PI/AAAAAAAAF_0/AHaZ1_ZnJmg8eaUnTlUGyUVe06KRmvlYQCLcBGAs/s1600/jib_build_flow.png ä½¿ç”¨ Page Bundles: false (pic from Google Cloud Platform Blog) å¿«</description></item><item><title>Spring Cloud Hoxtonå‘å¸ƒ</title><link>https://atbug.com/spring-cloud-hoxton-release/</link><pubDate>Wed, 04 Dec 2019 11:09:07 +0800</pubDate><guid>https://atbug.com/spring-cloud-hoxton-release/</guid><description>
åŸæ–‡ Spring Cloud Hoxton.RELEASEåŸºäºSpring Boot 2.2.1.RELEASE æ–‡æ¡£å˜åŒ– Hoxton.RELEASEä½¿ç”¨äº†æ–°çš„é¦–é¡µ, æ–°çš„æ ·å¼ä»¥åŠå•é¡µé¢, å¤šé¡µé¢å’ŒPDFç‰ˆæœ¬. æ–°çš„è´Ÿè½½å‡è¡¡å™¨å®ç° Hoxton.RELEASEæ˜¯ç¬¬ä¸€ä¸ªåŒ…å«é˜»å¡å’Œéé˜»å¡å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡å™¨å®ç°çš„ç‰ˆæœ¬, æ›¿ä»£è¿›å…¥ç»´æŠ¤çŠ¶æ€çš„Netflix Ribbon. æ­é…BlockingLoadBalancerClientä½¿ç”¨RestTemplate, éœ€è¦åœ¨classpathä¸­å¼•å…¥org.springframework.cloud:spring-cloud-loadbalancer. è¿™ä¸ªä¾èµ–åŒæ ·ç”¨äºä½¿ç”¨äº†@LoadBalanced WebClient.Builderçš„å“åº”å¼åº”ç”¨ä¸­. å”¯</description></item><item><title>Bose QC35 å›ºä»¶é™çº§</title><link>https://atbug.com/bose-qc35-downgrade/</link><pubDate>Sun, 10 Nov 2019 19:50:27 +0800</pubDate><guid>https://atbug.com/bose-qc35-downgrade/</guid><description>
ä¸ºä»€ä¹ˆè¦é™çº§? æ—¢ç„¶å·²ç»æœåˆ°äº†è¿™é‡Œ, ç›¸ä¿¡ä¸ªä¸­åŸå› ä¹Ÿéƒ½æ¸…æ¥š. æˆ‘çš„QC35ä¸€ä»£, ä¹‹å‰å‡çº§åˆ°äº†3.0.3å›ºä»¶. ç›®å‰å·²æˆåŠŸé™çº§åˆ°äº†1.0.6, ä¸‹é¢çš„æ“ä½œæ­¥éª¤Mac OSXçš„, ä½œè€…ä¹Ÿæä¾›äº†Windowsä¸Šçš„æ“ä½œæ­¥éª¤. Image not found a.warning-link { color: inherit !important; font-weight: inherit !important; text-decoration: underline !important; border-bottom: none !important; } ç½‘ç«™é“¾æ¥: https://raw.githubusercontent.com/addozhang/oss/master/blog/upload/LaTKaT.jpg é“¾æ¥åˆ°æ–‡ä»¶: /static/https://raw.githubusercontent.com/addozhang/oss/master/blog/upload/LaTKaT.jpg ä½¿ç”¨ Page Bundles: false æ“ä½œæ­¥éª¤ ç¡®è®¤å·²ç»å¸è½½Bose Updater GitHubä¸Šä¸‹è½½ä½œè€…å·²ç»æ”¹å¥½çš„6.0.0.4388ç‰ˆæœ¬çš„Bose Updater è§£å‹åå¤åˆ¶åˆ°/Applicationsä¸‹ è¿è¡ŒBose Updaterç¡®è®¤èƒ½å¦æ­£å¸¸è¿è¡Œ é€€å‡º (å³é”®&amp;gt;Exit) æ£€æŸ¥æ˜¯å¦è¿˜æœ‰Bose Updaterçš„è¿›ç¨‹ æ‰“å¼€https://btu.bose.com/ é¡µé¢ä¸Šé€‰æ‹©Launch Bose Updater çœ‹åˆ°ä¸‹</description></item><item><title>Docker Engine API on Mac Osx</title><link>https://atbug.com/docker-engine-api-on-mac-osx/</link><pubDate>Wed, 06 Nov 2019 20:19:50 +0800</pubDate><guid>https://atbug.com/docker-engine-api-on-mac-osx/</guid><description>
æ ¹æ®å®˜æ–¹çš„æ–‡æ¡£Docker Desktop on Mac vs. Docker Toolbox, Docker Desktop on Macåªæä¾›äº†UNIX socket/var/run/docker.sock, å¹¶æœªæä¾›tcpçš„ç›‘å¬(é»˜è®¤2375ç«¯å£). å¦‚æœä½¿ç”¨linuxçš„é…ç½®æ–¹å¼åœ¨Docker Desktopä¸­é…ç½®host, Docker Desktopå°†æ— æ³•å¯åŠ¨. éœ€è¦å»~/.docker/daemon.jsonä¸­åˆ é™¤hostsé…ç½®æ‰èƒ½æ­£å¸¸å¯åŠ¨. é€šè¿‡ä¸‹é¢çš„æ–¹å¼æš´éœ²å‡º2375çš„tcp docker run --rm -d -v /var/run/docker.sock:/var/run/docker.sock -p 127.0.0.1:2375:2375 bobrik/socat TCP-LISTEN:2375,fork UNIX-CONNECT:/var/run/docker.sock ç„¶åé€šè¿‡docker versionæŸ¥çœ‹å½“å‰çš„docker engineçš„ç‰ˆæœ¬, æ¯”å¦‚1.40. æŸ¥çœ‹å®˜æ–¹çš„Engine APIæ–‡æ¡£: https://docs.docker.com/engine/api/v1.40 æœç´¢ä¸ªé•œåƒæµ‹è¯•ä¸€ä¸‹: Image not found a.warning-link { color: inherit !important; font-weight: inherit !important; text-decoration: underline !important; border-bottom: none !important; } ç½‘ç«™é“¾æ¥: https://raw.githubusercontent.com/addozhang/oss/master/blog/upload/15729240620185.jpg é“¾æ¥åˆ°æ–‡ä»¶: /static/https://raw.githubusercontent.com/addozhang/oss/master/blog/upload/15729240620185.jpg ä½¿ç”¨ Page Bundles: false</description></item><item><title>Spring Boot 2.2.0 å‘å¸ƒ</title><link>https://atbug.com/spring-boot-2-2-0-release/</link><pubDate>Tue, 22 Oct 2019 09:27:03 +0800</pubDate><guid>https://atbug.com/spring-boot-2-2-0-release/</guid><description>
è¯‘è‡ª: https://spring.io/blog/2019/10/16/spring-boot-2-2-0 ç»„ä»¶å‡çº§ Spring AMQP 2.2 Spring Batch 4.2 Spring Data Moore Spring Framework 5.2 Spring HATEOAS 1.0 Spring Integration 5.2 Spring Kafka 2.3 Spring Security 5.2 Spring Session Corn ç¬¬ä¸‰æ–¹åº“å‡çº§ Elasticsearch 6.7 Flyway 6.0 Jackson 2.10 JUnit 5.5 Micrometer 1.3 Reactor Dysprosium Solr 8.0 æ€§èƒ½æå‡ å»¶è¿Ÿåˆå§‹åŒ–(Lazy initialization) æ”¯æŒå¼€å¯å…¨å±€å»¶è¿ŸåŠ è½½spring.main.lazy-initialization. ä»£ä»·: åˆæ¬¡å¤„ç†HTTPè¯·æ±‚è€—æ—¶é•¿ æœ¬åº”åœ¨å¯åŠ¨åˆå§‹åŒ–æ—¶å‡ºç°çš„é—®é¢˜, å»¶åå‡ºç° æ›´å¤šå‚è€ƒ: https://spring.io/blog/2019/03/14/lazy-initialization-in-spring-boot-2-2 Java 13æ”¯æŒ è·ŸéšSpring Framework5.2å¯¹Java 13çš„æ”¯æŒ, Spring Boot 2.2ç°åœ¨ä¹Ÿæ”¯æŒäº†Java13. åŒæ—¶å…¼å®¹Java 11å’Œ8. ä¸å¯å˜çš„@ConfigurationPropertiesç»‘å®š ç°åœ¨åŠ å…¥äº†åŸºäºæ„é€ å™¨çš„ç»‘å®š, å…è®¸@ConfigurationPropertiesæ ‡æ³¨çš„ç±»ä¸å¯å˜(å±æ€§</description></item><item><title>Zipkin dependenciesçš„å‘ä¹‹äºŒ: å¿ƒè·³è¶…æ—¶å’ŒExecutor OOM</title><link>https://atbug.com/zipkin-dependencies-bug-two-timeout-and-oom/</link><pubDate>Sun, 22 Sep 2019 18:27:37 +0800</pubDate><guid>https://atbug.com/zipkin-dependencies-bug-two-timeout-and-oom/</guid><description>
ä¸Šå›è¯´ä¸ºäº†è§£å†³ååé—®é¢˜, å°†zipkin-dependenciesçš„ç‰ˆæœ¬å‡çº§åˆ°äº†2.3.0. å¥½æ™¯ä¸é•¿, ä»æŸä¸€å¤©å¼€å§‹ä½œä¸šè¿è¡ŒæŠ¥é”™: Issue communicating with driver in heartbeater org.apache.spark.rpc.RpcTimeoutException: Futures timed out after [10000 milliseconds]. This timeout is controlled by spark.executor.heartbeatInterval ... 19/09/18 08:33:20 ERROR Executor: Exception in task 1.0 in stage 1.0 (TID 4) java.lang.OutOfMemoryError: Java heap space ... è§£å†³æ–¹æ¡ˆ æœ€æ–°ç‰ˆæœ¬(2.3.0)ç›®å‰ä¸æ”¯æŒé¢å¤–çš„sparkå’Œelasticsearch-sparkçš„é…ç½®, å·²ç»æäº¤äº†PR è¶…æ—¶çš„è§£å†³æ–¹æ¡ˆ: ä¸ºsparkæŒ‡å®šé…ç½® spark.executor.heartbeatInterval=600000 spark.network.timeout=600000 OOMè§£å†³æ–¹æ¡ˆ: æ ¹æ®å®é™…æƒ…å†µé€šè¿‡es.input.max.docs.per.partitioné…ç½®executorçš„æ•°é‡. è°ƒæ•´è¿è¡Œå†…å­˜åŠspark.executor.memory</description></item><item><title>Zipkin dependenciesçš„å‘ä¹‹ä¸€: è€—æ—¶è¶Šæ¥è¶Šé•¿</title><link>https://atbug.com/zipkin-dependencies-bug-one/</link><pubDate>Sun, 22 Sep 2019 17:59:56 +0800</pubDate><guid>https://atbug.com/zipkin-dependencies-bug-one/</guid><description>
zipkin-dependenciesæ˜¯zipkinè°ƒç”¨é“¾çš„ä¾èµ–åˆ†æå·¥å…·. ç³»ç»Ÿä¸Šçº¿æ—¶ä½¿ç”¨äº†å½“æ—¶çš„æœ€æ–°ç‰ˆæœ¬2.0.1, è¿è¡Œä¸€å¹´ä¹‹åéšç€æœåŠ¡çš„å¢å¤š, åˆ†æä¸€å¤©çš„æ•°æ®è€—æ—¶è¶Šæ¥è¶Šå¤š. ä»æœ€åˆçš„å‡ åˆ†é’Ÿ, åˆ°æœ€æ…¢çš„å‡ åå°æ—¶(æ•°æ®é‡18m). æœ€ç»ˆè¿”ç°æ˜¯ç‰ˆæœ¬çš„é—®é¢˜, å‡çº§åˆ°&amp;gt;=2.3.0çš„ç‰ˆæœ¬ä¹‹åååè¿…é€Ÿä¸Šå‡. æ‰€ä»¥ä¾¿æœ‰äº†issue: Reminder: do NOT use the version before 2.3.0 ä½†è¿™ä¹Ÿå¼•æ¥äº†å¦ä¸€ä¸ªå‘: å¿ƒè·³è¶…æ—¶å’ŒExecutor OOM TL;DR ç®€å•æµè§ˆäº†ä¸‹zipkin-dependenciesçš„æºç , 2.0.1å’Œ2.3.2çš„æ¯”è¾ƒå¤§çš„å·®è·æ˜¯ä¾èµ–çš„elasticsearch-sparkçš„ç‰ˆæœ¬. å‰è€…ç”¨çš„æ˜¯6.3.2, åè€…æ˜¯7.3.0. å°è¯•åœ¨zipkin-depe</description></item><item><title>å¦‚ä½•é€‰æ‹©Kafka Topicçš„åˆ†åŒºæ•°</title><link>https://atbug.com/how-to-choose-topic-partition-count-number-kafka/</link><pubDate>Fri, 30 Aug 2019 11:10:46 +0800</pubDate><guid>https://atbug.com/how-to-choose-topic-partition-count-number-kafka/</guid><description>
åœ¨kafkaä¸­, topicçš„åˆ†åŒºæ˜¯å¹¶è¡Œè®¡ç®—çš„å•å…ƒ. åœ¨producerç«¯å’Œbrokerç«¯, å¯ä»¥åŒæ—¶å¹¶å‘çš„å†™æ•°æ®åˆ°ä¸åŒçš„åˆ†åŒºä¸­. åœ¨consumerç«¯, Kafkaæ€»æ˜¯å°†æŸä¸ªåˆ†åŒºåˆ†é…ä¸ªä¸€ä¸ªconsumerçº¿ç¨‹. å› æ­¤åŒä¸€ä¸ªæ¶ˆè´¹ç»„å†…çš„å¹¶è¡Œåº¦ä¸åˆ†åŒºæ•°æ¯æ¯ç›¸å…³. Partitionåˆ†åŒºæ•°çš„å¤§å°, æ›´å¤šç›´æ¥å½±å“åˆ°æ¶ˆè´¹ç«¯çš„åå(ä¸€ä¸ªåˆ†åŒºåªèƒ½åŒä¸€æ¶ˆè´¹ç»„çš„ä¸€ä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹). åˆ†åŒºæ•°å°, æ¶ˆè´¹ç«¯çš„ååå°±ä½. ä½†æ˜¯å¤ªå¤§ä¹Ÿä¼šæœ‰å…¶ä»–çš„å½±å“ åŸåˆ™: æ›´å¤šçš„åˆ†åŒºå¯æé«˜ååé‡ åˆ†åŒºæ•°è¶Šå¤šæ‰“å¼€çš„æ–‡ä»¶å¥æŸ„è¶Šå¤š åˆ†åŒºæ•°è¶Šå¤šé™ä½å¯ç”¨æ€§ æ›´å¤šçš„åˆ†åŒºå¢åŠ ç«¯åˆ°ç«¯çš„å»¶è¿Ÿ å®¢æˆ·ç«¯éœ€è¦æ›´å¤šçš„å†…å­˜ å½’æ ¹ç»“åº•è¿˜æ˜¯å¾—æœ‰ä¸ªåº¦. å¦‚ä½•æ‰¾å‡ºè¿™ä¸ªåº¦? æœ‰ä¸ªç²—ç•¥çš„è®¡ç®—å…¬å¼: max(t/p, t/c). tå°±æ˜¯æ‰€é¢„æœŸåå</description></item><item><title>åšå®¢æœ€è¿‘åŠå¹´æ²¡ä»€ä¹ˆäº§å‡º</title><link>https://atbug.com/no-output-in-past-half-year/</link><pubDate>Tue, 27 Aug 2019 14:29:12 +0000</pubDate><guid>https://atbug.com/no-output-in-past-half-year/</guid><description>
ä¸Šä¸€ç¯‡æ—¥å¿—æ›´æ–°è¿˜æ˜¯åœ¨å»å¹´çš„12æœˆ, è‡³ä»Šæœ‰å·®ä¸å¤š10ä¸ªæœˆæ²¡æœ‰æ›´æ–°äº†. ä¸æ˜¯è¯´æ²¡æœ‰ä¸œè¥¿å¯å†™, è€Œä¸”æƒ³å†™çš„ä¸œè¥¿å¾ˆå¤š. å·¥ä½œå¤ªå¿™, ä¸å¿™çš„æ—¶å€™åˆå¤ªæ‡’, å½’æ ¹ç»“åº•è¿˜æ˜¯å¤ªæ‡’. è¿‡å»ä¸€å¹´å¤šéƒ½æ˜¯åœ¨åšåŸºç¡€æ¶æ„æ–¹é¢çš„å·¥ä½œ, å›´ç»•æŠ€æœ¯ä¸­å°å±•å¼€çš„. æœ‰å¾ˆå¤šæŠ€æœ¯éœ€è¦å»å­¦ä¹ , ä¹Ÿæœ‰å¾ˆå¤šé—®é¢˜è¦å¤„ç†. è¿‡ç¨‹ä¸­ä¸€ç›´æœ‰è®°ç¬”è®°çš„ä¹ æƒ¯, æ‰€ä»¥å¯ä»¥å†™çš„ä¸œè¥¿å¾ˆå¤š. ä¸è¿‡æœ‰äº›å±äºå…¬å¸çš„éƒ¨åˆ†è¿˜æ˜¯ä¸èƒ½å†™çš„, å¿…è¦çš„èŒä¸šé“å¾·è¿˜æ˜¯è¦æœ‰çš„. ç¬”è®°è®°å½•ä¸€ç›´åœ¨ç”¨MWeb, å¹¶ä½¿ç”¨iCloudåŒæ­¥, æœ€è¿‘å‡ ä¸ªæœˆä¹Ÿåœ¨ç»“åˆå¹•å¸ƒæ•´ç†æ€è·¯å’Œå·¥ä½œå®‰æ’. å¥½ç”¨çš„è½¯ä»¶æˆ‘ä¹Ÿæ¯”è¾ƒå–œæ¬¢åˆ†äº«, è®°å¾—æœ€æ—©åœ¨Workpressä¸Šçš„åšå®¢å°±åˆ†äº«äº†å¾ˆå¤šè‡ªå·±å¸¸ç”¨çš„è½¯ä»¶. (æœ‰ç‚¹æ‰¯è¿œäº†~~~) MWebæ²¡æœ‰ç»Ÿè®¡åŠŸèƒ½, è¿˜æœ‰ä½¿ç”¨çš„æ˜¯</description></item><item><title>Spring Bootæºç åˆ†æ - Configurationæ³¨è§£</title><link>https://atbug.com/spring-boot-configuration-annotation/</link><pubDate>Mon, 10 Dec 2018 16:24:33 +0000</pubDate><guid>https://atbug.com/spring-boot-configuration-annotation/</guid><description>
@Configurationæ³¨è§£ @Configurationæ³¨è§£æŒ‡ç¤ºä¸€ä¸ªç±»å£°æ˜ä¸€ä¸ªæˆ–å¤šä¸ª@Beanæ–¹æ³•, å¹¶ä¸”å¯ä»¥ç”±Springå®¹å™¨å¤„ç†, ä»¥åœ¨è¿è¡Œæ—¶ä¸ºè¿™äº›beanç”Ÿæˆbeanå®šä¹‰å’ŒæœåŠ¡è¯·æ±‚. ä½¿ç”¨ConfigurationClassParseræ¥å¯¹@Configurationæ ‡æ³¨çš„ç±»è¿›è¡Œè§£æ, å°è£…æˆConfigurationClasså®ä¾‹. å…·ä½“çš„å®ç°é€šè¿‡ConfigurationClassPostProcessoræ¥å®ç°çš„. ConfigurationClassPostProcessor å®ç°äº†BeanDefinitionRegistryPostProcessoræ¥å£, é—´æ¥å®ç°äº†BeanFactorPostProcessoræ¥å£. #postProcessBeanDefinitionRegistry(): æ³¨å†Œæ‰€æœ‰Configurat</description></item><item><title>Nginxå®ç°Elasticsearchçš„HTTPåŸºæœ¬è®¤è¯</title><link>https://atbug.com/elasticsearch-http-basic-authentication-via-nginx/</link><pubDate>Tue, 06 Nov 2018 09:24:24 +0000</pubDate><guid>https://atbug.com/elasticsearch-http-basic-authentication-via-nginx/</guid><description>
Elasticssearchçš„HTTPåŸºæœ¬è®¤è¯å®ç°æœ‰ä¸¤ç§æ–¹æ¡ˆ: x-packå’Œnginxåå‘ä»£ç†. å‰è€…æ”¶è´¹, åè€…ä¸å¤ªé€‚åˆç”Ÿäº§ä½¿ç”¨. å¦‚æœä»…ä»…æ˜¯å¼€å‘æµ‹è¯•, ç¬¬äºŒç§å®Œå…¨è¶³å¤Ÿ. åˆ›å»ºå¯†ç  htpasswd -bc ./passwd [username] [password] Docker compose version:&amp;#39;3&amp;#39;services:elasticsearch:image:elasticsearch:5.5.2container_name:elasticsearchrestart:unless-stoppedvolumes:- /tmp/elasticsearch:/usr/share/elasticsearch/datanginx:image:nginx:latestcontainer_name:elasticsearch-proxyports:- 9200:9200links:- elasticsearchvolumes:- ./passwd:/etc/nginx/.passwd- ./default.conf:/etc/nginx/conf.d/default.confnginxé…ç½®æ–‡ä»¶ upstream es { server elasticsearch:9200; keepalive 15; } server { listen 9200; server_name localhost; access_log /dev/stdout; error_log /dev/stdout; location / { auth_basic &amp;#34;Administratorâ€™s Area&amp;#34;; auth_basic_user_file /etc/nginx/.passwd; proxy_http_version 1.1; proxy_set_header Connection &amp;#34;Keep-Alive&amp;#34;; proxy_set_header Proxy-Connection &amp;#34;Keep-Alive&amp;#34;; proxy_pass http://es; } location /health { access_log off; return 200 &amp;#34;healthy\n&amp;#34;; } #error_page 404 /404.html; # redirect server error pages to the static page /50x.html # error_page 500 502 503 504 /50x.html; location = /50x.html { root html; } # proxy the PHP scripts to Apache listening on 127.0.0.1:80 # #location ~ \.php$ { # proxy_pass http://127.0.0.1; #} # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000 # #location ~ \.php$ { # root html; # fastcgi_pass 127.0.0.1:9000; # fastcgi_index index.php; # fastcgi_param SCRIPT_FILENAME /scripts$fastcgi_script_name; # include fastcgi_params; #} # deny access to</description></item><item><title>Alpineå®¹å™¨å®‰è£…Dockerå’ŒOpenShift Client Tools</title><link>https://atbug.com/install-docker-and-openshift-client-tools-in-alpine-container/</link><pubDate>Tue, 28 Aug 2018 09:14:12 +0000</pubDate><guid>https://atbug.com/install-docker-and-openshift-client-tools-in-alpine-container/</guid><description>
å®‰è£…Docker echo &amp;#34;http://dl-2.alpinelinux.org/alpine/edge/main&amp;#34; &amp;gt; /etc/apk/repositories echo &amp;#34;http://dl-2.alpinelinux.org/alpine/edge/community&amp;#34; &amp;gt;&amp;gt; /etc/apk/repositories echo &amp;#34;http://dl-2.alpinelinux.org/alpine/edge/testing&amp;#34; &amp;gt;&amp;gt; /etc/apk/repositories apk -U --no-cache \ --allow-untrusted add \ shadow \ docker \ py-pip \ openrc \ &amp;amp;&amp;amp; pip install docker-compose rc-update add docker boot å®‰è£…OpenShift Client Tools éœ€è¦å…ˆå®‰è£…glibc apk --no-cache add ca-certificates wget wget -q -O /etc/apk/keys/sgerrand.rsa.pub https://alpine-pkgs.sgerrand.com/sgerrand.rsa.pub wget https://github.com/sgerrand/alpine-pkg-glibc/releases/download/2.28-r0/glibc-2.28-r0.apk apk add glibc-2.28-r0.apk curl --retry 7 -Lo /tmp/client-tools.tar.gz &amp;quot;https://mirror.openshift.com/pub/openshift-v3/clients/3.9.1/linux/oc.tar.gz&amp;quot; curl --retry 7 -Lo /tmp/client-tools.tar.gz &amp;#34;https://mirror.openshift.com/pub/openshift-v3/clients/3.9.1/linux/oc.tar.gz&amp;#34; tar zxf /tmp/client-tools.tar.gz -C /usr/local/bin oc \ &amp;amp;&amp;amp; rm /tmp/client-tools.tar.gz \ &amp;amp;&amp;amp; apk del .build-deps # ADDED: Resolve issue x509 oc login issue apk add --update ca-certificates å‚è€ƒ: github issue</description></item><item><title>Zuulç½‘å…³Ribboné‡è¯•</title><link>https://atbug.com/ribbon-retry-in-zuul/</link><pubDate>Thu, 02 Aug 2018 08:55:43 +0000</pubDate><guid>https://atbug.com/ribbon-retry-in-zuul/</guid><description>
ç›¸å…³é…ç½® #å¦‚æœè·¯ç”±è½¬å‘è¯·æ±‚å‘ç”Ÿè¶…æ—¶(è¿æ¥è¶…æ—¶æˆ–å¤„ç†è¶…æ—¶), åªè¦è¶…æ—¶æ—¶é—´çš„è®¾ç½®å°äºHystrixçš„å‘½ä»¤è¶…æ—¶æ—¶é—´,é‚£ä¹ˆå®ƒå°±ä¼šè‡ªåŠ¨å‘èµ·é‡è¯•. é»˜è®¤ä¸ºfalse. æˆ–è€…å¯¹æŒ‡å®šå“åº”çŠ¶æ€ç è¿›è¡Œé‡è¯• zuul.retryable = true zuul.routes.&amp;lt;route&amp;gt;.retryable = false #åŒä¸€å®ä¾‹ä¸Šçš„æœ€å¤§é‡è¯•æ¬¡æ•°, é»˜è®¤å€¼ä¸º0. ä¸åŒ…æ‹¬é¦–æ¬¡è°ƒç”¨ ribbon.MaxAutoRetries=0 #é‡è¯•å…¶ä»–å®ä¾‹çš„æœ€å¤§é‡è¯•æ¬¡æ•°, ä¸åŒ…æ‹¬ç¬¬ä¸€æ¬¡é€‰çš„å®ä¾‹. é»˜è®¤ä¸º1 ribbon.MaxAutoRetriesNextServer=1 #æ˜¯å¦æ‰€æœ‰æ“ä½œæ‰§è¡Œé‡è¯•, é»˜è®¤å€¼ä¸ºfalse, åªé‡è¯•`GET`è¯·æ±‚ ribbon.OkToRetryOnAllOperations=false #è¿æ¥è¶…æ—¶, é»˜è®¤2000 ribbon.ConnectTimeout=15000 #å“åº”è¶…æ—¶, é»˜è®¤5000 ribbon.ReadTimeout=15000 #æ¯ä¸ªhostçš„æœ€å¤§è¿æ¥æ•° ribbon.MaxHttpConnectionsPerHost=50 #æœ€å¤§è¿æ¥æ•° ribbon.MaxTotalHttpConnections=200 #ä½•ç§å“åº”çŠ¶æ€ç æ‰è¿›è¡Œé‡è¯• ribbon.retryableStatusCodes=404,502 å®ç° SimpleRouteLocator#getRouteè¿”å›çš„routeå¯¹è±¡ä¸­ä¼šå¸¦ä¸Šretryabl</description></item><item><title>Hystrixå·¥ä½œåŸç†ä¸‰</title><link>https://atbug.com/hystrix-exception-handling/</link><pubDate>Sun, 24 Jun 2018 16:20:16 +0000</pubDate><guid>https://atbug.com/hystrix-exception-handling/</guid><description>
å¼‚å¸¸å¤„ç† Hystrixå¼‚å¸¸ç±»å‹ HystrixRuntimeException HystrixBadRequestException HystrixTimeoutException RejectedExecutionException HystrixRuntimeException HystrixCommandå¤±è´¥æ—¶æŠ›å‡º, ä¸ä¼šè§¦å‘fallback. HystrixBadRequestException ç”¨æä¾›çš„å‚æ•°æˆ–çŠ¶æ€è¡¨ç¤ºé”™è¯¯çš„å¼‚å¸¸, è€Œä¸æ˜¯æ‰§è¡Œå¤±è´¥. ä¸å…¶ä»–HystrixCommandæŠ›å‡ºçš„å¼‚å¸¸ä¸åŒ, è¿™ä¸ªå¼‚å¸¸ä¸ä¼šè§¦å‘fallback, ä¹Ÿä¸ä¼šè®°å½•è¿›failureçš„æŒ‡æ ‡, å› è€Œä¹Ÿä¸ä¼šè§¦å‘æ–­è·¯å™¨, åº”è¯¥åœ¨ç”¨æˆ·è¾“å…¥å¼•èµ·çš„é”™è¯¯æ˜¯æŠ›å‡º, å¦åˆ™ä¼šå®ƒä¸å®¹é”™å’Œåé€€è¡Œä¸ºçš„ç›®çš„ç›¸æ‚–. ä¸ä¼šè§¦å‘fallback, ä¹Ÿä¸ä¼šè®°å½•åˆ°é”™è¯¯çš„æŒ‡æ ‡ä¸­, ä¹Ÿä¸ä¼šè§¦å‘æ–­è·¯å™¨. RejectedExecutionException çº¿ç¨‹æ± å‘ç”Ÿrejectæ—¶æŠ›å‡º HystrixTimeoutException åœ¨HystrixCommand.run()æˆ–è€…HystrixObservableCommand.construct()æ—¶æŠ›å‡º, ä¼šè®°å½•</description></item><item><title>Hystrixå·¥ä½œåŸç†äºŒ</title><link>https://atbug.com/hystrix-isolation/</link><pubDate>Sun, 24 Jun 2018 16:18:52 +0000</pubDate><guid>https://atbug.com/hystrix-isolation/</guid><description>
éš”ç¦»ç­–ç•¥ çº¿ç¨‹å’Œçº¿ç¨‹æ±  å®¢æˆ·ç«¯(åº“, ç½‘ç»œè°ƒç”¨ç­‰)åœ¨å„è‡ªçš„çº¿ç¨‹ä¸Šè¿è¡Œ. è¿™ç§åšæ³•å°†ä»–ä»¬ä¸è°ƒç”¨çº¿ç¨‹éš”å¼€, å› æ­¤è°ƒç”¨è€…å¯ä»¥ä»ä¸€ä¸ªè€—æ—¶çš„ä¾èµ–è°ƒç”¨&amp;quot;ç¦»å¼€(walk away)&amp;quot; Hystrixä½¿ç”¨å•ç‹¬çš„, æ¯ä¸ªä¾èµ–çš„çº¿ç¨‹æ± ä½œä¸ºçº¦æŸä»»ä½•ç»™å®šä¾èµ–çš„ä¸€ç§æ–¹å¼, å› æ­¤æ½œåœ¨æ‰§è¡Œçš„å»¶è¿Ÿå°†ä»…åœ¨è¯¥æ± ä¸­ä½¿å¯ç”¨çº¿ç¨‹é¥±å’Œ. Image not found a.warning-link { color: inherit !important; font-weight: inherit !important; text-decoration: underline !important; border-bottom: none !important; } ç½‘ç«™é“¾æ¥: http://7xvxng.com1.z0.glb.clouddn.com/15280741661560.png é“¾æ¥åˆ°æ–‡ä»¶: /static/http://7xvxng.com1.z0.glb.clouddn.com/15280741661560.png ä½¿ç”¨ Page Bundles: false å¦‚æœä¸è¯•ç”¨çº¿ç¨‹æ± å¯ä»¥ä¿æŠ¤ä½ å…å—æ•…éšœçš„å½±å“, ä½†æ˜¯è¿™éœ€è¦å®¢æˆ·ç«¯å¯ä¿¡ä»»åœ°å¿«é€Ÿå¤±è´¥(ç½‘ç»œè¿æ¥/è¯»å–è¶…æ—¶, é‡è¯•çš„é…ç½®)å¹¶å§‹ç»ˆè¡¨ç°è‰¯å¥½. åœ¨Hystrixçš„è®¾è®¡ä¸­, Netflixé€‰æ‹©è¯•ç”¨çº¿ç¨‹å’Œçº¿ç¨‹æ± æ¥è¾¾åˆ°éš”ç¦»çš„ç›®çš„, åŸå› æœ‰: å¾ˆå¤šåº”ç”¨ç¨‹åºè°ƒç”¨äº†ç”±å¾ˆå¤šä¸åŒçš„å›¢é˜Ÿå¼€å‘çš„è®¸</description></item><item><title>Hystrixå·¥ä½œåŸç†ä¸€</title><link>https://atbug.com/how-hystrix-works/</link><pubDate>Mon, 04 Jun 2018 08:47:40 +0000</pubDate><guid>https://atbug.com/how-hystrix-works/</guid><description>
è¿è¡Œæ—¶çš„æµç¨‹å›¾ Image not found a.warning-link { color: inherit !important; font-weight: inherit !important; text-decoration: underline !important; border-bottom: none !important; } ç½‘ç«™é“¾æ¥: http://7xvxng.com1.z0.glb.clouddn.com/15273755001891.png é“¾æ¥åˆ°æ–‡ä»¶: /static/http://7xvxng.com1.z0.glb.clouddn.com/15273755001891.png ä½¿ç”¨ Page Bundles: false æ„å»ºHystrixCommandæˆ–è€…HystrixObservableCommandå¯¹è±¡ ç¬¬ä¸€æ­¥æ˜¯æ„å»ºä¸€ä¸ªHystrixCommandæˆ–HystrixObservableCommandå¯¹è±¡æ¥ä»£è¡¨å¯¹ä¾èµ–æœåŠ¡æ‰€åšçš„è¯·æ±‚ã€‚ å°†åœ¨è¯·æ±‚å‘ç”Ÿæ—¶å°†éœ€è¦çš„ä»»ä½•å‚æ•°ä¼ é€’ç»™æ„é€ å‡½æ•°ã€‚ å¦‚æœä¾èµ–çš„æœåŠ¡é¢„æœŸä¼šè¿”å›å•ä¸€çš„å“åº”, æ„é€ ä¸€ä¸ªHystrixCommandå¯¹è±¡, ä¾‹å¦‚: HystrixCommand command = new HystrixCommand(arg1, arg2); å¦‚æœä¾èµ–çš„æœåŠ¡é¢„æœŸä¼šè¿”å›ä¸€ä¸ªå‘å‡ºå“åº”çš„Observableå¯¹è±¡, åˆ™æ„é€ ä¸€ä¸ªHystrixObservableCommandå¯¹è±¡, ä¾‹å¦‚: HystrixObservableCommand command = new HystrixObservableCommand(arg1, arg2); æ‰§è¡ŒComm</description></item><item><title>è§£å†³rsyslogdèµ„æºå ç”¨ç‡é«˜é—®é¢˜</title><link>https://atbug.com/rsyslogd-high-cpu-trouble-shooting/</link><pubDate>Fri, 01 Jun 2018 09:32:28 +0000</pubDate><guid>https://atbug.com/rsyslogd-high-cpu-trouble-shooting/</guid><description>
rsyslogdèµ„æºå ç”¨é«˜é—®é¢˜è®°å½• é—®é¢˜: Image not found a.warning-link { color: inherit !important; font-weight: inherit !important; text-decoration: underline !important; border-bottom: none !important; } ç½‘ç«™é“¾æ¥: http://7xvxng.com1.z0.glb.clouddn.com/15277280296373.jpg é“¾æ¥åˆ°æ–‡ä»¶: /static/http://7xvxng.com1.z0.glb.clouddn.com/15277280296373.jpg ä½¿ç”¨ Page Bundles: false openshifté›†ç¾¤å®‰è£…åœ¨esxiçš„è™šæ‹Ÿæœºä¸Š. å„ä¸ªèŠ‚ç‚¹å‡ºç°é—®é¢˜, é›†ç¾¤å“åº”å¾ˆæ…¢. kswapd0è¿›ç¨‹cpu 90%å¤š. rsyslogdè¿›ç¨‹å†…å­˜ 90%å¤š. **å…ˆä¸Šæ€»ç»“: ** system-journalæœåŠ¡ç›‘å¬/dev/logsocketè·å–æ—¥å¿—, ä¿å­˜åœ¨å†…å­˜ä¸­, å¹¶é—´æ­‡æ€§çš„å†™å…¥/var/log/journalç›®å½•ä¸­. rsyslogæœåŠ¡å¯åŠ¨åç›‘å¬/run/systemd/journal/syslogsocketè·å–syslogç±»å‹æ—¥å¿—, å¹¶å†™å…¥/var/log/messagesæ–‡ä»¶ä¸­. è·å–æ—¥å¿—æ—¶éœ€è¦</description></item><item><title>Kubernetesä¸­çš„NginxåŠ¨æ€è§£æ</title><link>https://atbug.com/nginx-dynamic-domain-parse-in-kubernetes/</link><pubDate>Wed, 30 May 2018 12:10:32 +0000</pubDate><guid>https://atbug.com/nginx-dynamic-domain-parse-in-kubernetes/</guid><description>
èƒŒæ™¯ Nginxè¿è¡Œåœ¨kubernetsä¸­, åå‘ä»£ç†serviceæä¾›æœåŠ¡. kubernetesç‰ˆæœ¬v1.9.1+a0ce1bc657. é—®é¢˜: é…ç½®å¦‚ä¸‹: location ^~/info { proxy_pass: http://serviceName:port; } åˆ é™¤å¹¶é‡å»ºServiceçš„æ—¶å€™, nginxä¼šå‡ºç°ä¸‹é¢çš„é—®é¢˜: connect() failed (113: No route to host) &amp;hellip; upstream: &amp;ldquo;xxxxx&amp;rdquo; åˆ†æ é€šè¿‡googleå‘ç°, æ˜¯nginxçš„dnsè§£ææ–¹æ¡ˆçš„é—®é¢˜. nginxå®˜æ–¹çš„è¯´æ˜: If the domain name canâ€™t be resolved, NGINX fails to start or reload its configuration. NGINX caches the DNS records until the next restart or configuration reload, ignoring the recordsâ€™ TTL values. We canâ€™t specify another loadâ€‘balancing algorithm, nor can we configure passive health checks or other features defined by parameters to the server directive, which weâ€™ll describe in the next section. æ„æ€æ˜¯è¯´, nginxåœ¨å¯åŠ¨çš„æ—¶å€™å°±ä¼šè§£æproxy_passåçš„åŸŸå, å¹¶æŠŠipç¼“å­˜ä¸‹æ¥</description></item><item><title>Spring Cloud Ribbon è¯¦è§£</title><link>https://atbug.com/spring-cloud-ribbon-breakdown-1/</link><pubDate>Sat, 05 May 2018 11:18:05 +0000</pubDate><guid>https://atbug.com/spring-cloud-ribbon-breakdown-1/</guid><description>
&lt;p>å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡, Ribbonçš„æ ¸å¿ƒæ¦‚å¿µæ˜¯å‘½åçš„å®¢æˆ·ç«¯.&lt;/p>
&lt;h2 id="ä½¿ç”¨">ä½¿ç”¨&lt;/h2>
&lt;h3 id="å¼•å…¥ribbonä¾èµ–å’Œé…ç½®">å¼•å…¥Ribbonä¾èµ–å’Œé…ç½®&lt;/h3>
&lt;p>åŠ å…¥&lt;code>spring-cloud-starter-netflix-ribbon&lt;/code>ä¾èµ–&lt;/p>
&lt;h3 id="ä»£ç ä¸­ä½¿ç”¨ribbonclientæ³¨è§£">ä»£ç ä¸­ä½¿ç”¨RibbonClientæ³¨è§£&lt;/h3>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="nd">@Configuration&lt;/span>
&lt;span class="nd">@RibbonClient&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">&amp;#34;foo&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">configuration&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">FooConfiguration&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">TestConfiguration&lt;/span> &lt;span class="o">{}&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="nd">@Configuration&lt;/span> &lt;span class="kd">protected&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">FooConfiguration&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="nd">@Bean&lt;/span>
&lt;span class="kd">public&lt;/span> &lt;span class="n">ZonePreferenceServerListFilter&lt;/span> &lt;span class="nf">serverListFilter&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="n">ZonePreferenceServerListFilter&lt;/span> &lt;span class="n">filter&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">ZonePreferenceServerListFilter&lt;/span>&lt;span class="o">();&lt;/span>
&lt;span class="n">filter&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">setZone&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;myTestZone&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">filter&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="nd">@Bean&lt;/span>
&lt;span class="kd">public&lt;/span> &lt;span class="n">IPing&lt;/span> &lt;span class="nf">ribbonPing&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">PingUrl&lt;/span>&lt;span class="o">();&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Ribbonå®¢æˆ·ç«¯çš„é…ç½®, å¦‚æœä¸æŒ‡å®šä¼šä½¿ç”¨é»˜è®¤çš„å®ç°:&lt;/p>
&lt;ul>
&lt;li>IClientConfig å®¢æˆ·ç«¯ç›¸å…³é…ç½®&lt;/li>
&lt;li>IRule å®šä¹‰è´Ÿè½½å‡è¡¡ç­–ç•¥&lt;/li>
&lt;li>IPing å®šä¹‰å¦‚ä½•pingç›®æ ‡æœåŠ¡å®ä¾‹æ¥åˆ¤æ–­æ˜¯å¦å­˜æ´», ribbonä½¿ç”¨å•ç‹¬çš„çº¿ç¨‹æ¯éš”ä¸€æ®µæ—¶é—´(é»˜è®¤10s)å¯¹æœ¬åœ°ç¼“å­˜çš„ServerListåšä¸€æ¬¡æ£€æŸ¥&lt;/li>
&lt;li>ServerList&lt;!-- raw HTML omitted --> å®šä¹‰å¦‚ä½•è·å–æœåŠ¡å®ä¾‹åˆ—è¡¨. ä¸¤ç§å®ç°åŸºäºé…ç½®çš„&lt;code>ConfigurationBasedServerList&lt;/code>å’ŒåŸºäºEurekaæœåŠ¡å‘ç°çš„&lt;code>DiscoveryEnabledNIWSServerList&lt;/code>&lt;/li>
&lt;li>ServerListFilter&lt;!-- raw HTML omitted --> ç”¨æ¥ä½¿ç”¨æœŸæœ›çš„ç‰¹å¾è¿‡æ»¤é™æ€é…ç½®åŠ¨æ€è·å¾—çš„å€™é€‰æœåŠ¡å®ä¾‹åˆ—è¡¨. è‹¥æœªæä¾›, é»˜è®¤ä½¿ç”¨&lt;code>ZoneAffinityServerListFilter&lt;/code>&lt;/li>
&lt;li>ILoadBalancer å®šä¹‰äº†è½¯è´Ÿè½½å‡è¡¡å™¨çš„æ“ä½œçš„æ¥å£. ä¸€ä¸ªå…¸å‹çš„è´Ÿè½½å‡è¡¡å™¨è‡³å°‘éœ€è¦ä¸€ç»„ç”¨æ¥åšè´Ÿè½½å‡è¡¡çš„æœåŠ¡å®ä¾‹, ä¸€ä¸ªæ ‡è®°æŸä¸ªæœåŠ¡å®ä¾‹ä¸åœ¨æ—‹è½¬ä¸­çš„æ–¹æ³•, å’Œå¯¹åº”çš„æ–¹æ³•è°ƒç”¨ä»å®ä¾‹åˆ—è¡¨ä¸­é€‰å‡ºæŸä¸€ä¸ªæœåŠ¡å®ä¾‹.&lt;/li>
&lt;li>ServerListUpdater DynamicServerListLoadBalancerç”¨æ¥æ›´æ–°å®ä¾‹åˆ—è¡¨çš„ç­–ç•¥(æ¨&lt;code>EurekaNotificationServerListUpdater&lt;/code>/æ‹‰&lt;code>PollingServerListUpdater&lt;/code>, é»˜è®¤æ˜¯æ‹‰)&lt;/li>
&lt;/ul></description></item><item><title>Jenkins CI/CD (ä¸€) åŸºäºè§’è‰²çš„æˆæƒç­–ç•¥</title><link>https://atbug.com/using-role-based-authorization-strategy-in-jenkins/</link><pubDate>Fri, 20 Apr 2018 12:18:46 +0000</pubDate><guid>https://atbug.com/using-role-based-authorization-strategy-in-jenkins/</guid><description>
&lt;p>æœ€è¿‘å¼€å§‹å®¢ä¸²è¿ç»´åšCI/CDçš„è§„åˆ’è®¾è®¡, ä¸»è¦æ˜¯åŸºäº&amp;rsquo;Pipeline as Code in Jenkins'. æ•´ç†äº†ä¸‹æ€è·¯å’ŒæŠ€æœ¯ç‚¹, æ…¢æ…¢çš„å†™.&lt;/p>
&lt;p>è¿™ä¸€ç¯‡æ˜¯å…³äºåŸºäºè§’è‰²çš„æˆæƒç­–ç•¥, ç”¨çš„æ˜¯&lt;code>Role-Based Authorization Strategy Plugin&lt;/code>.&lt;/p>
&lt;p>æˆæƒåœ¨CI/CDæµç¨‹ä¸­æ¯”è¾ƒå¸¸è§, æ¯”å¦‚æˆ‘ä»¬åªè®©æŸäº›ç‰¹å®šç”¨æˆ·æ‰å¯ä»¥æ„å»ºPre-Releaseçš„Job. è€Œæ›´é«˜çº§çš„Releaseå‘å¸ƒ, åˆä¼šéœ€è¦æŸäº›ç”¨æˆ·çš„å®¡æ‰¹æ‰å¯ä»¥è¿›è¡Œ. éœ€è¦æˆæƒæ—¶, å¯èƒ½è¿˜éœ€è¦å‘é‚®ä»¶æé†’ç”¨æˆ·.&lt;/p>
&lt;p>UIä¸Šå¦‚ä½•ä½¿ç”¨å°±ä¸æäº†, è¿™é‡Œåªè¯´Pipeline as Code. åé¢çš„å‡ ç¯‡ä¹Ÿä¼šæ˜¯è¿™ä¸ªèƒŒæ™¯.&lt;/p>
&lt;p>å‚è€ƒçš„è¿™ç¯‡&lt;a href="https://www.avioconsulting.com/blog/using-role-based-authorization-strategy-jenkins">æ–‡ç« &lt;/a>, æ–‡ç« é‡Œçš„ä»£ç è¿è¡Œå¤±è´¥, åšäº†ä¿®å¤.&lt;/p>
&lt;h2 id="é…ç½®">é…ç½®&lt;/h2>
&lt;p>å®‰è£…å®Œæ’ä»¶, éœ€è¦å¼€å§‹&lt;code>åŸºäºè§’è‰²çš„æˆæƒç­–ç•¥&lt;/code>. åŒæ—¶æ·»åŠ è§’è‰²å’Œä¸ºç”¨æˆ·åˆ†é…è§’è‰².&lt;/p>
&lt;h3 id="ä½¿ç”¨role-based-strategyä½œä¸ºéªŒè¯æ–¹å¼">ä½¿ç”¨&lt;code>Role-Based Strategy&lt;/code>ä½œä¸ºéªŒè¯æ–¹å¼&lt;/h3>
&lt;p>&lt;code>Manage Jenkins / Configure Global Security / Configure Global Security&lt;/code>&lt;/p>
&lt;p>
&lt;div class="notices warning image-warning">
&lt;div class="label">Image not found&lt;/div>
&lt;style>
a.warning-link {
color: inherit !important;
font-weight: inherit !important;
text-decoration: underline !important;
border-bottom: none !important; }
&lt;/style>
&lt;p>ç½‘ç«™é“¾æ¥: &lt;a href='http://7xvxng.com1.z0.glb.clouddn.com/15241955282214.jpg' title='åœ¨æ–°é€‰é¡¹å¡ä¸­æ‰“å¼€æ­¤ç½‘ç«™é“¾æ¥' target='_blank' class='warning-link'>http://7xvxng.com1.z0.glb.clouddn.com/15241955282214.jpg&lt;/a>&lt;/p>
&lt;p>é“¾æ¥åˆ°æ–‡ä»¶: /static/http://7xvxng.com1.z0.glb.clouddn.com/15241955282214.jpg&lt;/p>
&lt;p>ä½¿ç”¨ &lt;a href='https://gohugo.io/content-management/page-bundles/' title='ç›¸å…³ä¿¡æ¯ Hugo Page Bundles' target='_blank' class='warning-link'>Page Bundles&lt;/a>: false&lt;/p>
&lt;/div>
&lt;/p></description></item><item><title>KVMå®‰è£…æ‰‹å†Œ</title><link>https://atbug.com/kvm-installation-note/</link><pubDate>Thu, 12 Apr 2018 12:45:15 +0000</pubDate><guid>https://atbug.com/kvm-installation-note/</guid><description>
&lt;h2 id="æ·»åŠ è™šæ‹Ÿæœºæµç¨‹">æ·»åŠ è™šæ‹Ÿæœºæµç¨‹ï¼š&lt;/h2>
&lt;pre>&lt;code>1. é…ç½®ç½‘ç»œ
2. é…ç½®å­˜å‚¨æ± 
3. ä¸Šä¼ é•œåƒ
4. å®‰è£…è™šæ‹Ÿæœºï¼ŒæŒ‡å®šé…ç½®
&lt;/code>&lt;/pre>
&lt;h3 id="å®‰è£…kvmè™šæ‹Ÿæœº">å®‰è£…KVMè™šæ‹Ÿæœº&lt;/h3>
&lt;h4 id="1-å…³é—­é˜²ç«å¢™selinux">1. å…³é—­é˜²ç«å¢™ï¼Œselinux&lt;/h4>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="c1"># service iptables stop&lt;/span>
&lt;span class="c1"># setenforce 0 ä¸´æ—¶å…³é—­&lt;/span>
&lt;span class="c1"># chkconfig NetworkManager off&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="2-å®‰è£…kvmè™šæ‹Ÿæœº">2. å®‰è£…kvmè™šæ‹Ÿæœº&lt;/h4>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="c1"># yum install kvm libvirt libvirt-devel python-virtinst python-virtinst qemu-kvm virt-viewer bridge-utils virt-top libguestfs-tools ca-certificates audit-libs-python device-mapper-libs virt-install&lt;/span>
&lt;span class="c1"># å¯åŠ¨æœåŠ¡&lt;/span>
&lt;span class="c1"># service libvirtd restart&lt;/span>
ä¸‹è½½virtio-win-1.5.2-1.el6.noarch.rpm å¦‚æœä¸å®‰è£…windowè™šæ‹Ÿæœºæˆ–è€…ä½¿ç”¨å¸¦virtioé©±åŠ¨çš„é•œåƒå¯ä»¥ä¸ç”¨å®‰è£…
&lt;span class="c1"># rpm -ivh virtio-win-1.5.2-1.el6.noarch.rpm&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="3-libvirtåœ¨ç®¡ç†æœ¬åœ°æˆ–è¿œç¨‹hypervisoræ—¶çš„è¡¨ç°å½¢å¼å¦‚ä¸‹">3. Libvirtåœ¨ç®¡ç†æœ¬åœ°æˆ–è¿œç¨‹Hypervisoræ—¶çš„è¡¨ç°å½¢å¼å¦‚ä¸‹ã€‚&lt;/h4>
&lt;p>åœ¨libvirtå†…éƒ¨ç®¡ç†äº†äº”éƒ¨åˆ†ï¼š&lt;/p>
&lt;ul>
&lt;li>èŠ‚ç‚¹ï¼šæ‰€è°“çš„èŠ‚ç‚¹å°±æ˜¯æˆ‘ä»¬çš„ç‰©ç†æœåŠ¡å™¨ï¼Œä¸€ä¸ªæœåŠ¡å™¨ä»£è¡¨ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä¸Šè¾¹å­˜æ”¾ç€Hyperå’ŒDomain&lt;/li>
&lt;li>Hypervisorï¼šå³VMMï¼ŒæŒ‡è™šæ‹Ÿæœºçš„ç›‘æ§ç¨‹åºï¼Œåœ¨KVMä¸­æ˜¯ä¸€ä¸ªåŠ è½½äº†kvm.koçš„æ ‡å‡†Linuxç³»ç»Ÿã€‚&lt;/li>
&lt;li>åŸŸï¼ˆDomainï¼‰ï¼šæŒ‡è™šæ‹Ÿæœºï¼Œä¸€ä¸ªåŸŸä»£è¡¨ä¸€ä¸ªè™šæ‹Ÿæœºï¼ˆä¼°è®¡æ€è·¯æ¥æºäºXençš„Domain0ï¼‰&lt;/li>
&lt;li>å­˜å‚¨æ± ï¼ˆStorage Poolï¼‰ï¼šå­˜å‚¨ç©ºé—´ï¼Œæ”¯æŒå¤šç§åè®®å’Œç½‘ç»œå­˜å‚¨ã€‚ä½œä¸ºè™šæ‹Ÿæœºç£ç›˜çš„å­˜å‚¨æºã€‚&lt;/li>
&lt;li>å·ç»„ï¼ˆVolumeï¼‰ï¼šè™šæ‹Ÿæœºç£ç›˜åœ¨Hostä¸Šçš„è¡¨ç°å½¢å¼ã€‚
ä¸Šè¾¹çš„äº”éƒ¨åˆ†ï¼Œæˆ‘ä»¬å¿…é¡»ä½¿ç”¨çš„æ˜¯å‰ä¸‰ä¸ªï¼Œå› ä¸ºå¾ˆå¤šæ—¶å€™æ ¹æ®ä¸šåŠ¡è§„åˆ™æˆ–åº”ç”¨çš„çµæ´»æ€§å¹¶æ²¡æœ‰ä½¿ç”¨å·ç»„ï¼ˆå…¶å®å°±æ˜¯æœ‰äº†ç¼–åˆ¶çš„è™šæ‹Ÿç£ç›˜æ–‡ä»¶ï¼‰ï¼Œä¹Ÿå°±æ²¡æœ‰å¿…è¦ä½¿ç”¨å­˜å‚¨æ± ã€‚&lt;/li>
&lt;/ul></description></item><item><title>å¯ç”¨Jenkins CLI</title><link>https://atbug.com/jenkins-cli-enable/</link><pubDate>Mon, 09 Apr 2018 11:16:38 +0000</pubDate><guid>https://atbug.com/jenkins-cli-enable/</guid><description>
Jenkins CLIæä¾›äº†SSHå’ŒClientæ¨¡å¼. Dockerè¿è¡ŒJenkins version:&amp;#39;3&amp;#39;services:jenkins:image:jenkins/jenkins:alpineports:- 8080:8080- 50000:50000- 46059:46059volumes:- &amp;#34;/Users/addo/DevApps/Docker/data/jenkins:/var/jenkins_home&amp;#34;note: ä»¥ä¸ºæ˜¯dockerè¿è¡Œ, sshç«¯å£è®¾ç½®é€‰ç”¨äº†å›ºå®šç«¯å£. Client ä»http://JENKINS_URL/clié¡µé¢ä¸‹è½½client jar ä½¿ç”¨æ–¹æ³•: java -jar jenkins-cli.jar -s http://localhost:8080/ help æ„å»º: java -jar jenkins-cli.jar -s http://localhost:8080/ build JOB [-c] [-f] [-p] [-r N] [-s] [-v] [-w] Starts a build, and optionally waits for a completion. Aside from general scripting use, this command can be used to invoke another job from within a build of one job. With the -s option, this command changes the exit code based on the outcome of the build (exit code 0 indicates a success) and interrupting the command will interrupt the job. With the -f option, this command changes the exit code based on the outcome of the build (exit code 0 indicates a success) however, unlike -s, interrupting the command will not interrupt the job (exit code 125 indicates the command was interrupted). With the -c option, a build will only run if there has been an SCM change. JOB : Name of the job to build -c : Check for SCM changes before starting the build, and if there&amp;#39;s no change, exit without doing a build -f : Follow the build progress. Like -s only interrupts are not passed through to the build. -p : Specify the build</description></item><item><title>Jenkins - è§£å†³execute shellä¸­å¯åŠ¨çš„è¿›ç¨‹è¢«åœ¨Jobé€€å‡ºæ—¶è¢«æ€æ­»é—®é¢˜</title><link>https://atbug.com/resolve-process-be-killed-after-jenkins-job-done/</link><pubDate>Thu, 15 Mar 2018 17:00:25 +0000</pubDate><guid>https://atbug.com/resolve-process-be-killed-after-jenkins-job-done/</guid><description>
å› ä¸ºProcessTreeKillerçš„å­˜åœ¨, æ„å»ºè¿‡ç¨‹ä¸­ä½¿ç”¨shellå¯åŠ¨çš„è¿›ç¨‹åœ¨Jobå®Œæˆæ—¶éƒ½ä¼šè¢«killæ‰. å„ç§æœç´¢ä»¥åŠProcessTreeKilleræä¾›çš„è§£å†³æ–¹å¼æ˜¯ä¿®æ”¹BUILD_IDå’Œæ·»åŠ  -Dhudson.util.ProcessTree.disable=trueéƒ½æ— æ³•è§£å†³. æœ€åå‚è€ƒStackOverflowå’ŒJenkins JIRA, ä¿®æ”¹JENKINS_NODE_COOKIEä¸ºä»»ä½•å€¼, å¦‚dontKillMe. è¿™ç§æ–¹æ³•å¯ä»¥è§£å†³, è®°å½•ä¸€ä¸‹. (æœç´¢æ’åé å‰çš„ç»“æœéƒ½ä¸å¯¹).</description></item><item><title>MacOSå®‰è£…minishift</title><link>https://atbug.com/install-minishift-on-mac/</link><pubDate>Fri, 23 Feb 2018 15:32:26 +0000</pubDate><guid>https://atbug.com/install-minishift-on-mac/</guid><description>
MacOSç¯å¢ƒå®‰è£…minishift å®‰è£…minishift cli brew cask install minishift ä½¿ç”¨virtualboxå®‰è£… å®‰è£…çš„æ—¶å€™å¯ä»¥æŒ‡å®šHTTPä»£ç†, æ‹‰å–å¢™å¤–é•œåƒæ—¶éœ€è¦; è¿˜å¯ä»¥æŒ‡å®šinsecureçš„é•œåƒåº“. minishift start --docker-env HTTP_PROXY=&amp;#34;192.168.99.1:1087&amp;#34; --docker-env HTTPS_PROXY=&amp;#34;192.168.99.1:1087&amp;#34; --docker-env NO_PROXY=&amp;#34;192.168.0.0/16,172.30.0.0/16&amp;#34; --insecure-registry=&amp;#34;192.168.1.34&amp;#34; --vm-driver=virtualbox å¯åŠ¨ minishift start --vm-driver=virtualbox åˆ é™¤ minishift delete æ‰“å¼€Openshiftæ§åˆ¶é¢æ¿ minishift dashboard è·å–é›†ç¾¤ipåœ°å€ minishift ip å®‰è£…Openshift Cli brew install openshift-cli å¯ä»¥ä½¿ç”¨openshift cliè¿›è¡Œæ“ä½œ. minishiftå®‰è£…å®Œæˆåä¼šå°†é…ç½®ä¿¡æ¯å†™å…¥åˆ°ä¸»æœºçš„ç”¨æˆ·ç›®å½•ä¸‹, $HOME/.kubeç›®å½•ä¸‹é™¤äº†configä¿¡æ¯, è¿˜æœ‰openshiftçš„é›†ç¾¤ä¿¡æ¯åŠæ”¯æŒçš„api. oc login -u system:admin oc get pods --all-namespaces</description></item><item><title>Spring Cloud Zuulè¯¦è§£</title><link>https://atbug.com/spring-cloud-zuul-breakdown/</link><pubDate>Thu, 22 Feb 2018 17:02:26 +0000</pubDate><guid>https://atbug.com/spring-cloud-zuul-breakdown/</guid><description>
&lt;p>Spring Cloudå¯¹Netflix Zuulåšäº†å°è£…é›†æˆ, ä½¿å¾—åœ¨Spring Cloudç¯å¢ƒä¸­ä½¿ç”¨Zuulæ›´æ–¹ä¾¿. Netflix Zuulç›¸å…³åˆ†æè¯·çœ‹&lt;a href="http://atbug.com/learn-netflix-zuul/">ä¸Šä¸€ç¯‡&lt;/a>.&lt;/p>
&lt;h2 id="å®ç°">å®ç°&lt;/h2>
&lt;p>@EnableZuulProxy ä¸ @EnableZuulServer
äºŒè€…çš„åŒºåˆ«åœ¨äºå‰è€…ä½¿ç”¨äº†æœåŠ¡å‘ç°ä½œä¸ºè·¯ç”±å¯»å€, å¹¶ä½¿ç”¨Ribbonåšå®¢æˆ·ç«¯çš„è´Ÿè½½å‡è¡¡; åè€…æ²¡æœ‰ä½¿ç”¨.
Zuul serverçš„è·¯ç”±éƒ½é€šè¿‡&lt;code>ZuulProperties&lt;/code>è¿›è¡Œé…ç½®.&lt;/p>
&lt;h3 id="å…·ä½“å®ç°">å…·ä½“å®ç°:&lt;/h3>
&lt;ol>
&lt;li>ä½¿ç”¨&lt;code>ZuulController&lt;/code>(&lt;code>ServletWrappingController&lt;/code>çš„å­ç±»)å°è£…&lt;code>ZuulServlet&lt;/code>å®ä¾‹, å¤„ç†ä»&lt;code>DispatcherServlet&lt;/code>è¿›æ¥çš„è¯·æ±‚.&lt;/li>
&lt;li>&lt;code>ZuulHandlerMapping&lt;/code>è´Ÿè´£æ³¨å†Œhandler mapping, å°†&lt;code>Route&lt;/code>çš„&lt;code>fullPath&lt;/code>çš„è¯·æ±‚äº¤ç”±&lt;code>ZuulController&lt;/code>å¤„ç†.&lt;/li>
&lt;li>åŒæ—¶ä½¿ç”¨&lt;code>ServletRegistrationBean&lt;/code>æ³¨å†Œ&lt;code>ZuulServlet&lt;/code>, é»˜è®¤ä½¿ç”¨&lt;code>/zuul&lt;/code>ä½œä¸ºurlMapping. æ‰€æœ‰æ¥è‡ªä»¥&lt;code>/zuul&lt;/code>å¼€å¤´çš„pathçš„è¯·æ±‚éƒ½ä¼šç›´æ¥è¿›å…¥&lt;code>ZuulServlet&lt;/code>, ä¸ä¼šè¿›å…¥&lt;code>DispatcherServlet&lt;/code>.&lt;/li>
&lt;/ol>
&lt;h4 id="ä½¿ç”¨æ³¨è§£">ä½¿ç”¨æ³¨è§£&lt;/h4>
&lt;ul>
&lt;li>
&lt;p>&lt;code>@EnableZuulProxy&lt;/code>å¼•å…¥äº†&lt;code>ZuulProxyMarkerConfiguration&lt;/code>, &lt;code>ZuulProxyMarkerConfiguration&lt;/code>åªåšäº†ä¸€ä»¶äº‹, å®ä¾‹åŒ–äº†å†…éƒ¨ç±»&lt;code>Marker&lt;/code>.&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="nd">@Configuration&lt;/span>
&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">ZuulProxyMarkerConfiguration&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="nd">@Bean&lt;/span>
&lt;span class="kd">public&lt;/span> &lt;span class="n">Marker&lt;/span> &lt;span class="nf">zuulProxyMarkerBean&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">Marker&lt;/span>&lt;span class="o">();&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="kd">class&lt;/span> &lt;span class="nc">Marker&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;code>@EnableZuulServer&lt;/code>å¼•å…¥äº†&lt;code>ZuulServerMarkerConfiguration&lt;/code>, &lt;code>ZuulServerMarkerConfiguration&lt;/code>ä¹Ÿåªåšäº†ä¸€ä»¶äº‹: å®ä¾‹åŒ–äº†å†…éƒ¨ç±»&lt;code>Marker&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="nd">@Configuration&lt;/span>
&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">ZuulServerMarkerConfiguration&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="nd">@Bean&lt;/span>
&lt;span class="kd">public&lt;/span> &lt;span class="n">Marker&lt;/span> &lt;span class="nf">zuulServerMarkerBean&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">Marker&lt;/span>&lt;span class="o">();&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="kd">class&lt;/span> &lt;span class="nc">Marker&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul></description></item><item><title>Spring Cloud - EurekaæœåŠ¡æ³¨å†Œ</title><link>https://atbug.com/spring-cloud-service-registry-via-eureka/</link><pubDate>Wed, 14 Feb 2018 07:32:43 +0000</pubDate><guid>https://atbug.com/spring-cloud-service-registry-via-eureka/</guid><description>
&lt;p>ä¹‹å‰åˆ†æè¿‡&lt;a href="http://atbug.com/spring-cloud-eureka-client-source-code-analysis/">Spring Cloudçš„EurekaæœåŠ¡å‘ç°&lt;/a>, ä»Šå¤©åˆ†æä¸€ä¸‹æœåŠ¡æ³¨å†Œ.&lt;/p>
&lt;h2 id="é…ç½®">é…ç½®&lt;/h2>
&lt;h3 id="bootstrapconfiguration">BootstrapConfiguration&lt;/h3>
&lt;h4 id="eurekadiscoveryclientconfigservicebootstrapconfiguration">EurekaDiscoveryClientConfigServiceBootstrapConfiguration&lt;/h4>
&lt;p>spring-cloud-configç¯å¢ƒä¸­ä½¿ç”¨çš„é…ç½®&lt;/p>
&lt;p>å¼•å…¥&lt;code>EurekaDiscoveryClientConfiguration&lt;/code>å’Œ&lt;code>EurekaClientAutoConfiguration&lt;/code>&lt;/p>
&lt;h5 id="eurekadiscoveryclientconfiguration">EurekaDiscoveryClientConfiguration&lt;/h5>
&lt;ol>
&lt;li>åœ¨spring-cloudä¸­(é€šè¿‡æ˜¯å¦å­˜åœ¨RefreshScopeRefreshedEvent.classåˆ¤æ–­), æ·»åŠ &lt;code>RefreshScopeRefreshedEvent&lt;/code>çš„listener. æ”¶åˆ°äº‹ä»¶åé‡æ–°æ³¨å†Œå®ä¾‹.&lt;/li>
&lt;li>åœ¨&lt;code>eureka.client.healthcheck.enabled&lt;/code>è®¾ç½®ä¸ºtrueæ—¶, æ³¨å†Œ&lt;code>EurekaHealthCheckHandler&lt;/code>bean. &lt;code>EurekaHealthCheckHandler&lt;/code>è´Ÿè´£å°†åº”ç”¨çŠ¶æ€æ˜ å°„ä¸ºå®ä¾‹çŠ¶æ€&lt;code>InstanceStatus&lt;/code>.&lt;/li>
&lt;/ol>
&lt;h5 id="eurekaclientautoconfiguration">EurekaClientAutoConfiguration&lt;/h5>
&lt;p>æ”¯æŒspring-cloudå’Œéspring-cloudç¯å¢ƒ, åœ¨spring-cloudç¯å¢ƒä¸­, ä¸‹é¢ä¸¤ä¸ªbeanè¦ä½¿ç”¨&lt;code>@RefreshScope&lt;/code>æ ‡æ³¨&lt;/p>
&lt;ol>
&lt;li>å®ä¾‹åŒ–&lt;code>EurekaClient&lt;/code>bean, åœ¨spring-cloudä¸­ä½¿ç”¨å®ç°ç±»&lt;code>CloudEurekaClient&lt;/code>.&lt;/li>
&lt;li>ä½¿ç”¨&lt;code>EurekaInstanceConfig&lt;/code>å®ä¾‹, å®ä¾‹åŒ–&lt;code>ApplicationInfoManager&lt;/code>bean&lt;/li>
&lt;/ol></description></item><item><title>åˆè¯†Netflix Zuul</title><link>https://atbug.com/learn-netflix-zuul/</link><pubDate>Sun, 11 Feb 2018 10:07:18 +0000</pubDate><guid>https://atbug.com/learn-netflix-zuul/</guid><description>
&lt;p>åµŒå…¥å¼çš„zuulä»£ç†&lt;/p>
&lt;p>ä½¿ç”¨äº†Netfilx OSSçš„å…¶ä»–ç»„ä»¶:&lt;/p>
&lt;ul>
&lt;li>Hystrix ç†”æ–­&lt;/li>
&lt;li>Ribbon è´Ÿè´£å‘é€å¤–å‡ºè¯·æ±‚çš„å®¢æˆ·ç«¯, æä¾›è½¯ä»¶è´Ÿè½½å‡è¡¡åŠŸèƒ½&lt;/li>
&lt;li>Trubine å®æ—¶åœ°èšåˆç»†ç²’åº¦çš„metricsæ•°æ®&lt;/li>
&lt;li>Archaius åŠ¨æ€é…ç½®&lt;/li>
&lt;/ul>
&lt;h2 id="ä»‹ç»">ä»‹ç»&lt;/h2>
&lt;p>ç”±äº2.0åœæ­¢å¼€å‘ä¸”ä¼šæœ‰bug, æ•…ä¸‹é¢çš„åˆ†æåŸºäº1.xç‰ˆæœ¬.&lt;/p>
&lt;h3 id="ç‰¹æ€§">ç‰¹æ€§&lt;/h3>
&lt;ul>
&lt;li>Authentication è®¤è¯&lt;/li>
&lt;li>Insights æ´å¯Ÿ&lt;/li>
&lt;li>Stress Testing å‹åŠ›æµ‹è¯•&lt;/li>
&lt;li>Canary Testing é‡‘ä¸é›€æµ‹è¯•&lt;/li>
&lt;li>Dynamic Routing åŠ¨æ€è·¯ç”±&lt;/li>
&lt;li>Multi-Region Resiliency å¤šåŒºåŸŸå¼¹æ€§&lt;/li>
&lt;li>Load Shedding è´Ÿè½½è„±è½&lt;/li>
&lt;li>Security å®‰å…¨&lt;/li>
&lt;li>Static Response handling é™æ€å“åº”å¤„ç†&lt;/li>
&lt;li>Multi-Region Resiliency ä¸»åŠ¨/ä¸»åŠ¨æµé‡ç®¡ç†&lt;/li>
&lt;/ul></description></item><item><title>ConfigurationPropertiesåˆ°åº•éœ€ä¸éœ€è¦getter</title><link>https://atbug.com/configurationproperties-requires-getter-or-not/</link><pubDate>Wed, 07 Feb 2018 15:53:21 +0000</pubDate><guid>https://atbug.com/configurationproperties-requires-getter-or-not/</guid><description>
ä¸ºä»€ä¹ˆè¦è®¨è®ºè¿™ä¸ªé—®é¢˜, å·¥ä½œä¸­ä¸€ä¸ªåŒäº‹å†™çš„ç±»ä½¿ç”¨äº†ConfigurationProperties, åªæä¾›äº†æ ‡å‡†çš„setteræ–¹æ³•. å±æ€§çš„è®¿é—®, æä¾›äº†å®šåˆ¶çš„æ–¹æ³•. å¯ä»¥å‚è€ƒEurekaClientConfigBean. ä»–ä½¿ç”¨çš„æ˜¯spring boot 2.0.0.M5ç‰ˆæœ¬, å¯ä»¥æ­£å¸¸è·å–é…ç½®æ–‡ä»¶ä¸­çš„å±æ€§å€¼, ä½†æ˜¯åœ¨1.5.8.RELEASEè·å–ä¸åˆ°. çœ‹ä¸‹æ–‡æ¡£å’Œæºç : Annotation for externalized configuration. Add this to a class definition or a @Bean method in a @Configuration class if you want to bind and validate some external Properties (e.g. from a .properties file). å¤–ç½®é…ç½®çš„æ³¨è§£. å½“éœ€è¦ç»‘å®šå¤–ç½®é…ç½®(å¦‚propertiesæˆ–è€…yamlé…ç½®)çš„æ—¶å€™, å°†å…¶åŠ åˆ°ä½¿ç”¨äº†@Configurationæ³¨è§£çš„ç±»å£°æ˜å¤„æˆ–è€…@Beanæ ‡æ³¨çš„æ–¹æ³•ä¸Š. å€¼çš„ç»‘å®šæ˜¯é€šè¿‡Co</description></item><item><title>Go In Action è¯»ä¹¦ç¬”è®° å››</title><link>https://atbug.com/go-in-action-four/</link><pubDate>Mon, 01 Jan 2018 12:30:55 +0000</pubDate><guid>https://atbug.com/go-in-action-four/</guid><description>
&lt;p>
&lt;div class="notices warning image-warning">
&lt;div class="label">Image not found&lt;/div>
&lt;style>
a.warning-link {
color: inherit !important;
font-weight: inherit !important;
text-decoration: underline !important;
border-bottom: none !important; }
&lt;/style>
&lt;p>ç½‘ç«™é“¾æ¥: &lt;a href='https://talks.golang.org/2013/go4python/img/fib-go.png' title='åœ¨æ–°é€‰é¡¹å¡ä¸­æ‰“å¼€æ­¤ç½‘ç«™é“¾æ¥' target='_blank' class='warning-link'>https://talks.golang.org/2013/go4python/img/fib-go.png&lt;/a>&lt;/p>
&lt;p>é“¾æ¥åˆ°æ–‡ä»¶: /static/https://talks.golang.org/2013/go4python/img/fib-go.png&lt;/p>
&lt;p>ä½¿ç”¨ &lt;a href='https://gohugo.io/content-management/page-bundles/' title='ç›¸å…³ä¿¡æ¯ Hugo Page Bundles' target='_blank' class='warning-link'>Page Bundles&lt;/a>: false&lt;/p>
&lt;/div>
&lt;/p>
&lt;h2 id="å¹¶å‘æ¨¡å¼">å¹¶å‘æ¨¡å¼&lt;/h2>
&lt;h3 id="runner">runner&lt;/h3>
&lt;p>runnerå±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨é€šé“æ¥ç›‘è§†ç¨‹åºçš„æ‰§è¡Œæ—¶é—´, å¦‚æœç¨‹åºæ‰§è¡Œæ—¶é—´å¤ªé•¿, ä¹Ÿå¯ä»¥ç”¨ç»ˆæ­¢ç¨‹åº.
è¿™ä¸ªç¨‹åºå¯ç”¨ä½œcornä½œä¸šæ‰§è¡Œ&lt;/p></description></item><item><title>Go In Action è¯»ä¹¦ç¬”è®° ä¸‰</title><link>https://atbug.com/go-in-action-three/</link><pubDate>Mon, 01 Jan 2018 12:30:31 +0000</pubDate><guid>https://atbug.com/go-in-action-three/</guid><description>
&lt;h2 id="å¹¶å‘">å¹¶å‘&lt;/h2>
&lt;p>Goè¯­è¨€é‡Œçš„å¹¶å‘æ˜¯æŒ‡è®©æŸä¸ªå‡½æ•°å¯ä»¥ç‹¬ç«‹äºå…¶ä»–å‡½æ•°è¿è¡Œçš„èƒ½åŠ›. å½“ä¸€ä¸ªå‡½æ•°åˆ›å»ºä¸ºgoroutineæ—¶, Goä¼šå°†å…¶è§†ä¸ºä¸€ä¸ªç‹¬ç«‹çš„å·¥ä½œå•å…ƒ. è¿™ä¸ªå·¥ä½œå•å…ƒä¼šè¢«è°ƒåº¦åˆ°å¯ç”¨çš„&lt;strong>é€»è¾‘å¤„ç†å™¨&lt;/strong>ä¸Šæ‰§è¡Œ.&lt;/p>
&lt;p>Goçš„è¿è¡Œæ—¶è°ƒåº¦å™¨å¯ä»¥ç®¡ç†æ‰€æœ‰åˆ›å»ºçš„goroutine, å¹¶ä¸ºå…¶åˆ†é…æ‰§è¡Œæ—¶é—´.
è¿™ä¸ªè°ƒåº¦å™¨åœ¨æ“ä½œç³»ç»Ÿä¹‹ä¸Š, å°†æ“ä½œç³»ç»Ÿçš„çº¿ç¨‹ä¸é€»è¾‘å¤„ç†å™¨ç»‘å®š, å¹¶åœ¨é€»è¾‘å¤„ç†å™¨æ‰§è¡Œgoroutine. &lt;strong>è°ƒåº¦å™¨å¯ä»¥åœ¨ä»»ä½•ç»™å®šçš„æ—¶é—´, å…¨é¢æ§åˆ¶å“ªä¸ªgoroutineåœ¨å“ªä¸ªé€»è¾‘å¤„ç†å™¨ä¸Šè¿è¡Œ&lt;/strong>.&lt;/p>
&lt;p>Goçš„å¹¶å‘åŒæ­¥æ¨¡å‹æ¥è‡ªä¸€ä¸ªå«åšé€šä¿¡é¡ºåºè¿›ç¨‹(Communicating Sequential Processes, &lt;a href="http://www.usingcsp.com">CSP&lt;/a>). CSPæ˜¯ä¸€ä¸ªæ¶ˆæ¯ä¼ é€’æ¨¡å‹, é€šè¿‡åœ¨goroutineä¹‹å‰ä¼ é€’æ•°æ®æ¥ä¼ é€’æ¶ˆæ¯, ä¸éœ€è¦é€šè¿‡åŠ é”å®ç°åŒæ­¥è®¿é—®. ç”¨äºåœ¨goroutineé—´ä¼ é€’æ¶ˆæ¯çš„æ•°æ®ç»“æ„å«åšé€šé“(channel).&lt;/p>
&lt;h3 id="å¹¶å‘ä¸å¹¶è¡Œ">å¹¶å‘ä¸å¹¶è¡Œ&lt;/h3>
&lt;p>æ“ä½œç³»ç»Ÿçš„çº¿ç¨‹(thread)å’Œè¿›ç¨‹(process).&lt;/p>
&lt;p>è¿›ç¨‹ç±»ä¼¼åº”ç”¨ç¨‹åºåœ¨è¿è¡Œä¸­éœ€è¦ç”¨åˆ°å’Œç»´æŠ¤çš„å„ç§èµ„æºçš„å®¹å™¨.
èµ„æºåŒ…æ‹¬ä½†ä¸é™äº: å†…å­˜(æ¥è‡ªæ–‡ä»¶ç³»ç»Ÿçš„ä»£ç å’Œæ•°æ®), å¥æŸ„(æ–‡ä»¶, è®¾å¤‡, æ“ä½œç³»ç»Ÿ), çº¿ç¨‹.&lt;/p></description></item><item><title>Go In Action è¯»ä¹¦ç¬”è®° äºŒ</title><link>https://atbug.com/go-in-action-two/</link><pubDate>Mon, 01 Jan 2018 12:28:04 +0000</pubDate><guid>https://atbug.com/go-in-action-two/</guid><description>
&lt;h2 id="goè¯­è¨€çš„ç±»å‹ç³»ç»Ÿ">Goè¯­è¨€çš„ç±»å‹ç³»ç»Ÿ&lt;/h2>
&lt;p>Goè¯­è¨€æ˜¯é™æ€ç±»å‹çš„å˜æˆè¯­è¨€. ç¼–è¯‘çš„æ—¶å€™éœ€è¦ç¡®å®šç±»å‹.&lt;/p>
&lt;h3 id="ç”¨æˆ·å®šä¹‰çš„ç±»å‹">ç”¨æˆ·å®šä¹‰çš„ç±»å‹&lt;/h3>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="kd">type&lt;/span> &lt;span class="nx">user&lt;/span> &lt;span class="kd">struct&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="nx">name&lt;/span> &lt;span class="kt">string&lt;/span>
&lt;span class="nx">email&lt;/span> &lt;span class="kt">string&lt;/span>
&lt;span class="nx">ext&lt;/span> &lt;span class="kt">int&lt;/span>
&lt;span class="nx">privileged&lt;/span> &lt;span class="kt">bool&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;strong>ä½¿ç”¨&lt;/strong>
é›¶å€¼å’Œ&lt;strong>ç»“æ„å­—é¢é‡&lt;/strong>åˆå§‹åŒ–&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="c1">//å¼•ç”¨ç±»å‹, å„ä¸ªå­—æ®µåˆå§‹åŒ–ä¸ºå¯¹åº”çš„é›¶å€¼
&lt;/span>&lt;span class="c1">&lt;/span>&lt;span class="kd">var&lt;/span> &lt;span class="nx">bill&lt;/span> &lt;span class="nx">user&lt;/span> &lt;span class="err">#&lt;/span>&lt;span class="p">{&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">}&lt;/span>
&lt;span class="c1">//åˆ›å»ºå¹¶åˆå§‹åŒ–, ä½¿ç”¨ç»“æ„å­—é¢é‡
&lt;/span>&lt;span class="c1">&lt;/span>&lt;span class="nx">lisa&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">user&lt;/span>&lt;span class="p">{&lt;/span> &lt;span class="c1">//{Lisa lisa@email.com 123 true}
&lt;/span>&lt;span class="c1">&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;Lisa&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="nx">email&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;lisa@email.com&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="nx">ext&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">123&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="nx">privileged&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;strong>ç»“æ„å­—é¢é‡çš„èµ‹å€¼æ–¹å¼:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>ä¸åŒè¡Œå£°æ˜æ¯ä¸€ä¸ªå­—æ®µå’Œå¯¹åº”çš„å€¼, å­—æ®µåå’Œå­—æ®µä»¥&lt;code>:&lt;/code>åˆ†éš”, æœ«å°¾ä»¥&lt;code>,&lt;/code>ç»“å°¾&lt;/li>
&lt;li>ä¸é€‚ç”¨å­—æ®µå, åªå£°æ˜å¯¹åº”çš„å€¼. å†™åœ¨ä¸€è¡Œé‡Œ, ä»¥&lt;code>,&lt;/code>åˆ†éš”, ç»“å°¾ä¸éœ€è¦&lt;code>,&lt;/code>. &lt;strong>è¦ä¿è¯é¡ºåº&lt;/strong>&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="nx">lisa&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="s">&amp;#34;Lisa&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;lisa@email.com&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">123&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>Go In Action è¯»ä¹¦ç¬”è®° ä¸€</title><link>https://atbug.com/go-in-action-one/</link><pubDate>Mon, 01 Jan 2018 12:27:10 +0000</pubDate><guid>https://atbug.com/go-in-action-one/</guid><description>
&lt;p>
&lt;div class="notices warning image-warning">
&lt;div class="label">Image not found&lt;/div>
&lt;style>
a.warning-link {
color: inherit !important;
font-weight: inherit !important;
text-decoration: underline !important;
border-bottom: none !important; }
&lt;/style>
&lt;p>ç½‘ç«™é“¾æ¥: &lt;a href='http://7xvxng.com1.z0.glb.clouddn.com/15142714785285.jpg' title='åœ¨æ–°é€‰é¡¹å¡ä¸­æ‰“å¼€æ­¤ç½‘ç«™é“¾æ¥' target='_blank' class='warning-link'>http://7xvxng.com1.z0.glb.clouddn.com/15142714785285.jpg&lt;/a>&lt;/p>
&lt;p>é“¾æ¥åˆ°æ–‡ä»¶: /static/http://7xvxng.com1.z0.glb.clouddn.com/15142714785285.jpg&lt;/p>
&lt;p>ä½¿ç”¨ &lt;a href='https://gohugo.io/content-management/page-bundles/' title='ç›¸å…³ä¿¡æ¯ Hugo Page Bundles' target='_blank' class='warning-link'>Page Bundles&lt;/a>: false&lt;/p>
&lt;/div>
&lt;/p>
&lt;h2 id="å…³é”®å­—">å…³é”®å­—&lt;/h2>
&lt;h3 id="var">var&lt;/h3>
&lt;p>å˜é‡ä½¿ç”¨&lt;code>var&lt;/code>å£°æ˜, å¦‚æœå˜é‡ä¸æ˜¯å®šä¹‰åœ¨ä»»ä½•ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸå†…, è¿™ä¸ªå˜é‡å°±æ˜¯åŒ…çº§å˜é‡.&lt;/p>
&lt;blockquote>
&lt;p>Goè¯­è¨€ä¸­, æ‰€æœ‰å˜é‡éƒ½è¢«åˆå§‹åŒ–ä¸ºå…¶&lt;strong>é›¶å€¼&lt;/strong>. å¯¹äºæ•°å€¼ç±»å‹, å…¶é›¶å€¼æ˜¯&lt;strong>0&lt;/strong>; å¯¹äºå­—ç¬¦ä¸²ç±»å‹, å…¶é›¶å€¼æ˜¯&lt;strong>ç©ºå­—ç¬¦ä¸²&amp;quot;&amp;quot;&lt;/strong>; å¯¹äºå¸ƒå°”ç±»å‹, å…¶é›¶å€¼æ˜¯&lt;strong>false&lt;/strong>. å¯¹äºå¼•ç”¨ç±»å‹æ¥è¯´, åº•å±‚æ•°æ®ç»“æ„ä¼šè¢«åˆå§‹åŒ–å¯¹åº”çš„é›¶å€¼. ä½†æ˜¯è¢«ç”Ÿå‘½è¢«èµ·é›¶å€¼çš„å¼•ç”¨ç±»å‹çš„å˜é‡, ä¼šè¿”å›&lt;strong>nil&lt;/strong>ä½œä¸ºå…¶å€¼.&lt;/p>
&lt;/blockquote>
&lt;h3 id="const">const&lt;/h3>
&lt;p>å®šä¹‰å¸¸é‡&lt;/p>
&lt;h3 id="interface">interface&lt;/h3>
&lt;p>å£°æ˜æ¥å£&lt;/p>
&lt;h3 id="func">func&lt;/h3>
&lt;p>å£°æ˜å‡½æ•°&lt;/p>
&lt;h3 id="defer">defer&lt;/h3>
&lt;p>å®‰æ’åé¢çš„å‡½æ•°è°ƒç”¨åœ¨å½“å‰å‡½æ•°è¿”å›æ—¶æ‰æ‰§è¡Œ.&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="nx">file&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">os&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">open&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;filePath&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span>
&lt;span class="k">return&lt;/span>
&lt;span class="k">defer&lt;/span> &lt;span class="nx">file&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nb">close&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="err">#&lt;/span> &lt;span class="nx">more&lt;/span> &lt;span class="nx">file&lt;/span> &lt;span class="nx">operation&lt;/span>
&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>è‡ªå®šä¹‰GOPATHä¸‹å®‰è£…godepå¤±è´¥</title><link>https://atbug.com/install-godep-issue-in-custom-gopath/</link><pubDate>Fri, 22 Dec 2017 13:02:38 +0000</pubDate><guid>https://atbug.com/install-godep-issue-in-custom-gopath/</guid><description>
æˆ‘çš„ç¯å¢ƒå˜é‡æ˜¯è¿™æ ·çš„: export GOROOT=/usr/local/go export GOPATH=/Users/addo/Workspaces/go_w export GOBIN=$GOROOT/bin export PATH=$PATH:$GOBIN ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤å®‰è£…æŠ¥é”™: go get -v github.com/tools/godep github.com/tools/godep (download) github.com/tools/godep/vendor/github.com/pmezard/go-difflib/difflib github.com/tools/godep/vendor/github.com/kr/fs github.com/tools/godep/vendor/github.com/kr/text github.com/tools/godep/vendor/golang.org/x/tools/go/vcs github.com/tools/godep/vendor/github.com/kr/pretty github.com/tools/godep go install github.com/tools/godep: open /usr/local/go/bin/godep: permission denied é»˜è®¤æ˜¯å®‰è£…åˆ°$GOBINç›®å½•ä¸‹, æƒé™ä¸å¤Ÿ. ä½¿ç”¨: sudo go get -v github.com/tools/godep sudo go get -v github.com/tools/godep github.com/tools/godep (download) created GOPATH=/Users/addo/go; see &amp;lsquo;go help gopath&amp;rsquo; github.com/tools/godep/vendor/github.com/kr/fs github.com/tools/godep/vendor/github.com/kr/text github.com/tools/godep/vendor/github.com/pmezard/go-difflib/difflib github.com/tools/godep/vendor/golang.org/x/tools/go/vcs github.com/tools/godep/vendor/github.com/kr/pretty github.com/tools/godep $GOBINå¹¶æ²¡æœ‰æ‰¾åˆ°godef. è¾“å‡ºæç¤ºcreated GOPATH=/Users/addo/go; . å› ä¸ºsudoçš„æ—¶å€™æ‰¾ä¸åˆ°GOPATHå˜é‡, ä¾¿é‡æ–°åˆ›å»ºäº†ç›®å½•. è§£å†³æ–¹æ¡ˆä¸€: ä¸´æ—¶ä¿®æ”¹GOBIN: export GOBIN=$GOPATH/bin è¿è¡Œgo get github.com/tools/godep å°†ç”Ÿæˆçš„godefå¤åˆ¶åˆ°GOROOT/binä¸‹ å›æ»šä¿®æ”¹export GOBIN=$GOROOT/bin; export PATH=$PATH:$GOBIN è§£å†³æ–¹æ¡ˆäºŒ: ä¿®æ”¹GOROOT/binçš„å±ç»„å±ä¸», å®‰å…¨æ€§é—®é¢˜, ä¸æ¨è.</description></item><item><title>SpringBootæºç  - å¯åŠ¨</title><link>https://atbug.com/glance-over-spring-boot-source/</link><pubDate>Fri, 08 Dec 2017 17:48:43 +0000</pubDate><guid>https://atbug.com/glance-over-spring-boot-source/</guid><description>
SpringBoot Applicationå¯åŠ¨éƒ¨åˆ†çš„æºç é˜…è¯». SpringApplication å¸¸ç”¨çš„SpringApplication.run(Class, Args)å¯åŠ¨Springåº”ç”¨, åˆ›å»ºæˆ–è€…æ›´æ–°ApplicationContext é™æ€æ–¹æ³•run ä½¿ç”¨sourceç±»å®ä¾‹åŒ–ä¸€ä¸ªSpringApplicationå®ä¾‹, å¹¶è°ƒç”¨å®ä¾‹æ–¹æ³•run. public static ConfigurableApplicationContext run(Object[] sources, String[] args) { return new SpringApplication(sources).run(args); } åˆå§‹åŒ–initialize å®ä¾‹åŒ–çš„æ—¶å€™é¦–å…ˆé€šè¿‡å°è¯•åŠ è½½javax.servlet.Servletå’Œorg.springframework.web.context.ConfigurableWebApplicationContextæ¨æ–­å½“å‰æ˜¯å¦æ˜¯webç¯å¢ƒ. ç„¶åä»spring.facto</description></item><item><title>Javaåºåˆ—åŒ–å·¥å…·æ€§èƒ½å¯¹æ¯”</title><link>https://atbug.com/java-serval-serializer-benchmark/</link><pubDate>Sat, 02 Dec 2017 07:35:43 +0000</pubDate><guid>https://atbug.com/java-serval-serializer-benchmark/</guid><description>
æœ€è¿‘åœ¨è°ƒæ•´ç³»ç»Ÿçš„æ€§èƒ½, ç³»ç»Ÿä¸­æ­£ä½¿ç”¨Jacksonä½œä¸ºåºåˆ—åŒ–å·¥å…·. åšäº†ä¸‹ä¸fastJson, Avro, ProtoStuffçš„åºåˆ—åŒ–ååå¯¹æ¯”. ç”±äºåªæ˜¯åšæ¨ªå‘å¯¹æ¯”, æ²¡æœ‰ä¼˜åŒ–ç³»ç»Ÿæˆ–è€…JVMä»»ä½•å‚æ•°. æœåŠ¡å™¨ä¸€èˆ¬éƒ½ç”¨Linux, åœ¨Dockeré‡Œåšäº†Linuxç³»ç»Ÿçš„æµ‹è¯•. Mac: Benchmark Mode Cnt Score Error Units JMHTest.avroSerializer thrpt 2 3124799.325 ops/s JMHTest.fastJsonSerializer thrpt 2 3122720.917 ops/s JMHTest.jacksonSerializer thrpt 2 2373347.208 ops/s JMHTest.protostuffSerializer thrpt 2 4196009.673 ops/s Docker: Benchmark Mode Cnt Score Error Units JMHTest.avroSerializer thrpt 2 3293260.676 ops/s JMHTest.fastJsonSerializer thrpt 2 2996908.084 ops/s JMHTest.jacksonSerializer thrpt 2 2189518.443 ops/s JMHTest.protostuffSerializer thrpt 2 3998265.173 ops/s</description></item><item><title>Kafkaçš„æ¶ˆæ¯å¯é ä¼ é€’</title><link>https://atbug.com/kafka-reliable-data-delivery/</link><pubDate>Sat, 18 Nov 2017 14:01:46 +0000</pubDate><guid>https://atbug.com/kafka-reliable-data-delivery/</guid><description>
Kafkaæä¾›çš„åŸºç¡€ä¿éšœå¯ä»¥ç”¨æ¥æ„å»ºå¯é çš„ç³»ç»Ÿ, å´æ— æ³•ä¿è¯å®Œå…¨å¯é . éœ€è¦åœ¨å¯é æ€§å’Œååä¹‹é—´åšå–èˆ. Kafkaåœ¨åˆ†åŒºä¸Šæä¾›äº†æ¶ˆæ¯çš„é¡ºåºä¿è¯. ç”Ÿäº§çš„æ¶ˆæ¯åœ¨å†™å…¥åˆ°æ‰€æœ‰çš„åŒæ­¥åˆ†åŒºä¸Šåè¢«è®¤ä¸ºæ˜¯å·²æäº¤ (ä¸éœ€è¦åˆ·åˆ°ç¡¬ç›˜). ç”Ÿäº§è€…å¯ä»¥é€‰æ‹©åœ¨æ¶ˆæ¯æäº¤å®Œæˆåæ¥æ”¶brokerçš„ç¡®è®¤, æ˜¯å†™å…¥leaderä¹‹å, æˆ–è€…æ‰€æœ‰çš„å‰¯æœ¬ åªè¦æœ‰ä¸€ä¸ªå‰¯æœ¬å­˜åœ¨, æäº¤çš„æ¶ˆæ¯å°±ä¸ä¼šä¸¢å¤± æ¶ˆè´¹è€…åªèƒ½è¯»å–åˆ°å·²æäº¤çš„æ¶ˆæ¯ å¤åˆ¶ Kafkaçš„å¤åˆ¶æœºåˆ¶ä¿è¯æ¯ä¸ªåˆ†åŒºæœ‰å¤šä¸ªå‰¯æœ¬, æ¯ä¸ªå‰¯æœ¬å¯ä»¥ä½œä¸ºleaderæˆ–è€…followerçš„è§’è‰²å­˜åœ¨. ä¸ºäº†ä¿è¯å‰¯æœ¬çš„åŒæ­¥, éœ€è¦åšåˆ°: ä¿æŒåˆ°zkçš„è¿æ¥ä¼šè¯: æ¯éš”6så‘zkå‘é€å¿ƒè·³, æ—¶é—´å¯é…ç½® æ¯éš”10så‘leaderæ‹‰å–æ¶ˆæ¯, æ—¶é—´</description></item><item><title>Spring Cloud - Eureka Clientæºç åˆ†æ</title><link>https://atbug.com/spring-cloud-eureka-client-source-code-analysis/</link><pubDate>Sat, 14 Oct 2017 22:04:59 +0000</pubDate><guid>https://atbug.com/spring-cloud-eureka-client-source-code-analysis/</guid><description>
å‡†å¤‡åšä¸ªSpring Cloudæºç åˆ†æç³»åˆ—, ä½œä¸ºSpring Cloudçš„æºç åˆ†æç¬”è®°. è¿™ä¸€ç¯‡æ˜¯Eurekaçš„å®¢æˆ·ç«¯. å®¢æˆ·ç«¯ ä¸¤ç§æ–¹å¼, æœ€ç»ˆçš„å®ç°åŸºæœ¬ä¸€æ ·. æ˜¾ç¤ºæŒ‡å®šæœåŠ¡å‘ç°çš„å®ç°ç±»å‹ ä½¿ç”¨@EnableEurekaClientæ³¨è§£æ˜¾ç¤ºçš„æŒ‡å®šä½¿ç”¨Eurekaä½œä¸ºæœåŠ¡å‘ç°çš„å®ç°, å¹¶å®ä¾‹åŒ–EurekaClientå®ä¾‹. å®é™…ä¸Šä½¿ç”¨çš„æ˜¯@EnableDiscoveryClientæ³¨è§£. @Target(ElementType.TYPE) @Retention(RetentionPolicy.RUNTIME) @Documented @Inherited @EnableDiscoveryClient public @interface EnableEurekaClient { } åŠ¨æ€é…ç½®å®ç° ä½¿ç”¨@EnableDiscoveryClientæ³¨è§£æ¥é…ç½®æœåŠ¡å‘ç°çš„å®ç°. æºç åˆ†æ EnableDiscoveryClient @Target(ElementType.TYPE) @Retention(RetentionPolicy.RUNTIME) @Documented @Inherited @Import(EnableDiscoveryClientImportSelector.class) public @interface EnableDiscoveryClient { } EnableDiscoveryClientæ³¨è§£çš„ä½œç”¨ä¸»è¦æ˜¯ç”¨æ¥å¼•å…¥EnableDiscove</description></item><item><title>Raftç®—æ³•å­¦ä¹ </title><link>https://atbug.com/learning-raft/</link><pubDate>Sat, 14 Oct 2017 05:57:34 +0000</pubDate><guid>https://atbug.com/learning-raft/</guid><description>
Raft å¼ºä¸€è‡´æ€§ç®—æ³• åè¯ å¤åˆ¶çŠ¶æ€æœº Image not found a.warning-link { color: inherit !important; font-weight: inherit !important; text-decoration: underline !important; border-bottom: none !important; } ç½‘ç«™é“¾æ¥: http://wx4.sinaimg.cn/mw690/4858d6a8ly1fbxcex0w1fj20gt08vwfr.jpg é“¾æ¥åˆ°æ–‡ä»¶: /static/http://wx4.sinaimg.cn/mw690/4858d6a8ly1fbxcex0w1fj20gt08vwfr.jpg ä½¿ç”¨ Page Bundles: false å¤åˆ¶çŠ¶æ€æœºæ˜¯é€šè¿‡å¤åˆ¶æ—¥å¿—æ¥å®ç°çš„, æŒ‰ç…§æ—¥å¿—ä¸­çš„å‘½ä»¤çš„é¡ºåºæ¥æ‰§è¡Œè¿™äº›å‘½ä»¤. ç›¸åŒçš„çŠ¶æ€æœºæ‰§è¡Œç›¸åŒçš„æ—¥å¿—å‘½ä»¤, è·å¾—ç›¸åŒçš„æ‰§è¡Œç»“æœ. ä»»æœŸå· (currentTerm) æ¯ä¸ªæˆå‘˜éƒ½ä¼šä¿å­˜ä¸€ä¸ªä»»æœŸå·, ç§°ä¸ºæœåŠ¡å™¨æœ€åçŸ¥é“çš„ä»»æœŸå·. æŠ•ç¥¨çš„å€™é€‰äººid (votedFor) å½“å‰ä»»æœŸå†…, æŠ•ç¥¨çš„å€™é€‰äººid, å³å“åº”æŠ•ç¥¨è¯·æ±‚(è§ä¸‹æ–‡)è¿”å›trueæ—¶çš„å€™é€‰äººid. å·²è¢«æäº¤çš„æœ€å¤§æ—¥å¿—æ¡ç›®çš„ç´¢å¼•å€¼ (commitIndex) æ¯ä¸ªæˆå‘˜éƒ½ä¼šæŒæœ‰å·²è¢«æäº¤çš„æœ€å¤§æ—¥å¿—æ¡ç›®çš„ç´¢å¼•å€¼ è¢«çŠ¶æ€æœºæ‰§è¡Œçš„æœ€â¼¤æ—¥å¿—æ¡â½¬çš„ç´¢å¼•å€¼ (lastApplied) æ¯ä¸ªæˆå‘˜éƒ½ä¼šæŒæœ‰è¢«çŠ¶æ€æœºæ‰§è¡Œçš„æœ€â¼¤æ—¥å¿—æ¡â½¬çš„ç´¢å¼•å€¼ è¯·æ±‚ æ—¥å¿—å¤åˆ¶è¯·æ±‚ (AppendEntries RPC) ç”±é¢†å¯¼äººå‘é€ç»™å…¶ä»–æœåŠ¡å™¨, ä¹Ÿ</description></item><item><title>Kafkaå‘é€ä¸åŒç¡®è®¤æ–¹å¼çš„æ€§èƒ½å·®å¼‚</title><link>https://atbug.com/kafka-producer-acknowledge-benchmark/</link><pubDate>Tue, 10 Oct 2017 11:49:58 +0000</pubDate><guid>https://atbug.com/kafka-producer-acknowledge-benchmark/</guid><description>
èƒŒæ™¯ Kafkaçš„æ€§èƒ½ä¼—æ‰€å‘¨çŸ¥ï¼ŒProduceræ”¯æŒacknowledgeæ¨¡å¼ã€‚å³Kafkaä¼šæƒ³Producerè¿”å›æ¶ˆæ¯å‘é€çš„ç»“æœã€‚ä½†æ˜¯åœ¨Java Clientä¸­ï¼Œacknowledgeçš„ç¡®è®¤æœ‰ä¸¤ç§ï¼šåŒæ­¥å’Œå¼‚æ­¥ã€‚ åŒæ­¥æ˜¯é€šè¿‡è°ƒç”¨future.get()å®ç°çš„ï¼›å¼‚æ­¥åˆ™æ˜¯é€šè¿‡æä¾›callbackæ–¹æ³•æ¥å®ç°ã€‚å†™äº†ä¸ªç®€å•çš„ç¨‹åºæµ‹è¯•ä¸€ä¸‹å•çº¿ç¨‹ä¸­ååå·®å¼‚èƒ½æœ‰å¤šå¤§ã€‚æ³¨æ„è¿™é‡Œåªè€ƒè™‘æ¨ªå‘å¯¹æ¯”ã€‚ å‘é€ç«¯å•çº¿ç¨‹ Kafkaä¸ºå•é›†ç¾¤èŠ‚ç‚¹ topicçš„åˆ†åŒºæ•°ä¸º1 keyé•¿åº¦1 payloadé•¿åº¦100 æµ‹è¯•å·¥å…· JMeter Kafka Meter future.get() + batch size =1 Image not found a.warning-link { color: inherit !important; font-weight: inherit !important; text-decoration: underline !important; border-bottom: none !important; } ç½‘ç«™é“¾æ¥: http://7xvxng.com1.z0.glb.clouddn.com/15076056852541.jpg é“¾æ¥åˆ°æ–‡ä»¶: /static/http://7xvxng.com1.z0.glb.clouddn.com/15076056852541.jpg ä½¿ç”¨ Page Bundles: false future.get() + batch size = 16K Image not found a.warning-link { color: inherit !important; font-weight: inherit !important; text-decoration: underline !important;</description></item><item><title>Kafkaæ¶ˆæ¯æ¶ˆè´¹ä¸€è‡´æ€§</title><link>https://atbug.com/kafka-consumer-consistency/</link><pubDate>Tue, 26 Sep 2017 19:13:48 +0000</pubDate><guid>https://atbug.com/kafka-consumer-consistency/</guid><description>
Kafkaæ¶ˆè´¹ç«¯çš„offsetä¸»è¦ç”±consumeræ¥æ§åˆ¶, Kafkaé™æ¯ä¸ªconsumeræ‰€ç›‘å¬çš„tocpicçš„partitionçš„offsetä¿å­˜åœ¨__consumer_offsetsä¸»é¢˜ä¸­. consumeréœ€è¦å°†å¤„ç†å®Œæˆçš„æ¶ˆæ¯çš„offsetæäº¤åˆ°æœåŠ¡ç«¯, ä¸»è¦æœ‰ConsumerCoordinatorå®Œæˆçš„. æ¯æ¬¡ä»kafkaæ‹‰å–æ•°æ®ä¹‹å‰, å‡å¦‚æ˜¯å¼‚æ­¥æäº¤offset, ä¼šå…ˆè°ƒç”¨å·²ç»å®Œæˆçš„offset commitçš„callBack, ç„¶åæ£€æŸ¥ConsumerCoordinatorçš„è¿æ¥çŠ¶æ€. å¦‚æœè®¾ç½®äº†è‡ªåŠ¨æäº¤offset, ä¼šç»§ç»­ä¸Šæ¬¡ä»æœåŠ¡ç«¯è·å–çš„æ•°æ®çš„offsetå¼‚æ­¥æäº¤åˆ°æœåŠ¡ç«¯. è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ä¼š</description></item><item><title>Kafka æ°å¥½ä¸€æ¬¡å‘é€å’Œäº‹åŠ¡æ¶ˆè´¹ç¤ºä¾‹</title><link>https://atbug.com/kafka-exactly-once-delivery-and-transactional-messaging-example/</link><pubDate>Fri, 22 Sep 2017 18:03:43 +0000</pubDate><guid>https://atbug.com/kafka-exactly-once-delivery-and-transactional-messaging-example/</guid><description>
æ ¸å¿ƒæ€æƒ³ ç”Ÿäº§ç«¯ä¸€è‡´æ€§: å¼€å¯å¹‚ç­‰å’Œäº‹åŠ¡, åŒ…å«é‡è¯•, å‘é€ç¡®è®¤, åŒä¸€ä¸ªè¿æ¥çš„æœ€å¤§æœªç¡®è®¤è¯·æ±‚æ•°. æ¶ˆè´¹ç«¯ä¸€è‡´æ€§: é€šè¿‡è®¾ç½®è¯»å·²æäº¤çš„æ•°æ®å’ŒåŒæ—¶å¤„ç†å®Œæˆæ¯ä¸€æ¡æ¶ˆæ¯ä¹‹åæ‰‹åŠ¨æäº¤offset. ç”Ÿäº§ç«¯ public class ProducerTest { public static void main(String[] args) throws InterruptedException, ExecutionException { Properties props = new Properties(); props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &amp;#34;192.168.31.186:9092&amp;#34;); props.put(ProducerConfig.TRANSACTIONAL_ID_CONFIG, &amp;#34;my-transactional-id&amp;#34;); props.put(ProducerConfig.ACKS_CONFIG, &amp;#34;all&amp;#34;); props.put(ProducerConfig.RETRIES_CONFIG, &amp;#34;3&amp;#34;); props.put(ProducerConfig.MAX_IN_FLIGHT_REQUESTS_PER_CONNECTION, &amp;#34;1&amp;#34;); Producer&amp;lt;String, String&amp;gt; producer = new KafkaProducer&amp;lt;&amp;gt;(props, new StringSerializer(), new StringSerializer()); producer.initTransactions(); try { producer.beginTransaction(); for (int i = 0; i &amp;lt; 5; i++) { Future&amp;lt;RecordMetadata&amp;gt; send = producer .send(new ProducerRecord&amp;lt;&amp;gt;(&amp;#34;my-topic&amp;#34;, Integer.toString(i), Integer.toString(i))); System.out.println(send.get().offset()); TimeUnit.MILLISECONDS.sleep(1000L); } producer.commitTransaction(); } catch (ProducerFencedException | OutOfOrderSequenceException | AuthorizationException e) { // We can&amp;#39;t recover from these exceptions, so our only option is to close the producer and exit. producer.close(); } catch (KafkaException e) { // For all other exceptions, just abort the transaction and try again. producer.abortTransaction(); } producer.close(); } } æ¶ˆè´¹ç«¯ public class ConsumerTest { public static void main(String[] args) throws InterruptedException { Properties props = new Properties(); props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &amp;#34;192.168.31.186:9092&amp;#34;); props.put(ConsumerConfig.GROUP_ID_CONFIG, &amp;#34;test&amp;#34;); props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, OffsetResetStrategy.NONE.toString().toLowerCase(Locale.ROOT)); props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, &amp;#34;false&amp;#34;); props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, &amp;#34;org.apache.kafka.common.serialization.StringDeserializer&amp;#34;); props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, &amp;#34;org.apache.kafka.common.serialization.StringDeserializer&amp;#34;); props.put(ConsumerConfig.ISOLATION_LEVEL_CONFIG, IsolationLevel.READ_COMMITTED.toString().toLowerCase(Locale.ROOT)); KafkaConsumer&amp;lt;String, String&amp;gt; consumer = new KafkaConsumer&amp;lt;&amp;gt;(props); consumer.subscribe(Arrays.asList(&amp;#34;my-topic&amp;#34;)); while (true) { ConsumerRecords&amp;lt;String, String&amp;gt; records = consumer.poll(100); if (!records.isEmpty()) { for (ConsumerRecord&amp;lt;String, String&amp;gt; record : records) { System.out.printf(&amp;#34;offset = %d, key = %s, value = %s%n&amp;#34;, record.offset(), record.key(), record.value()); //Manually commit each record consumer.commitSync(Collections.singletonMap(new TopicPartition(record.topic(), record.partition()), new OffsetAndMetadata(record.offset() + 1))); } } } } }</description></item><item><title>æ°å¥½ä¸€æ¬¡å‘é€å’Œäº‹åŠ¡æ¶ˆæ¯(è¯‘)</title><link>https://atbug.com/kafka-exactly-once-delivery-and-transactional-messaging/</link><pubDate>Tue, 19 Sep 2017 19:13:26 +0000</pubDate><guid>https://atbug.com/kafka-exactly-once-delivery-and-transactional-messaging/</guid><description>
Kafkaæä¾›â€œè‡³å°‘ä¸€æ¬¡â€äº¤ä»˜è¯­ä¹‰, è¿™æ„å‘³ç€å‘é€çš„æ¶ˆæ¯å¯ä»¥ä¼ é€ä¸€æ¬¡æˆ–å¤šæ¬¡. äººä»¬çœŸæ­£æƒ³è¦çš„æ˜¯â€œä¸€æ¬¡â€è¯­ä¹‰,å› ä¸ºé‡å¤çš„æ¶ˆæ¯æ²¡æœ‰è¢«ä¼ é€’ã€‚ æ™®éåœ°å‘å£°é‡å¤æ¶ˆæ¯çš„æƒ…å†µæœ‰ä¸¤ç§: å¦‚æœå®¢æˆ·ç«¯å°è¯•å‘é›†ç¾¤å‘é€æ¶ˆæ¯å¹¶è·å–ç½‘ç»œé”™è¯¯, åˆ™é‡è¯•å¯èƒ½ä¼šå¯¼è‡´é‡å¤. å¦‚æœåœ¨å‘é€æ¶ˆæ¯ä¹‹å‰å‘ç”Ÿç½‘ç»œé”™è¯¯, åˆ™ä¸ä¼šå‘ç”Ÿé‡å¤. ä½†æ˜¯, å¦‚æœåœ¨å°†æ¶ˆæ¯é™„åŠ åˆ°æ—¥å¿—ä¹‹åå‘ç”Ÿç½‘ç»œé”™è¯¯, ä½†åœ¨å°†å“åº”å‘é€ç»™å‘ä»¶äººä¹‹å‰, å‘ä»¶äººå°†ä¸çŸ¥é“å‘ç”Ÿäº†ä»€ä¹ˆ. å”¯ä¸€çš„é€‰æ‹©æ˜¯é‡è¯•å’Œå†’é™©é‡å¤æˆ–æ”¾å¼ƒå¹¶å£°æ˜æ¶ˆæ¯ä¸¢å¤±ã€‚ å¦‚æœå®¢æˆ·ç«¯å°è¯•å‘é›†ç¾¤å‘é€æ¶ˆæ¯å¹¶è·å–ç½‘ç»œé”™è¯¯, åˆ™é‡è¯•å¯èƒ½ä¼šå¯¼è‡´é‡å¤. å¦‚æœåœ¨å‘é€æ¶ˆæ¯ä¹‹å‰å‘ç”Ÿç½‘ç»œé”™è¯¯, åˆ™ä¸ä¼šå‘ç”Ÿé‡å¤. ä½†æ˜¯, å¦‚æœåœ¨å°†æ¶ˆæ¯é™„åŠ åˆ°æ—¥å¿—ä¹‹åå‘ç”Ÿç½‘ç»œé”™è¯¯, ä½†åœ¨å°†å“åº”å‘é€ç»™</description></item><item><title>Kafka Produceré…ç½®è§£è¯»</title><link>https://atbug.com/kafka-producer-config/</link><pubDate>Tue, 19 Sep 2017 15:38:03 +0000</pubDate><guid>https://atbug.com/kafka-producer-config/</guid><description>
æŒ‰ç…§é‡è¦æ€§åˆ†ç±», åŸºäºç‰ˆæœ¬0.11.0.0 é«˜ bootstrap.servers ä¸€ç»„hostå’Œportç”¨äºåˆå§‹åŒ–è¿æ¥. ä¸ç®¡è¿™é‡Œé…ç½®äº†å¤šå°‘å°server, éƒ½åªæ˜¯ç”¨ä½œå‘ç°æ•´ä¸ªé›†ç¾¤å…¨éƒ¨serverä¿¡æ¯. è¿™ä¸ªé…ç½®ä¸éœ€è¦åŒ…å«é›†ç¾¤æ‰€æœ‰çš„æœºå™¨ä¿¡æ¯. ä½†æ˜¯æœ€å¥½å¤šäºä¸€ä¸ª, ä»¥é˜²æœåŠ¡å™¨æŒ‚æ‰. key.serializer ç”¨æ¥åºåˆ—åŒ–keyçš„Serializeræ¥å£çš„å®ç°ç±». value.serializer ç”¨æ¥åºåˆ—åŒ–valueçš„Serializeræ¥å£çš„å®ç°ç±» acks producerå¸Œæœ›leaderè¿”å›çš„ç”¨äºç¡®è®¤è¯·æ±‚å®Œæˆçš„ç¡®è®¤æ•°é‡. å¯é€‰å€¼ all, -1, 0 1. é»˜è®¤å€¼ä¸º1 acks=0 ä¸éœ€è¦ç­‰å¾…æœåŠ¡å™¨çš„ç¡®è®¤. è¿™æ˜¯retriesè®¾ç½®æ— æ•ˆ. å“åº”é‡Œæ¥è‡ªæœåŠ¡ç«¯çš„offsetæ€»æ˜¯-1. produceråªç®¡å‘ä¸ç®¡å‘é€æˆåŠŸä¸å¦ã€‚å»¶è¿Ÿä½ï¼Œå®¹æ˜“ä¸¢å¤±æ•°æ®ã€‚ acks=1 è¡¨ç¤ºle</description></item><item><title>JSON Patch</title><link>https://atbug.com/json-patch/</link><pubDate>Sun, 27 Aug 2017 14:41:44 +0000</pubDate><guid>https://atbug.com/json-patch/</guid><description>
JSON Pathæ˜¯åœ¨ä½¿ç”¨Kubernetes APIçš„è¿‡ç¨‹ä¸­é¦–æ¬¡ä½¿ç”¨çš„. ä½¿ç”¨APIåšæ‰©ç¼©å®¹çš„æ—¶å€™, å‘é€æ•´ä¸ªDeploymentçš„å…¨æ–‡ä¸æ˜¯ä¸ªæ˜æ™ºçš„åšæ³•, è™½ç„¶å¯è¡Œ. å› æ­¤ä¾¿ä½¿ç”¨äº†JSON Patch. JsonObject item = new JsonObject(); item.add(&amp;#34;op&amp;#34;, new JsonPrimitive(&amp;#34;replace&amp;#34;)); item.add(&amp;#34;path&amp;#34;, new JsonPrimitive(&amp;#34;/spec/replicas&amp;#34;)); item.add(&amp;#34;value&amp;#34;, new JsonPrimitive(instances)); JsonArray body = new JsonArray(); body.add(item); appsV1beta1Api.patchNamespacedScaleScale(id, namespace, body, null); fabric8sæä¾›çš„kubernetes-clientä¸­ä½¿ç”¨çš„zjsonpatchåˆ™å°è£…äº†JSON Patchæ“ä½œ. ä¾‹å¦‚åœ¨åšæ‰©ç¼©å®¹çš„æ—¶å€™æˆ–è€…å½“å‰çš„deployment, ä¿®æ”¹replicasçš„å€¼. ç„¶åæ¯”è¾ƒå¯¹è±¡çš„ä¸åŒ(JsonDiff.asJson(sourceJsonNode, targetJsonNode)). ä¸‹é¢çš„å†…å®¹éƒ¨åˆ†ç¿»è¯‘è‡ªJSON PATH, æœ‰å…´è¶£çš„å¯ä»¥è·³è½¬çœ‹åŸæ–‡. ä»€ä¹ˆæ˜¯JSON Patch JSON Pathæ˜¯ä¸€ç›´æè¿°JSONæ–‡</description></item><item><title>å¦‚ä½•åœ¨Openshiftä¸­ä½¿ç”¨hostPath</title><link>https://atbug.com/how-to-use-hostpath-in-openshift/</link><pubDate>Wed, 23 Aug 2017 19:29:51 +0000</pubDate><guid>https://atbug.com/how-to-use-hostpath-in-openshift/</guid><description>
ä½¿ç”¨openshiftæ­å»ºçš„k8sçš„apiåˆ›å»ºDeploymentï¼Œåœ¨å¯åŠ¨çš„æ—¶å€™æŠ¥ä¸‹é¢çš„é”™è¯¯ï¼š Invalid value: &amp;ldquo;hostPath&amp;rdquo;: hostPath volumes are not allowed to be used] è§£å†³æ–¹æ¡ˆï¼š ä¸€ä¸ªæ–¹æ¡ˆæ˜¯å°†useråŠ å…¥privileged sccä¸­ï¼Œå¦ä¸€ä¸ªæ–¹æ¡ˆå°±æ˜¯ï¼š oc edit scc restricted #æ·»åŠ ä¸‹é¢è¿™è¡Œ allowHostDirVolumePlugin: true</description></item><item><title>Kubernetes â€” æŒä¹…å·</title><link>https://atbug.com/kubernetes-persistent-volumes/</link><pubDate>Sun, 20 Aug 2017 22:25:40 +0000</pubDate><guid>https://atbug.com/kubernetes-persistent-volumes/</guid><description>
Persistent Volume è¯‘è‡ªPersistent Volumes ä»‹ç» ç®¡ç†å­˜å‚¨æ˜¯ç®¡ç†è®¡ç®—çš„ç‹¬ç‰¹é—®é¢˜ã€‚ PersistentVolumeå­ç³»ç»Ÿä¸ºç”¨æˆ·å’Œç®¡ç†å‘˜æä¾›äº†ä¸€ä¸ªAPIï¼Œå…¶ä¸­æä¾›äº†å¦‚ä½•ä»å¦‚ä½•ä½¿ç”¨å­˜å‚¨æä¾›å­˜å‚¨çš„è¯¦ç»†ä¿¡æ¯ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬ä»‹ç»ä¸¤ç§æ–°çš„APIèµ„æºï¼šPersistentVolumeå’ŒPersistentVolumeClaimã€‚ PersistentVolumeï¼ˆPVï¼‰æ˜¯ç”±ç®¡ç†å‘˜é…ç½®çš„é›†ç¾¤ä¸­çš„ä¸€æ®µå­˜å‚¨ã€‚å®ƒæ˜¯é›†ç¾¤ä¸­çš„ä¸€ç§èµ„æºå°±åƒä¸€ä¸ªèŠ‚ç‚¹æ˜¯ä¸€ä¸ªé›†ç¾¤çš„èµ„æºã€‚ PVæ˜¯ç±»ä¼¼Volumesçš„å·æ’ä»¶ï¼Œä½†æ˜¯å…·æœ‰ç‹¬ç«‹äºä½¿ç”¨PVçš„ä»»ä½•å•ä¸ªpodçš„ç”Ÿå‘½å‘¨æœŸã€‚è¯¥APIå¯¹è±¡æ•è·å­˜å‚¨çš„å®ç°ç»†èŠ‚ï¼Œå³NFSï¼ŒiSCSIæˆ–äº‘æä¾›å•†ç‰¹å®šçš„å­˜å‚¨ç³»ç»Ÿã€‚ Persistent</description></item><item><title>Kuberneteså­¦ä¹  â€” Macoså®‰è£…Kubernetes</title><link>https://atbug.com/install-kubernetes-on-macos/</link><pubDate>Thu, 17 Aug 2017 09:44:17 +0000</pubDate><guid>https://atbug.com/install-kubernetes-on-macos/</guid><description>
Kubernetes å®‰è£… macos æ£€æŸ¥ç¯å¢ƒ sysctl -a | grep machdep.cpu.features | grep VMX å®‰è£…VirtualBox http://download.virtualbox.org/virtualbox/5.1.26/Oracle_VM_VirtualBox_Extension_Pack-5.1.26-117224.vbox-extpack å®‰è£…minikube curl -Lo minikube https://storage.googleapis.com/minikube/releases/v0.21.0/minikube-darwin-amd64 &amp;amp;&amp;amp; chmod +x minikube &amp;amp;&amp;amp; sudo mv minikube /usr/local/bin/ åˆ›å»ºé›†ç¾¤ é»˜è®¤ä½¿ç”¨virtualboxã€‚ ä¸»æœºçš„ipæ˜¯192.168.31.186ï¼Œ 1087æ˜¯proxyçš„ç«¯å£ã€‚éœ€è¦å°†ssçš„httpä»£ç†ç›‘å¬åœ°å€ä»127.0.0.1æ”¹ä¸ºä¸»æœºçš„ipã€‚ #å¯åŠ¨ minikube start #ä½¿ç”¨ç§æœ‰åº“ minikube start --insecure-registry=&amp;#34;192.168.31.34&amp;#34; #ä½¿ç”¨proxyï¼Œç”¨äºè·å–é•œåƒ minikube start --docker-env HTTP_PROXY=&amp;#34;192.168.31.186:1087&amp;#34; --docker-env HTTPS_PROXY=&amp;#34;192.168.31.186:1087&amp;#34; --docker-env NO_PROXY=192.168.99.0/24 å®‰è£…kubectl curl -Lo kubectl http://storage.googleapis.com/kubernetes-release/release/v1.7.3/bin/darwin/amd64/kubectl &amp;amp;&amp;amp; chmod +x kubectl &amp;amp;&amp;amp; sudo mv kubectl /usr/local/bin/ oh-my-zsh tab completion vi ~/.zshrc æ·»åŠ åˆ°pluginéƒ¨åˆ† plugins=(git zsh-completions kubectl) ä½¿ç”¨ minikube æ£€æŸ¥ç‰ˆæœ¬ minikube version #minikube version: v0.21.0 kubectl version #Client Version: version.Info{Major:&amp;#34;1&amp;#34;, Minor:&amp;#34;3&amp;#34;, GitVersion:&amp;#34;v1.3.0&amp;#34;, GitCommit:&amp;#34;283137936a498aed572ee22af6774b6fb6e9fd94&amp;#34;, GitTreeState:&amp;#34;clean&amp;#34;, BuildDate:&amp;#34;2016-07-01T19:26:38Z&amp;#34;, GoVersion:&amp;#34;go1.6.2&amp;#34;, Compiler:&amp;#34;gc&amp;#34;, Platform:&amp;#34;darwin/amd64&amp;#34;} #Server Version: version.Info{Major:&amp;#34;1&amp;#34;, Minor:&amp;#34;7&amp;#34;, GitVersion:&amp;#34;v1.7.0&amp;#34;, GitCommit:&amp;#34;d3ada0119e776222f11ec7945e6d860061339aad&amp;#34;, GitTreeState:&amp;#34;clean&amp;#34;, BuildDate:&amp;#34;2017-07-26T00:12:31Z&amp;#34;, GoVersion:&amp;#34;go1.8.3&amp;#34;, Compiler:&amp;#34;gc&amp;#34;, Platform:&amp;#34;linux/amd64&amp;#34;} è·å–é›†ç¾¤åœ°å€ minikube ip 192.168.99.100 è·å–æœåŠ¡åˆ—è¡¨ minikube service list æ‰“å¼€dashboard minikube dashboard kubectl éƒ¨ç½²Dashboard UI é»˜è®¤</description></item><item><title>æš´åŠ›åœæ­¢ExecutorServiceçš„çº¿ç¨‹</title><link>https://atbug.com/stop-a-thread-of-executor-service/</link><pubDate>Wed, 19 Jul 2017 22:25:19 +0000</pubDate><guid>https://atbug.com/stop-a-thread-of-executor-service/</guid><description>
åœæ­¢ï¼Œstopï¼Œè¿™é‡Œè¯´çš„æ˜¯çœŸçš„åœæ­¢ã€‚å¦‚ä½•ä¼˜é›…çš„ç»“æŸï¼Œè¿™é‡Œå°±ä¸æäº†ã€‚ è¿™é‡Œè¦ç”¨Thread.stop()ã€‚ä¼—æ‰€å‘¨çŸ¥ï¼Œstop()æ–¹æ³•åœ¨JDKä¸­æ˜¯åºŸå¼ƒçš„ã€‚ è¯¥æ–¹æ³•å¤©ç”Ÿæ˜¯ä¸å®‰å…¨çš„ã€‚ä½¿ç”¨thread.stop()åœæ­¢ä¸€ä¸ªçº¿ç¨‹ï¼Œå¯¼è‡´é‡Šæ”¾ï¼ˆè§£é”ï¼‰æ‰€æœ‰è¯¥çº¿ç¨‹å·²ç»é”å®šçš„ç›‘è§†å™¨ï¼ˆå› æ²¿å †æ ˆå‘ä¸Šä¼ æ’­çš„æœªæ£€æŸ¥å¼‚å¸¸ThreadDeathè€Œè§£é”ï¼‰ã€‚å¦‚æœä¹‹å‰å—è¿™äº›ç›‘è§†å™¨ä¿æŠ¤çš„ä»»ä½•å¯¹è±¡å¤„äºä¸ä¸€è‡´çŠ¶æ€ï¼Œåˆ™ä¸ä¸€è‡´çŠ¶æ€çš„å¯¹è±¡ï¼ˆå—æŸå¯¹è±¡ï¼‰å°†å¯¹å…¶ä»–çº¿ç¨‹å¯è§ï¼Œè¿™å¯èƒ½å¯¼è‡´ä»»æ„çš„è¡Œä¸ºã€‚ æœ‰æ—¶å€™æˆ‘ä»¬ä¼šæœ‰è¿™ç§éœ€æ±‚ï¼Œä¸éœ€è¦è€ƒè™‘çº¿ç¨‹æ‰§è¡Œåˆ°å“ªä¸€æ­¥ã€‚ä¸€èˆ¬è¿™ç§æƒ…å†µæ˜¯å¤–éƒ¨æ‰§è¡Œstopï¼Œæ¯”å¦‚æ‰§è¡Œä¸šåŠ¡çš„çº¿ç¨‹å› ä¸ºå„ç§åŸå› å‡æ­»æˆ–è€…è€—æ—¶è¾ƒé•¿ï¼Œç”±äºè®¾è®¡é—®é¢˜åˆæ— æ³•å“åº”ä¼˜é›…çš„åœ</description></item><item><title>ç§æœ‰æ„é€ å‡½æ•°æ•è·æ¨¡å¼</title><link>https://atbug.com/private-constructor-capture-idiom/</link><pubDate>Wed, 24 May 2017 06:50:44 +0000</pubDate><guid>https://atbug.com/private-constructor-capture-idiom/</guid><description>
ã€ŠJavaå¹¶å‘ç¼–ç¨‹å®è·µã€‹çš„æ³¨è§£ä¸­æœ‰æåˆ°è¿™ä¸€æ¦‚å¿µã€‚ The private constructor exists to avoid the race condition that would occur if the copy constructor were implemented as this (p.x, p.y); this is an example of the private constructor capture idiom (Bloch and Gafter, 2005). ç»“åˆåŸæ–‡ä»£ç ï¼š @ThreadSafe public class SafePoint{ @GuardedBy(&amp;#34;this&amp;#34;) private int x,y; private SafePoint (int [] a) { this (a[0], a[1]); } public SafePoint(SafePoint p) { this (p.get()); } public SafePoint(int x, int y){ this.x = x; this.y = y; } public synchronized int[] get(){ return new int[] {x,y}; } public synchronized void set(int x, int y){ this.x = x; this.y = y; } } è¿™é‡Œçš„æ„é€ å™¨public SafePoint(SafePoint p) { this (p.get()); }æ˜¯ä¸ºäº†æ•è·å¦ä¸€ä¸ªå®ä¾‹çš„çŠ¶æ€ã€‚get()æ–¹æ³•æ˜¯ä¸€ä¸ªåŒæ­¥æ–¹æ³•ï¼Œä¸ºäº†é¿å…ç«æ€æ²¡æœ‰åˆ†åˆ«æä¾›xã€yçš„å…¬æœ‰getteræ–¹æ³•ã€‚ ä¸ºäº†ä¿è¯SafePointçš„å¤šçº¿ç¨‹å®‰å…¨æ€§ï¼Œåœ¨ä½¿ç”¨å¦ä¸€ä¸ªå®ä¾‹æ„é€ æ–°çš„å®ä¾‹æ—¶ï¼Œä½¿ç”¨äº†ä¸€ä¸ªç§æœ‰çš„æ„é€ å™¨ã€‚ é¦–å…ˆä¸ºä»€ä¹ˆä¸ç”¨ä¸‹é¢è¿™ç§ï¼Œè¿˜æ˜¯ä¸ºäº†é¿å…ç«æ€ï¼ˆp.xå’Œp.yè°ƒç”¨ä¸æ˜¯åŸå­æ“ä½œï¼‰ã€‚ public SafePoint(SafePoint p) { this(p.x, p.y) } åŒç†ï¼Œè¿™</description></item><item><title>Dockerå¿«é€Ÿæ„å»ºCassandraå’ŒJavaæ“ä½œ</title><link>https://atbug.com/java-operate-cassandra-deployed-in-docker/</link><pubDate>Thu, 18 May 2017 23:33:24 +0000</pubDate><guid>https://atbug.com/java-operate-cassandra-deployed-in-docker/</guid><description>
æ­å»ºCassandra ä½¿ç”¨dockeråˆ›å»ºCassandraï¼Œæ–¹ä¾¿å¿«æ· docker pull cassandra:latest docker run -d --name cassandra -p 9042:9042 cassandra docker exec -it cassandra bash åˆ›å»ºkeyspaceã€table #cqlsh&amp;gt;#createkeyspaceCREATEKEYSPACEcontactsWITHREPLICATION={&amp;#39;class&amp;#39;:&amp;#39;SimpleStrategy&amp;#39;,&amp;#39;replication_factor&amp;#39;:1};#useUSEcontacts;#createtableCREATETABLEcontact(idUUID,emailTEXTPRIMARYKEY);æŸ¥çœ‹è¡¨æ•°æ® cqlsh:contacts&amp;gt; SELECT * FROM contact; email | id -------+---- (0 rows) Javaå®¢</description></item><item><title>ä»é›¶å¼€å§‹ç”¨dockerè¿è¡Œspring bootåº”ç”¨</title><link>https://atbug.com/run-spring-boot-app-in-docker/</link><pubDate>Thu, 20 Apr 2017 21:58:42 +0000</pubDate><guid>https://atbug.com/run-spring-boot-app-in-docker/</guid><description>
å‡è®¾å·²ç»å®‰è£…å¥½Docker Springbootåº”ç”¨ pomæ·»åŠ ä¾èµ–å’Œæ„å»ºæ’ä»¶ &amp;lt;parent&amp;gt; &amp;lt;groupId&amp;gt;org.springframework.boot&amp;lt;/groupId&amp;gt; &amp;lt;artifactId&amp;gt;spring-boot-starter-parent&amp;lt;/artifactId&amp;gt; &amp;lt;version&amp;gt;1.5.3.RELEASE&amp;lt;/version&amp;gt; &amp;lt;/parent&amp;gt; &amp;lt;dependencies&amp;gt; &amp;lt;dependency&amp;gt; &amp;lt;groupId&amp;gt;org.springframework.boot&amp;lt;/groupId&amp;gt; &amp;lt;artifactId&amp;gt;spring-boot-starter-web&amp;lt;/artifactId&amp;gt; &amp;lt;/dependency&amp;gt; &amp;lt;/dependencies&amp;gt; &amp;lt;build&amp;gt; &amp;lt;plugins&amp;gt; &amp;lt;plugin&amp;gt; &amp;lt;groupId&amp;gt;org.springframework.boot&amp;lt;/groupId&amp;gt; &amp;lt;artifactId&amp;gt;spring-boot-maven-plugin&amp;lt;/artifactId&amp;gt; &amp;lt;/plugin&amp;gt; &amp;lt;/plugins&amp;gt; &amp;lt;/build&amp;gt; åº”ç”¨ä»£ç  package com.atbug.spring.boot.test; import org.springframework.boot.SpringApplication; import org.springframework.boot.autoconfigure.SpringBootApplication; import org.springframework.boot.web.servlet.FilterRegistrationBean; import org.springframework.context.annotation.Bean; import org.springframework.web.bind.annotation.RequestMapping; import org.springframework.web.bind.annotation.RestController; /** * Created by addo on 2017/5/15. */ @SpringBootApplication @RestController public class Application { @RequestMapping(&amp;#34;/&amp;#34;) public String home(){ return &amp;#34;Hello world!&amp;#34;; } public static void main(String[] args) { SpringApplication.run(Application.class, args); } } åº”ç”¨æ„å»º mvn clean package Centos 7 with Java8 è·å–Centos7 é•œåƒ docker pull centos:7 å‡†å¤‡centos-java8çš„dockerfile FROM centos:7 MAINTAINER Addo Zhang &amp;#34;duwasai@gmail.com&amp;#34; # Set correct environment variables. ENV HOME /root ENV LANG en_US.UTF-8 ENV LC_ALL en_US.UTF-8 RUN yum install -y curl; yum upgrade -y; yum update -y; yum clean all ENV JDK_VERSION 8u11 ENV JDK_BUILD_VERSION b12 RUN curl -LO &amp;#34;http://download.oracle.com/otn-pub/java/jdk/$JDK_VERSION-$JDK_BUILD_VERSION/jdk-$JDK_VERSION-linux-x64.rpm&amp;#34; -H &amp;#39;Cookie: oraclelicense=accept-securebackup-cookie&amp;#39; &amp;amp;&amp;amp; rpm -i jdk-$JDK_VERSION-linux-x64.rpm; rm -f jdk-$JDK_VERSION-linux-x64.rpm; yum clean all ENV JAVA_HOME /usr/java/default RUN yum remove curl; yum clean all åˆ›å»ºcentos-java8é•œåƒ docker build -t addo/centos-java8 . Dockerä¸­è¿è¡Œåº”ç”¨ å‡†å¤‡åº”ç”¨é•œåƒçš„dockerfile FROM addo/centos-java8 ADD target/boot-test-1.0-SNAPSHOT.jar /opt/app.jar EXPOSE 8080 CMD java -jar /opt/app.jar æ„å»ºåº”ç”¨é•œåƒ docker build -t temp/spring-boot-app . è¿è¡Œ docker run --name spring-boot-app</description></item><item><title>Jasig CAS Web and Proxy flow</title><link>https://atbug.com/jasig-cas-web-and-proxy-flow/</link><pubDate>Tue, 18 Apr 2017 10:36:16 +0000</pubDate><guid>https://atbug.com/jasig-cas-web-and-proxy-flow/</guid><description>
æœ€è¿‘å› ä¸ºéœ€æ±‚åœ¨çœ‹CASç›¸å…³çš„åªæ˜¯ï¼Œç”±äºéœ€è¦åç«¯è°ƒç”¨ï¼Œç”¨åˆ°proxyï¼ˆä»£ç†ï¼‰æ¨¡å¼ã€‚æ•´ç†äº†ä¸‹web flowå’Œproxy web flowçš„æµç¨‹ã€‚ Web Flow Image not found a.warning-link { color: inherit !important; font-weight: inherit !important; text-decoration: underline !important; border-bottom: none !important; } ç½‘ç«™é“¾æ¥: https://atbug.com/media/CAS-Service-Ticket.jpg é“¾æ¥åˆ°æ–‡ä»¶: /static//media/CAS-Service-Ticket.jpg ä½¿ç”¨ Page Bundles: false Proxy Web Flow Image not found a.warning-link { color: inherit !important; font-weight: inherit !important; text-decoration: underline !important; border-bottom: none !important; } ç½‘ç«™é“¾æ¥: https://atbug.com/media/CAS-Proxy-Ticket.jpg é“¾æ¥åˆ°æ–‡ä»¶: /static//media/CAS-Proxy-Ticket.jpg ä½¿ç”¨ Page Bundles: false</description></item><item><title>MetaspaceSizeçš„å‘</title><link>https://atbug.com/java8-metaspace-size-issue/</link><pubDate>Thu, 13 Apr 2017 11:55:14 +0000</pubDate><guid>https://atbug.com/java8-metaspace-size-issue/</guid><description>
è¿™å‡ å¤©ç”Ÿäº§ä¸Šæœ‰å°æœºå™¨çš„Metaspaceä¸€ç›´åœ¨å‘Šè­¦ï¼ŒMetaspaceä½¿ç”¨è¾¾åˆ°äº†97%ã€‚ä½¿ç”¨-XX:MetaspaceSize=512mï¼Œå‘Šè­¦ä¹Ÿè¿˜åœ¨åœ¨æŒç»­ï¼ŒæŸ¥çœ‹MCåªæœ‰81536.0ï¼Œæ˜¾ç„¶è¿™ä¸ªå‚æ•°æ²¡èµ·ä½œç”¨ã€‚ ä¹Ÿæœ‰äººé‡åˆ°ç±»ä¼¼çš„é—®é¢˜ï¼Œå¹¶åœ¨openjdkä¸Šæè¿‡ç±»ä¼¼çš„bugï¼Œå…¶å®æ˜¯ä¸€ä¸ªæ³¨é‡Šçš„bugï¼Œæœ€ç»ˆåœ¨JDK-8151845ä¸­ä¿®å¤äº†ã€‚ Class metadata is deallocated when the corresponding Java class is unloaded. Java classes are unloaded as a result of garbage collection, and garbage collections may be induced in order to unload classes and deallocate class metadata. When the space committed for class metadata reaches a certain level (a high-water mark), a garbage collection is induced. After the garbage collection, the high-water mark may be raised or lowered depending on the amount of space freed from class metadata. The high-water mark would be raised so as not to induce another garbage collection too soon. The high-water mark is initially set to the value of the command-line option MetaspaceSize. It is raised or lowered based on the options MaxMetaspaceFreeRatio and MinMetaspaceFreeRatio. If the committed space available for class metadata as a percentage of the total committed space for</description></item><item><title>ä¸€ä¸ªTomcatç±»åŠ è½½é—®é¢˜</title><link>https://atbug.com/one-tomcat-class-load-issue/</link><pubDate>Wed, 12 Apr 2017 10:40:01 +0000</pubDate><guid>https://atbug.com/one-tomcat-class-load-issue/</guid><description>
èƒŒæ™¯ ä¸€ä¸ªTomcatå®ä¾‹ä¸­è¿è¡Œäº†ä¸‰ä¸ªåº”ç”¨ï¼Œå…¶ä¸­ä¸€ä¸ªå¯¹æ¥äº†Apereoçš„CASç³»ç»Ÿã€‚ç°åœ¨è¦æ±‚å¦å¤–ä¸¤ä¸ªç³»ç»Ÿä¹Ÿå¯¹æ¥CASç³»ç»Ÿï¼Œé—®é¢˜å°±å‡ºç°äº†ï¼š åº”ç”¨å¯åŠ¨åæ‰“å¼€å…¶ä¸­ä¸¤ä¸ªåº”ç”¨çš„ä»»ä½•ä¸€ä¸ªï¼Œç™»å½•å®Œæˆåç³»ç»Ÿéƒ½æ²¡æœ‰é—®é¢˜ã€‚å”¯ç‹¬é¦–é€‰æ‰“å¼€ç¬¬ä¸‰ä¸ªï¼Œå…¶ä»–ä¸¤ä¸ªæŠ¥é”™ClassNotFoundException: org.apache.xerces.parsers.SAXParserã€‚ å‘ç°è¿™ä¸ªç±»æ¥è‡ªxerces:xercesImpl:jar:2.6.2ï¼Œä½¿ç”¨mvn dependency:treeå‘ç°æ˜¯è¢«xom:xom:1.1ç®€æ´å¼•ç”¨ã€‚ åˆ†æ CAS client jarä¸­ä½¿ç”¨XMLReaderFactoryåˆ›å»ºXMLReaderï¼Œé¦–æ¬¡åˆ›å»ºä¼šä»classpa</description></item><item><title>Scalaç¬”è®°ï¼šç”¨å‡½æ•°å­—é¢é‡å—è°ƒç”¨é«˜é˜¶å‡½æ•°</title><link>https://atbug.com/call-high-order-function-in-function-literal/</link><pubDate>Tue, 11 Apr 2017 10:15:15 +0000</pubDate><guid>https://atbug.com/call-high-order-function-in-function-literal/</guid><description>
è¿™é‡Œä¼šç”¨åˆ°å‡ ä¸ªæ¦‚å¿µé«˜é˜¶å‡½æ•°ã€å‡½æ•°å­—é¢é‡ã€å‚æ•°ç»„ é«˜é˜¶å‡½æ•° high-order function å‡½æ•°çš„ä¸€ç§ï¼Œç®€å•æ¥è¯´å®ƒåŒ…å«äº†ä¸€ä¸ªå‡½æ•°ç±»å‹çš„å‚æ•°æˆ–è€…è¿”å›å€¼ã€‚ æ‰€è°“çš„é«˜é˜¶æ˜¯è·Ÿä¸€é˜¶å‡½æ•°ç›¸æ¯”ï¼Œæ·±å…¥ä¸€ä¸‹ï¼š ä¸€ä¸ªæˆ–å¤šä¸ªå‚æ•°æ˜¯å‡½æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªå€¼ã€‚ è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œä½†æ²¡æœ‰å‚æ•°æ˜¯å‡½æ•°ã€‚ ä¸Šè¿°ä¸¤è€…å åŠ ï¼šä¸€ä¸ªæˆ–å¤šä¸ªå‚æ•°æ˜¯å‡½æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªå‡½æ•°ã€‚ ç¤ºä¾‹ï¼š def stringSafeOp(s: String, f: String =&amp;gt; String) = { if ( s != null) f(s) else s } //stringSafeOp: (s: String, f: String =&amp;gt; String)String def reverse(s: String) = s.reverse //reverse: (s: String)String stringSafeOp(&amp;#34;Ready&amp;#34;, reverse) //res86: String = ydaeR å‡½æ•°å­—é¢é‡ function literalï¼Œå…¶ä»–åå­—ï¼šåŒ¿åå‡½æ•°ã€Lambdaè¡¨è¾¾å¼ç­‰ã€‚ å‡½æ•°å­—é¢é‡å¯ä»¥å­˜å‚¨åœ¨å‡½æ•°å€¼å’Œå˜é‡ä¸­ï¼Œæˆ–è€…ä¹Ÿå¯ä»¥å®šä¹‰ä¸ºé«˜é˜¶å‡½æ•°è°ƒç”¨çš„ä¸€éƒ¨åˆ†ã€‚åœ¨ä»»ä½•æ¥å—å‡½æ•°ç±»å‹çš„åœ°æ–¹éƒ½å¯ä»¥ä½¿ç”¨å‡½æ•°å­—é¢é‡ã€‚ reverseçš„å‡½æ•°å­—é¢é‡å®šä¹‰ï¼š val reverse = (s:String) =&amp;gt; s.reverse (s:String) =&amp;gt; s.</description></item><item><title>GreenPlum JDBCå’ŒC3P0æ•°æ®æº</title><link>https://atbug.com/greenplum-jdbc-and-c3p0-datasource/</link><pubDate>Mon, 10 Apr 2017 08:29:00 +0000</pubDate><guid>https://atbug.com/greenplum-jdbc-and-c3p0-datasource/</guid><description>
åœ¨ç½‘ä¸Šæœç´¢GreenPlumï¼ˆGPDBï¼‰çš„æ•°æ®æºé…ç½®çš„æ—¶å€™ï¼Œå‘ç°æœç´¢ç»“æœéƒ½æ˜¯ç”¨postgresqlçš„é…ç½®ã€‚ import com.mchange.v2.c3p0.DataSources; import javax.sql.DataSource; import java.sql.*; import java.util.Properties; /** * Created by addo on 2017/4/10. */ public class JDBCTest { private static String POSTGRESQL_URL = &amp;#34;jdbc:postgresql://192.168.56.101:5432/example&amp;#34;; private static String POSTGRESQL_USERNAME = &amp;#34;dbuser&amp;#34;; private static String POSTGRESQL_PASSWORD = &amp;#34;password&amp;#34;; private static String GPDB_URL = &amp;#34;jdbc:pivotal:greenplum://192.168.56.101:5432;DatabaseName=test&amp;#34;; private static String GPDB_USERNAME = &amp;#34;dbuser&amp;#34;; private static String GPDB_PASSWORD = &amp;#34;password&amp;#34;; /** * Postgresql Connection * * @return * @throws ClassNotFoundException * @throws SQLException */ public static Connection postgresqlConnection() throws ClassNotFoundException, SQLException { Class.forName(&amp;#34;org.postgresql.Driver&amp;#34;); return DriverManager.getConnection(POSTGRESQL_URL, POSTGRESQL_USERNAME, POSTGRESQL_PASSWORD); } /** * GreenPlum Connection * * @return * @throws ClassNotFoundException * @throws SQLException */ public static Connection gpdbConnection() throws ClassNotFoundException, SQLException { Class.forName(&amp;#34;com.pivotal.jdbc.GreenplumDriver&amp;#34;); return DriverManager.getConnection(GPDB_URL, GPDB_USERNAME, GPDB_PASSWORD); } /** * GreenPlud C3P0 Datasource Connection * * @return * @throws SQLException */ public static Connection gpdbC3P0Connection() throws SQLException { Properties c3p0Props = new Properties(); c3p0Props.setProperty(&amp;#34;driverClass&amp;#34;, &amp;#34;com.pivotal.jdbc.GreenplumDriver&amp;#34;); c3p0Props.setProperty(&amp;#34;jdbcUrl&amp;#34;, GPDB_URL); c3p0Props.setProperty(&amp;#34;user&amp;#34;, GPDB_USERNAME); c3p0Props.setProperty(&amp;#34;password&amp;#34;, GPDB_PASSWORD); c3p0Props.setProperty(&amp;#34;acquireIncrement&amp;#34;, &amp;#34;5&amp;#34;); c3p0Props.setProperty(&amp;#34;initialPoolSize1&amp;#34;, &amp;#34;1&amp;#34;); c3p0Props.setProperty(&amp;#34;maxIdleTime&amp;#34;, &amp;#34;60&amp;#34;); c3p0Props.setProperty(&amp;#34;maxPoolSize&amp;#34;, &amp;#34;50&amp;#34;); c3p0Props.setProperty(&amp;#34;minPoolSize&amp;#34;, &amp;#34;1&amp;#34;); c3p0Props.setProperty(&amp;#34;idleConnectionTestPeriod&amp;#34;, &amp;#34;60&amp;#34;); return DataSources.unpooledDataSource(GPDB_URL, c3p0Props).getConnection(); } public static void main(String[] args) throws ClassNotFoundException, SQLException { Connection[] connections = new Connection[]{postgresqlConnection(), gpdbConnection(), gpdbC3P0Connection()}; for (Connection connection : connections) { CallableStatement callableStatement = connection.prepareCall(&amp;#34;select * from user&amp;#34;); boolean execute = callableStatement.execute(); ResultSet resultSet = callableStatement.getResultSet(); while (resultSet.next()) { System.out.println(resultSet.getString(&amp;#34;current_user&amp;#34;)); } callableStatement.close(); connection.close(); } } } æºä»£ç </description></item><item><title>Scalaç¬”è®°ï¼šdef VS val</title><link>https://atbug.com/def-vs-val-in-scala/</link><pubDate>Sun, 09 Apr 2017 08:24:40 +0000</pubDate><guid>https://atbug.com/def-vs-val-in-scala/</guid><description>
å…ˆè¯´åŸç†ï¼š valä¿®é¥°çš„åœ¨å®šä¹‰çš„æ—¶å€™æ‰§è¡Œ defä¿®é¥°çš„åœ¨è°ƒç”¨çš„æ—¶å€™æ‰§è¡Œ ç›´è§‚çš„ä¾‹å­ï¼š //æ³¨é‡Šçš„è¡Œä¸ºREPLè¾“å‡º def test: () =&amp;gt; Int = { println(&amp;#34;def called&amp;#34;) val r = util.Random.nextInt () =&amp;gt; r } //test: () =&amp;gt; Int test() //def called //res82: Int = -950077410 test() //def called //res83: Int = 1027028032 val test: () =&amp;gt; Int = { println(&amp;#34;def called&amp;#34;) val r = util.Random.nextInt () =&amp;gt; r } //def called //test: () =&amp;gt; Int = $$Lambda$1382/338526071@42f2515d test() //res84: Int = 300588352 test() //res84: Int = 300588352 defåœ¨æ–¹æ³•å®šä¹‰çš„æ—¶å€™é™¤äº†æ–°çš„æ–¹æ³•æ²¡æœ‰ä»»ä½•è¾“å‡ºï¼›ä¹‹åæ¯æ¬¡è°ƒç”¨çš„æ—¶å€™éƒ½ä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œè€Œä¸”æ˜¯æ¯æ¬¡è°ƒç”¨éƒ½è·å¾—ä¸€ä¸ªæ–°çš„æ–¹æ³•ï¼ˆrandomå€¼ä¸åŒï¼‰ valåœ¨æ–¹æ³•å®šä¹‰çš„æ—¶å€™é™¤äº†æ–°çš„æ–¹æ³•ï¼Œè¿˜ä¼šæ‰§è¡Œå¹¶è·å¾—ä¸€ä¸ªæ–¹æ³•ï¼›ä¹‹åæ¯æ¬¡è°ƒç”¨éƒ½åªæ˜¯æ‰§è¡Œäº†å®šä¹‰çš„æ—¶å€™è·å¾—çš„æ–¹æ³•ï¼ˆ() =&amp;gt; rï¼Œrå€¼å›ºå®šï¼‰ è¿›é˜¶ def timer[A](f: =&amp;gt; A) = { def now = System.currentTimeMillis val start = now; val a = f; val end = now println(s&amp;#34;Executed int ${end - start}ms&amp;#34;) a } val veryRandomAmount = timer { util.Random.setSeed(System.currentTimeMillis) for (i &amp;lt;- 1 to 100000) util.Random.nextDouble util.Random.nextDouble } çœ‹è¿‡</description></item><item><title>Centosç¼–è¯‘å®‰è£…Redis</title><link>https://atbug.com/install-redis-on-centos/</link><pubDate>Fri, 07 Apr 2017 16:48:46 +0000</pubDate><guid>https://atbug.com/install-redis-on-centos/</guid><description>
ç‰ˆæœ¬ Centos7 Redis3.2.8 ç¼–è¯‘å®‰è£… wget http://download.redis.io/releases/redis-3.2.8.tar.gz tar -zxvf redis-3.2.8.tar.gz cd redis-3.2.8 sudo make test sudo make install å¯åŠ¨ redis-server é—®é¢˜ /bin/sh: cc: command not found **åŸå› ï¼š**Centoså®‰è£…æ—¶é€‰æ‹©çš„ç±»å‹æ˜¯Infrastructureï¼Œæ²¡æœ‰c++çš„ç¼–è¯‘å·¥å…·ã€‚ è§£å†³ï¼šsudo yum -y install gcc gcc-c++ libstdc++-devel malloc.h:50:31: fatal error: jemalloc/jemalloc.h: No such file or directory **åŸå› ï¼š**Redisä½¿ç”¨çš„é»˜è®¤çš„memory allocatoræ˜¯libcï¼Œè€ŒLinuxç³»ç»Ÿä¸­é»˜è®¤çš„æ˜¯jemallocï¼Œéœ€è¦åˆ¶åŠ¨MALLOCå˜é‡ã€‚ è§£å†³ï¼šsudo make MALLOC=libc install</description></item><item><title>Centosä¸Šå®‰è£…Postgresql</title><link>https://atbug.com/install-postgresql-on-centos/</link><pubDate>Thu, 06 Apr 2017 22:54:17 +0000</pubDate><guid>https://atbug.com/install-postgresql-on-centos/</guid><description>
ç‰ˆæœ¬ Centos7 Postgresql9.2 Enable ssh service sshd start Open firewall for 22 firewall-cmd â€”state firewall-cmd â€”list-all firewall-cmd â€”permanent â€”zone=public â€”add-port=22/tcp firewall-cmd â€”reload Install Postgresql yum install postgres su postgres postgres â€”version é»˜è®¤ä¼šåˆ›å»ºpostgres:postgresç”¨æˆ·å’Œç»„ åˆ‡æ¢ç”¨æˆ· su - postgres åˆå§‹åŒ–æ•°æ®åº“ é€šè¿‡æŒ‡å®šæ•°æ®æ–‡ä»¶ç›®å½•åˆå§‹åŒ–db initdb -D /var/lib/pgsql/data ä¿®æ”¹ç«¯å£é˜²ç«å¢™ é»˜è®¤ç«¯å£æ˜¯5432ï¼Œéœ€è¦åœ¨é˜²ç«å¢™ä¸­æ‰“å¼€ç«¯å£ firewall-cmd &amp;ndash;permanent &amp;ndash;zone=public &amp;ndash;add-port=5432/tcp ä¿®æ”¹ç›‘å¬çš„ip éœ€è¦å¤–éƒ¨è®¿é—®çš„è¯ï¼Œéœ€è¦ä¿®æ”¹postgresql.confä¸­çš„ç›‘å¬ipï¼Œ&amp;lsquo;0.0.0.0&amp;rsquo;å…è®¸æ‰€æœ‰ipv4çš„ipè®¿é—®ï¼Œ''::&amp;lsquo;&amp;lsquo;å…è®¸æ‰€æœ‰ipv6çš„ipè®¿é—® listen_addresses = &amp;ldquo;0.0.0.0&amp;rdquo; ä¿®æ”¹éœ€è¦é‡å¯p</description></item><item><title>Keyé•¿åº¦å¯¹Redisæ€§èƒ½å½±å“</title><link>https://atbug.com/redis-performance-key-length/</link><pubDate>Thu, 16 Mar 2017 10:37:03 +0000</pubDate><guid>https://atbug.com/redis-performance-key-length/</guid><description>
æœ€è¿‘Redisçš„ä½¿ç”¨ä¸­ç”¨çš„åˆ°keyå¯èƒ½æ¯”è¾ƒé•¿ï¼Œä½†æ˜¯Redisçš„å®˜æ–¹æ–‡æ¡£æ²¡æåˆ°keyé•¿åº¦å¯¹æ€§èƒ½çš„å½±å“ï¼Œæ•…ç®€å•åšäº†ä¸ªæµ‹è¯•ã€‚ ç¯å¢ƒ Rediså’Œæµ‹è¯•ç¨‹åºéƒ½æ˜¯è¿è¡Œåœ¨æœ¬åœ°ï¼Œä¸çœ‹å•æ¬¡çš„æ€§èƒ½ï¼Œåªçœ‹ä¸åŒçš„é•¿åº¦å †è¯»å†™æ€§èƒ½çš„å½±å“ã€‚ æµ‹è¯•æ–¹æ³• ä½¿ç”¨é•¿åº¦åˆ†åˆ«ä¸º10, 100, 500, 1000, 2500, 5000, 7500, 10,000, and 20,000çš„keyï¼Œvalueé•¿åº¦1000ï¼Œè¯»å†™1000æ¬¡ã€‚ ç»“æœ Image not found a.warning-link { color: inherit !important; font-weight: inherit !important; text-decoration: underline !important; border-bottom: none !important; } ç½‘ç«™é“¾æ¥: https://atbug.com/media/14896309668401.jpg é“¾æ¥åˆ°æ–‡ä»¶: /static//media/14896309668401.jpg ä½¿ç”¨ Page Bundles: false Image not found a.warning-link { color: inherit !important; font-weight: inherit !important; text-decoration: underline !important; border-bottom: none !important; } ç½‘ç«™é“¾æ¥: https://atbug.com/media/14896309585857.jpg é“¾æ¥åˆ°æ–‡ä»¶: /static//media/14896309585857.jpg ä½¿ç”¨ Page Bundles: false ä»ç»“æœæ¥çœ‹éšç€é•¿åº¦çš„å¢åŠ ï¼Œè¯»å†™çš„è€—æ—¶éƒ½éšä¹‹å¢åŠ ã€‚ é•¿åº¦ä¸º10ï¼šå†™å¹³å‡è€—æ—¶0.053msï¼Œè¯»0.040ms é•¿åº¦ä¸º20000ï¼šå†™å¹³å‡è€—æ—¶0.352</description></item><item><title>éå†Collectionæ—¶åˆ é™¤å…ƒç´ </title><link>https://atbug.com/remove-element-while-looping-collection/</link><pubDate>Sun, 05 Mar 2017 22:04:58 +0000</pubDate><guid>https://atbug.com/remove-element-while-looping-collection/</guid><description>
å…¶å®æ ‡é¢˜æˆ‘æƒ³ç”¨ã€Šä¸ºä»€ä¹ˆforeachè¾¹å¾ªç¯è¾¹ç§»é™¤å…ƒç´ è¦ç”¨Iteratorï¼Ÿã€‹å¯æ˜¯å¤ªé•¿ã€‚ ä¸ç”¨Iteratorï¼Œç”¨Collection.remove()ï¼Œä¼šæŠ¥ConcurrentModificationExceptioné”™è¯¯ã€‚ for(Integer i : list) { list.remove(i); //Throw ConcurrentModificationException } å…¶å®ä½¿ç”¨foreachçš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªIteratoræ¥éå†listã€‚ä¸åªæ˜¯removeï¼Œä½¿ç”¨addã€clearç­‰æ–¹æ³•ä¸€æ ·ä¼šå‡ºé”™ã€‚ æ‹¿ArrayListæ¥è¯´ï¼Œå®ƒæœ‰ä¸€ä¸ªç§æœ‰çš„Iteratoræ¥å£çš„å†…éƒ¨ç±»Itrï¼š private class Itr implements Iterator&amp;lt;E&amp;gt; { int cursor; // index of next element to return int lastRet = -1; // index of last element returned; -1 if no such int expectedModCount = modCount; //sevrval methods } ä½¿ç”¨Iteratoræ¥éå†ArrayListå®é™…ä¸Šæ˜¯é€šè¿‡ä¸¤ä¸ªæŒ‡é’ˆæ¥éå†Arr</description></item><item><title>Java Volatileå…³é”®å­—</title><link>https://atbug.com/deep-in-java-volatile-keywork/</link><pubDate>Thu, 02 Mar 2017 08:30:29 +0000</pubDate><guid>https://atbug.com/deep-in-java-volatile-keywork/</guid><description>
volatileé€šè¿‡ä¿è¯å¯¹å˜é‡çš„è¯»æˆ–å†™éƒ½æ˜¯ç›´æ¥ä»å†…å­˜ä¸­è¯»å–æˆ–ç›´æ¥å†™å…¥å†…å­˜ä¸­ï¼Œä¿è¯äº†å¯è§æ€§ï¼›ä½†æ˜¯volatileå¹¶ä¸è¶³ä»¥ä¿è¯çº¿ç¨‹å®‰å…¨ï¼Œå› ä¸ºæ— æ³•ä¿è¯åŸå­æ€§ï¼Œå¦‚count++æ“ä½œï¼š å°†å€¼ä»å†…å­˜è¯»å…¥å¯„å­˜å™¨ä¸­ è¿›è¡ŒåŠ 1æ“ä½œï¼Œå†…å­˜ä¿å­˜åˆ°å¯„å­˜å™¨ä¸­ ç»“æœä»å¯„å­˜å™¨flushåˆ°å†…å­˜ä¸­ å€Ÿç”¨ä¸€å¼ å›¾æ¥çœ‹ï¼š Image not found a.warning-link { color: inherit !important; font-weight: inherit !important; text-decoration: underline !important; border-bottom: none !important; } ç½‘ç«™é“¾æ¥: http://tutorials.jenkov.com/images/java-concurrency/java-volatile-2.png é“¾æ¥åˆ°æ–‡ä»¶: /static/http://tutorials.jenkov.com/images/java-concurrency/java-volatile-2.png ä½¿ç”¨ Page Bundles: false ä¸æ˜¯volatileçš„å˜é‡çš„æŒ‡ä»¤æ‰§è¡Œé¡ºåºæ˜¯1-&amp;gt;2-&amp;gt;3ï¼›è€Œå£°æ˜ä¸ºvolatileçš„å˜é‡ï¼Œé¡ºåºæ˜¯1-&amp;gt;23ã€‚ä»è¿™é‡Œçœ‹ï¼Œvolatileä¿è¯äº†ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹äº†volatileä¿®é¥°çš„å˜é‡ï¼Œå˜åŒ–ä¼šé©¬ä¸Šä½“ç°åœ¨å†…å­˜ä¸­ã€‚çº¿ç¨‹é—´çœ‹åˆ°çš„å€¼æ˜¯ä¸€æ ·çš„ã€‚ ä¸Šé¢è¯´</description></item><item><title>Haproxyè™šæ‹Ÿä¸»æœºSSL</title><link>https://atbug.com/haproxy-multi-host-with-ssl/</link><pubDate>Mon, 27 Feb 2017 19:31:53 +0000</pubDate><guid>https://atbug.com/haproxy-multi-host-with-ssl/</guid><description>
Haproxyä¸ºå¤šä¸ªåŸŸåé…ç½®SSL ç”Ÿæˆè‡ªç­¾åè¯ä¹¦ sudo mkdir /etc/ssl/atbug.com sudo openssl genrsa -out /etc/ssl/atbug.com/atbug.com.key 1024 sudo openssl req -new -key /etc/ssl/atbug.com/atbug.com.key -out /etc/ssl/atbug.com/atbug.com.csr sudo openssl x509 -req -days 365 -in /etc/ssl/atbug.com/atbug.com.csr -singkey /etc/ssl/atbug.com/atbug.com.key -out /etc/ssl/atbug.com/atbug.com.crt sudo openssl x509 -req -days 365 -in /etc/ssl/atbug.com/atbug.com.csr -signkey /etc/ssl/atbug.com/atbug.com.key -out /etc/ssl/atbug.com/atbug.com.crt sudo cat /etc/ssl/atbug.com/atbug.com.crt /etc/ssl/atbug.com/atbug.com.key | sudo tee /etc/ssl/atbug.com/atbug.com.pem Haproxyé…ç½® frontend https bind *:443 ssl crt /etc/ssl/atbug.com/atbug.com.pem option tcplog mode http #option forwardfor ###atbug-https acl atbug-https hdr_beg(host) -i test.atbug.com use_backend rome-atbug-https-backend if atbug-https backend rome-atbug-https-backend balance roundrobin mode http option ssl-hello-chk server node-1 ip:port cookie dw2-vm-test-apps003 check inter 2000 rise 3 fall 3 weight 50</description></item><item><title>mybatisæŠ¥é”™â€œResult Maps collection already contains value for ***â€</title><link>https://atbug.com/duplicate-resultmap-in-mybatis-mapper/</link><pubDate>Wed, 22 Feb 2017 14:12:18 +0000</pubDate><guid>https://atbug.com/duplicate-resultmap-in-mybatis-mapper/</guid><description>
è¿™æ˜¯å·¥ä½œä¸­é‡åˆ°çš„ä¸€ä¸ªé—®é¢˜ï¼šæµ‹è¯•ç¯å¢ƒéƒ¨ç½²å‡ºé”™ï¼ŒæŠ¥äº†ä¸‹é¢çš„é—®é¢˜ã€‚ Caused by: java.lang.IllegalArgumentException: Result Maps collection already contains value for xxx.xxx.xxxRepository.BaseResultMap at org.apache.ibatis.session.Configuration$StrictMap.put(Configuration.java:802) at org.apache.ibatis.session.Configuration$StrictMap.put(Configuration.java:774) at org.apache.ibatis.session.Configuration.addResultMap(Configuration.java:556) at org.apache.ibatis.builder.MapperBuilderAssistant.addResultMap(MapperBuilderAssistant.java:217) at org.apache.ibatis.builder.ResultMapResolver.resolve(ResultMapResolver.java:47) at org.apache.ibatis.builder.xml.XMLMapperBuilder.resultMapElement(XMLMapperBuilder.java:285) at org.apache.ibatis.builder.xml.XMLMapperBuilder.resultMapElement(XMLMapperBuilder.java:252) at org.apache.ibatis.builder.xml.XMLMapperBuilder.resultMapElements(XMLMapperBuilder.java:244) at org.apache.ibatis.builder.xml.XMLMapperBuilder.configurationElement(XMLMapperBuilder.java:116) æ£€æŸ¥äº†å¯¹åº”çš„mapperæ–‡ä»¶å’Œjavaæ–‡ä»¶ï¼Œå·²ç»8ä¸ªå¤šæœˆæ²¡æœ‰ä¿®æ”¹è¿‡äº†ã€‚ä¹Ÿæ£€æŸ¥äº†å†…å®¹ï¼Œæ²¡æœ‰å‘ç°é‡å¤çš„BaseResultMapï¼›selectä¸­ä¹ŸresultMapçš„å¼•ç”¨ä¹Ÿéƒ½æ­£ç¡®ã€‚ å…¶å®åˆ°æœ€åå‘ç°è·Ÿä»£ç ä¸€ä¸ç‚¹å…³ç³»éƒ½æ²¡æœ‰ï¼Œæ˜¯éƒ¨ç½²çš„æ—¶å€™æ²¡æœ‰åˆ é™¤æ—§ç‰ˆæœ¬çš„ä»£ç å¯¼è‡´ä¸¤ä¸ªä¸åŒç‰ˆæœ¬çš„jaråŒæ—¶å­˜åœ¨ï¼Œç›¸åº”çš„mapperæ–‡ä»¶ä¹Ÿæœ‰ä¸¤ä¸ªã€‚ çœ‹äº†ä¸‹æºç ï¼Œmybatisåœ¨åˆ›å»ºSessionFactoryBeanè§£æxmlæ—¶å€™ï¼Œä¼šæŠŠxmlä¸­çš„resultMapæ”¾å…¥åˆ°ä¸€ä¸ªHashMapçš„å­ç±»StrictMapä¸­ï¼Œk</description></item><item><title>æ¶ˆè´¹æ—¶offsetè¢«é‡ç½®å¯¼è‡´é‡å¤æ¶ˆè´¹</title><link>https://atbug.com/offset-be-reset-when-consuming/</link><pubDate>Mon, 20 Feb 2017 13:23:49 +0000</pubDate><guid>https://atbug.com/offset-be-reset-when-consuming/</guid><description>
è¿™æ˜¯å®é™…ä½¿ç”¨æ—¶é‡åˆ°çš„é—®é¢˜ï¼škafka apiçš„ç‰ˆæœ¬æ˜¯0.10ï¼Œå‘ç°æœ‰é‡å¤æ¶ˆè´¹é—®é¢˜ï¼›æ£€æŸ¥logåå‘ç°åœ¨commit offsetçš„æ—¶å€™å‘ç”Ÿè¶…æ—¶ã€‚ Auto offset commit failed for group test: Commit cannot be completed since the group has already rebalanced and assigned the partitions to another member. This means that the time between subsequent calls to poll() was longer than the configured session.timeout.ms, which typically implies that the poll loop is spending too much time message processing. You can address this either by increasing the session timeout or by reducing the maximum size of batches returned in poll() with max.poll.records. 15:12:12.364 [main] WARN o.a.k.c.c.i.ConsumerCoordinator - Auto offset commit failed for group test: Commit offsets failed with retriable exception. You should retry committing offsets. çœ‹äº†Kafkaçš„APIæ–‡æ¡£ï¼Œå‘ç°0.10ä¸­æä¾›äº†æ–°çš„é…ç½®max.poll.recordsï¼š The maximum number of records returned in a single call to poll(). type: int default: 2147483647 å¦‚æœç”Ÿäº§ç«¯å†™å…¥å¾ˆå¿«ï¼Œæ¶ˆè´¹ç«¯å¤„ç†è€—æ—¶ã€‚ä¸€ä¸ªbatchçš„å¤„ç†æ—¶é—´å¤§äºsession.timeout.msï¼Œä¼šå¯¼è‡´session time outï¼Œå¼•èµ·of</description></item><item><title>TheadPoolExecutoræºç åˆ†æ</title><link>https://atbug.com/threadpoolexecutor-sourcecode-analysis/</link><pubDate>Mon, 20 Feb 2017 09:56:07 +0000</pubDate><guid>https://atbug.com/threadpoolexecutor-sourcecode-analysis/</guid><description>
TheadPoolExecutoræºç åˆ†æ ThreadPoolExecutoræ˜¯å¤šçº¿ç¨‹ä¸­ç»å¸¸ç”¨åˆ°çš„ç±»ï¼Œå…¶ä½¿ç”¨ä¸€ä¸ªçº¿ç¨‹æ± æ‰§è¡Œæäº¤çš„ä»»åŠ¡ã€‚ å®ç° æ²¡æœ‰ç‰¹æ®Šéœ€æ±‚çš„æƒ…å†µä¸‹ï¼Œé€šå¸¸éƒ½æ˜¯ç”¨Executorsç±»çš„é™æ€æ–¹æ³•å¦‚newCachedThreadPollæ¥åˆå§‹åŒ–ThreadPoolExecutorå®ä¾‹ï¼š public static ExecutorService newCachedThreadPool() { return new ThreadPoolExecutor(0, Integer.MAX_VALUE, 60L, TimeUnit.SECONDS, new SynchronousQueue&amp;lt;Runnable&amp;gt;()); } ä»Executorsçš„æ–¹æ³•å®ç°ä¸­çœ‹å‡ºï¼ŒBlockingQueueä½¿ç”¨çš„SynchronousQueueï¼Œåº•å±‚ä½¿ç”¨äº†æ ˆçš„å®ç°ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸ªSynchronousQueueæ˜¯æ²¡æœ‰å®¹é‡é™åˆ¶çš„ï¼ŒExecutorsä¹Ÿå°†maximumPoolSizeè®¾ä¸ºInteger.MAX_VALUE</description></item><item><title>Kafka Javaç”Ÿäº§è€…æ¨¡å‹</title><link>https://atbug.com/kafka-java-producer-model/</link><pubDate>Wed, 04 Jan 2017 16:33:02 +0000</pubDate><guid>https://atbug.com/kafka-java-producer-model/</guid><description>
Image not found a.warning-link { color: inherit !important; font-weight: inherit !important; text-decoration: underline !important; border-bottom: none !important; } ç½‘ç«™é“¾æ¥: https://atbug.com/media/14835174309242.jpg é“¾æ¥åˆ°æ–‡ä»¶: /static//media/14835174309242.jpg ä½¿ç”¨ Page Bundles: false Produceråˆå§‹åŒ– åˆå§‹åŒ–KafkaProducerå®ä¾‹ï¼ŒåŒæ—¶é€šè¿‡Configæ•°æ®åˆå§‹åŒ–MetaDataã€NetWorkClientã€Accumulatorå’ŒSenderçº¿ç¨‹ã€‚å¯åŠ¨Senderçº¿ç¨‹ã€‚ MetaDataä¿¡æ¯ è®°å½•Clusterçš„ç›¸å…³ä¿¡æ¯ï¼Œç¬¬ä¸€æ¬¡é“¾æ¥ä½¿ç”¨Configè®¾ç½®ï¼Œä¹‹åä¼šä»è¿œç«¯pollä¿¡æ¯å›æ¥ï¼Œæ¯”å¦‚host.nameç­‰ä¿¡æ¯ã€‚ Accumulatorå®ä¾‹ AccumulatoræŒæœ‰ä¸€ä¸ªMapå®ä¾‹ï¼Œkeyä¸ºTopicPartitionï¼ˆå°è£…äº†topicå’Œpartitionä¿¡æ¯ï¼‰å¯¹è±¡ï¼ŒValueä¸ºRecordBatc</description></item><item><title>Redisæ¸…ç†ç¼“å­˜</title><link>https://atbug.com/clean-speicified-keys-in-redis/</link><pubDate>Tue, 13 Dec 2016 16:54:41 +0000</pubDate><guid>https://atbug.com/clean-speicified-keys-in-redis/</guid><description>
æœ€è¿‘æœ‰ä¸ªéœ€æ±‚éœ€è¦ä¸»åŠ¨çš„å»æ¸…ç†éƒ¨åˆ†ç¼“å­˜ï¼Œè€ƒè™‘çš„åŸå­æ€§çš„é—®é¢˜ï¼Œç”¨Luaè„šæœ¬è¿›è¡Œå®ç°ã€‚ Luaè„šæœ¬ local count = 0 for _,k in ipairs(redis.call(&amp;#39;KEYS&amp;#39;, ARGV[1])) do redis.call(&amp;#39;DEL&amp;#39;, k) count = count + 1 end return count shellè¿è¡Œ redis-cli --eval file.lua ,[KEY PATTERN] #sample: æ¸…ç†æ‰€æœ‰keyä»¥Testå¼€å¤´çš„è®°å½• redis-cli --eval clear.lua , Test* Java Jedis jedis = new Jedis(&amp;#34;127.0.0.1&amp;#34;, 6379); URL resource = Resources.getResource(&amp;#34;META-INF/scripts/clear.lua&amp;#34;); String lua = Resources.toString(resource, Charsets.UTF_8); Object eval = jedis.eval(lua, 0, &amp;#34;Name*&amp;#34;); System.out.println(eval);</description></item><item><title>Flume - FileChannel ï¼ˆä¸€ï¼‰</title><link>https://atbug.com/flume-filechannel-overview/</link><pubDate>Wed, 23 Nov 2016 09:23:57 +0000</pubDate><guid>https://atbug.com/flume-filechannel-overview/</guid><description>
æ¦‚è¿° å½“ä½¿ç”¨Flumeçš„æ—¶å€™ï¼Œæ¯ä¸ªæµç¨‹éƒ½åŒ…å«äº†è¾“å…¥æºã€é€šé“å’Œè¾“å‡ºã€‚ä¸€ä¸ªå…¸å‹çš„ä¾‹å­æ˜¯ä¸€ä¸ªwebæœåŠ¡å™¨å°†äº‹ä»¶é€šè¿‡RPCï¼ˆæ¬å…¥AvroSourceï¼‰å†™å…¥è¾“å…¥æºä¸­ï¼Œè¾“å…¥æºå°†å…¶å†™å…¥MemoryChannelï¼Œæœ€åHDFS Sinkæ¶ˆè´¹äº‹ä»¶å°†å…¶å†™å…¥HDFSä¸­ã€‚ Image not found a.warning-link { color: inherit !important; font-weight: inherit !important; text-decoration: underline !important; border-bottom: none !important; } ç½‘ç«™é“¾æ¥: http://blog.cloudera.com//wp-content/uploads/2012/09/flume1.png é“¾æ¥åˆ°æ–‡ä»¶: /static/http://blog.cloudera.com//wp-content/uploads/2012/09/flume1.png ä½¿ç”¨ Page Bundles: false MemeoryChannelæä¾›äº†é«˜ååé‡ä½†æ˜¯åœ¨ç³»ç»Ÿå´©æºƒæˆ–è€…æ–­ç”µæ—¶ä¼šä¸¢å¤±æ•°æ®ã€‚å› æ­¤éœ€è¦å¼€å‘ä¸€ä¸ªå¯æŒä¹…è¯é€šé“ã€‚FileChannelæ˜¯åœ¨FLUME-1085é‡Œå®ç°çš„ã€‚ç›®æ ‡æ˜¯æä¾›ä¸€ä¸ªé«˜å¯ç”¨é«˜ååé‡çš„é€šé“ã€‚FileChannleä¿è¯äº†åœ¨å¤±è¯¯æäº¤ä¹‹åï¼Œåœ¨å´©æºƒæˆ–è€…æ–­ç”µåä¸ä¸¢å¤±æ•°æ®ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯</description></item><item><title>æ¢ç´¢Rabbitmqçš„Javaå®¢æˆ·ç«¯</title><link>https://atbug.com/deep-in-rabbitmq-java-client/</link><pubDate>Sun, 09 Oct 2016 09:20:07 +0000</pubDate><guid>https://atbug.com/deep-in-rabbitmq-java-client/</guid><description>
AMQPConnection å®ä¾‹åˆå§‹åŒ– åˆ›å»ºConnectionæ—¶ä¼šé€šè¿‡FrameHandlerFacotryåˆ›å»ºä¸€ä¸ªSocketFrameHandlerï¼ŒSocketFrameHandlerå¯¹Socketè¿›è¡Œäº†å°è£…ã€‚ public AMQConnection(ConnectionParams params, FrameHandler frameHandler) { checkPreconditions(); this.username = params.getUsername(); this.password = params.getPassword(); this._frameHandler = frameHandler; this._virtualHost = params.getVirtualHost(); this._exceptionHandler = params.getExceptionHandler(); this._clientProperties = new HashMap&amp;lt;String, Object&amp;gt;(params.getClientProperties()); this.requestedFrameMax = params.getRequestedFrameMax(); this.requestedChannelMax = params.getRequestedChannelMax(); this.requestedHeartbeat = params.getRequestedHeartbeat(); this.shutdownTimeout = params.getShutdownTimeout(); this.saslConfig = params.getSaslConfig(); this.executor = params.getExecutor(); this.threadFactory = params.getThreadFactory(); this._channelManager = null; this._brokerInitiatedShutdown = false; this._inConnectionNegotiation = true; // we start out waiting for the first protocol response } å¯åŠ¨è¿æ¥ åˆå§‹åŒ–WorkServiceå’ŒHeartBeatSenderã€‚ åˆ›å»ºä¸€ä¸ªchannel0çš„AMQChannelï¼Œè¿™ä¸ªchannelä¸ä¼šè¢«ChannelManagerç®¡ç†ã€‚ é¦–å…ˆchannel0ä¼šå°†ä¸€ä¸ªBlockingRpcContinuationä½œä¸ºå½“å‰æœªå®Œæˆçš„Rpcè¯·</description></item><item><title>Gitå›è½¦æ¢è¡Œ</title><link>https://atbug.com/crlf-in-git/</link><pubDate>Wed, 14 Sep 2016 09:16:10 +0000</pubDate><guid>https://atbug.com/crlf-in-git/</guid><description>
æœ€è¿‘åˆä¸ªé¡¹ç›®ï¼Œcheckoutä¹‹åï¼Œæ²¡åšä»»ä½•æ”¹åŠ¨å‰git statuså‘ç°å·²ç»æœ‰modifiedäº†ï¼Œé€šè¿‡git diffå‘ç°æœ‰ä¸¤ç§æ”¹åŠ¨ï¼š - warning: CRLF will be replaced by LF in ** - åˆ é™¤å¹¶æ·»åŠ çš„åŒæ ·çš„è¡Œ ä½¿ç”¨git diff -wå´æ²¡æœ‰æ”¹åŠ¨ï¼›ä½¿ç”¨git diff â€“ws-error-highlight=new,oldå‘ç°è¡Œå°¾æœ‰**^M** æˆ‘æœ¬äººç”¨çš„æ˜¯Linuxï¼Œå…¶ä»–åŒäº‹æœ‰ç”¨Windowsï¼Œé—®é¢˜å°±å‡ºåœ¨å¹³å°ä¸Šã€‚ Windowsç”¨CR LFæ¥å®šä¹‰æ¢è¡Œï¼ŒLinuxç”¨LFã€‚CRå…¨ç§°æ˜¯Carriage Return ,æˆ–è€…è¡¨ç¤ºä¸º\r, æ„æ€æ˜¯å›è½¦ã€‚ LFå…¨ç§°æ˜¯Line Feedï¼Œå®ƒæ‰æ˜¯çœŸæ­£æ„ä¹‰ä¸Šçš„æ¢è¡Œè¡¨ç¤ºç¬¦ã€‚ git configä¸­å…³äºCRLFæœ‰ä¸¤ä¸ªè®¾å®šï¼šcore.autocrlfå’Œc</description></item><item><title>æ·±å…¥å‰–æHashSetå’ŒHashMapå®ç°</title><link>https://atbug.com/deep-in-implementation-of-hashset/</link><pubDate>Mon, 11 Jul 2016 14:57:16 +0000</pubDate><guid>https://atbug.com/deep-in-implementation-of-hashset/</guid><description>
HashSetæ˜¯ä¸€ä¸ªåŒ…å«éé‡å¤å…ƒç´ çš„é›†åˆï¼Œå¦‚ä½•å®ç°çš„ï¼Œè¦ä»åº•å±‚å®ç°ä»£ç çœ‹èµ·ã€‚ èƒŒæ™¯ é¦–å…ˆéé‡å¤å…ƒç´ å¦‚ä½•å®šä¹‰ï¼Œçœ‹Setçš„æè¿°ï¼š More formally, sets contain no pair of elements e1 and e2 such that e1.equals(e2), and at most one null element. Setä¸ä¼šæ‰¾åˆ°ä¸¤ä¸ªå…ƒç´ ï¼Œå¹¶ä¸”ä¸¤ä¸ªå…ƒç´ æ»¡è¶³e1.equals(e2)ä¸ºtrueï¼›å¹¶ä¸”æœ€å¤šåªæœ‰ä¸€ä¸ªnullå…ƒç´ ã€‚ å¦‚æœæ²¡æœ‰é‡å†™equalsæ–¹æ³•ï¼ŒæŸ¥çœ‹Objectç±»ä¸­equalæ–¹æ³•çš„å®ç°ï¼Œ==æ¯”è¾ƒçš„å…¶å®æ˜¯ä¸¤ä¸ªå¯¹è±¡åœ¨å†…å­˜ä¸­çš„åœ°å€ã€‚ public boolean equals(Object obj) { return (this == obj); } è¯´èµ·equalsæ–¹æ³•ï¼Œå°±ä¸å¾—ä¸è¯´hashCodeæ–¹æ³•äº†ã€‚Javaä¸­å¯¹äºhashCodeæœ‰ä¸ªå¸¸è§„åå®š The general contract of hashCode is: Whenever it is invoked on the same object more than once during an execution of a Java application, the hashCode method must consistently return the same integer, provided no information used in equals comparisons on the object is modified. This integer need not remain consistent</description></item><item><title>å¤šçº¿ç¨‹ä¸‹çš„å•ä¾‹æ¨¡å¼+åæ±‡ç¼–</title><link>https://atbug.com/singleton-in-multi-threads-programming/</link><pubDate>Wed, 06 Jul 2016 16:57:09 +0000</pubDate><guid>https://atbug.com/singleton-in-multi-threads-programming/</guid><description>
å¤šçº¿ç¨‹ä¸‹çš„å•ä¾‹æ¨¡å¼çš„å®ç°ï¼Œé¡ºä¾¿åšäº†åæ±‡ç¼–ã€‚ public class MySingleton { private static MySingleton INSTANCE; private MySingleton() { } public static MySingleton getInstance() { if (INSTANCE == null) { synchronized (MySingleton.class) { INSTANCE = new MySingleton(); } } return INSTANCE; } } Compiled from &amp;#34;MySingleton.java&amp;#34; public class MySingleton { public static MySingleton getInstance(); Code: 0: getstatic #2 // Field INSTANCE:LMySingleton; //+è·å¾—ç±»çš„æŒ‡å®šåŸŸï¼Œå¹¶å‹å…¥æ ˆé¡¶ 3: ifnonnull 32 //+ä¸ä¸ºnullæ—¶è·³è½¬åˆ°è¡Œå·32 6: ldc_w #3 // class MySingleton //+å¸¸é‡å€¼ä»å¸¸é‡æ± ä¸­æ¨é€è‡³æ ˆé¡¶ï¼ˆå®½ç´¢å¼•ï¼‰ï¼Œæ¨é€çš„ä¸ºåœ°å€ 9: dup //+å¤åˆ¶æ ˆé¡¶æ•°å€¼ï¼Œå¹¶ä¸”å¤åˆ¶å€¼è¿›æ ˆ 10: astore_0 //+å°†æ ˆé¡¶æ•°å€¼ï¼ˆobjectrefï¼‰å­˜å…¥å½“å‰ frameçš„å±€éƒ¨å˜é‡æ•°ç»„ä¸­æŒ‡å®šä¸‹æ ‡(indexï¼‰å¤„çš„å˜é‡ä¸­ï¼Œæ ˆé¡¶æ•°å€¼å‡ºæ ˆã€‚è¿™é‡Œå­˜çš„æ˜¯MySingletonç±»å®šä¹‰çš„åœ°å€ 11: monitorenter //+è·å¾—å¯¹è±¡é”å³MySingletonåœ°å€ 12: new #3 // class MySingleton //+åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶ä¸”å…¶å¼•ç”¨è¿›æ ˆ 15: dup //+å¤</description></item><item><title>ä½¿ç”¨Kryoæ›¿æ¢spring amqpçš„Javaåºåˆ—åŒ–</title><link>https://atbug.com/use-kryo-in-spring-amqp-serialization/</link><pubDate>Wed, 29 Jun 2016 05:29:14 +0000</pubDate><guid>https://atbug.com/use-kryo-in-spring-amqp-serialization/</guid><description>
spring amqpçš„åŸç”Ÿå¹¶æ²¡æœ‰å¯¹KryoåŠ ä»¥æ”¯æŒï¼ŒKryoçš„ä¼˜ç‚¹å°±ä¸å¤šè¯´äº†ã€‚ gitåœ°å€ï¼šhttps://github.com/addozhang/spring-kryo-messaeg-converter public class KryoMessageConverter extends AbstractMessageConverter { public static final String CONTENT_TYPE = &amp;#34;application/x-kryo&amp;#34;; public static final String DEFAULT_CHARSET = &amp;#34;UTF-8&amp;#34;; private String defaultCharset = DEFAULT_CHARSET; private KryoFactory kryoFactory = new DefaultKryoFactory(); /** * Crate a message from the payload object and message properties provided. The message id will be added to the * properties if necessary later. * * @param object the payload * @param messageProperties the message properties (headers) * @return a message */ @Override protected Message createMessage(Object object, MessageProperties messageProperties) { byte[] bytes = null; Kryo kryo = kryoFactory.create(); Output output = new ByteBufferOutput(4096, 1024 * 1024); try { kryo.writeClassAndObject(output, object); bytes = output.toBytes(); } finally { output.close(); } messageProperties.setContentType(CONTENT_TYPE); if (messageProperties.getContentEncoding() == null) { messageProperties.setContentEncoding(defaultCharset); } return new Message(bytes, messageProperties); } @Override public Object fromMessage(Message message) throws MessageConversionException { Object content = null; MessageProperties properties = message.getMessageProperties(); if (properties != null) { if (properties.getContentType() != null &amp;amp;amp;&amp;amp;amp; properties.getContentType().contains(&amp;#34;x-kryo&amp;#34;)) { Kryo kryo = kryoFactory.create(); content = kryo.readClassAndObject(new ByteBufferInput(message.getBody())); } else { throw new MessageConversionException(&amp;#34;Converter not applicable to this message&amp;#34;); } } return content; } private class DefaultKryoFactory implements KryoFactory { @Override public Kryo create() { Kryo kryo = new Kryo(); return kryo; } } }</description></item><item><title>Rabbitmqå»¶è¿Ÿé˜Ÿåˆ—å®ç°</title><link>https://atbug.com/rabbitmq-delay-queue-implementation/</link><pubDate>Wed, 30 Mar 2016 14:27:02 +0000</pubDate><guid>https://atbug.com/rabbitmq-delay-queue-implementation/</guid><description>
åœ¨requeue=falseçš„æƒ…å†µç³»ï¼Œæ¶ˆæ¯è¢«client reject æ¶ˆæ¯è¿‡æœŸ é˜Ÿåˆ—é•¿åº¦è¶…è¿‡é™åˆ¶</description></item><item><title>å…³äºSLF4J</title><link>https://atbug.com/about-slf4j/</link><pubDate>Sat, 18 Apr 2015 11:16:26 +0000</pubDate><guid>https://atbug.com/about-slf4j/</guid><description>
Springçš„åŠŸèƒ½è¶Šæ¥è¶Šå¼ºå¤§ï¼ŒåŒæ—¶ä¹Ÿè¶Šæ¥è¶Šè‡ƒè‚¿ã€‚æ¯”å¦‚æƒ³å¿«é€Ÿæ­å»ºä¸€ä¸ªåŸºäºSpringçš„é¡¹ç›®ï¼Œè§£å†³ä¾èµ–é—®é¢˜éå¸¸è€—æ—¶ã€‚Springçš„é¡¹ç›®æ¨¡æ¿çš„å‡ºç°å°±è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œé€šè¿‡è¿™ä¸ªæè¿°æ–‡ä»¶ï¼Œå¯ä»¥å¿«é€Ÿçš„æ‰¾åˆ°ä½ æ‰€éœ€è¦çš„æ¨¡æ¿ã€‚ ç¬¬ä¸€æ¬¡è®¤è¯†SLF4Jå°±æ˜¯åœ¨è¿™äº›é¡¹ç›®æ¨¡æ¿é‡Œï¼Œå®ƒçš„å…¨ç§°æ˜¯Simple Logging Facade for Javaã€‚ä»å­—é¢ä¸Šå¯ä»¥çœ‹å‡ºå®ƒåªæ˜¯ä¸€ä¸ªFacadeï¼Œä¸æä¾›å…·ä½“çš„æ—¥å¿—è§£å†³æ–¹æ¡ˆï¼ŒåªæœåŠ¡äºå„ä¸ªæ—¥å¿—ç³»ç»Ÿã€‚ç®€å•è¯´æœ‰äº†å®ƒï¼Œæˆ‘ä»¬å°±å¯ä»¥éšæ„çš„æ›´æ¢æ—¥å¿—ç³»ç»Ÿï¼ˆå¦‚java.util.loggingã€logbackã€log4jï¼‰ã€‚æ¯”å¦‚åœ¨å¼€å‘çš„æ—¶å€™ä½¿ç”¨logbackï¼Œéƒ¨ç½²çš„æ—¶å€™å¯ä»¥åˆ‡æ¢åˆ°log4jï¼›å¦‚æœå…³é—­æ‰€æœ‰çš„logï¼Œåˆ‡æ¢åˆ°NOPå°±å¯ä»¥äº†ã€‚åª</description></item><item><title>æ—¥å¸¸å·¥ä½œä¸­ä½¿ç”¨çš„chromeæ’ä»¶</title><link>https://atbug.com/chrome-extensions-for-daily-work/</link><pubDate>Sun, 09 Feb 2014 09:26:50 +0000</pubDate><guid>https://atbug.com/chrome-extensions-for-daily-work/</guid><description>
å…ˆè¯´ä¸‹èƒŒæ™¯ï¼ŒJavaç¨‹åºçŒ¿ä¸€æšï¼Œå…¼åšhybrid appã€‚æ‰€ä»¥æ—¥å¸¸å·¥ä½œä¸­å…ä¸äº†è¦è·Ÿæµè§ˆå™¨æ‰“äº¤é“ï¼Œä¸€èˆ¬å°±åªç”¨chromeäº†ï¼Œçœ‹ä¸­å®ƒçš„è°ƒè¯•åŠŸèƒ½å’Œåºå¤§çš„æ’ä»¶åº“ã€‚ä¸‹é¢å°±åˆ—å‡ºå·¥ä½œä¸­ä½¿ç”¨çš„å„ç§æ’ä»¶ï¼Œæ’åä¸åˆ†å…ˆåã€‚ googleå¸å·è¦æœ‰ï¼Œè€Œä¸”ä¸¤ä¸ªã€‚ä¸€ä¸ªæ—¥å¸¸ç”Ÿæ´»å¨±ä¹ï¼Œä¸€ä¸ªå·¥ä½œä½¿ç”¨ã€‚å¯ä»¥åŒæ­¥å„ç§æ•°æ®åˆ°äº‘ç«¯ï¼Œå¦‚appã€æ’ä»¶ã€è®¾ç½®ã€è‡ªåŠ¨å¡«å†™æ•°æ®ã€å¯†ç ã€è®¿é—®å†å²ã€æ‰“å¼€çš„æ ‡ç­¾ç­‰ç­‰ã€‚åŸè°…æˆ‘æŠŠåŒæ­¥ä¹Ÿå½“ä½œæ’ä»¶ï¼Œç®€ç›´å°±æ˜¯æ’ä»¶ä¸­çš„æˆ˜æ–—æœºã€‚ Developer toolï¼Œè¿™ä¸ªæ˜¯chromeè‡ªå¸¦çš„å¼€å‘äººå‘˜å·¥å…·ï¼Œé›†å‰å°è®¾è®¡ã€ä»£ç è°ƒè¯•ã€èµ„æºç®¡ç†ç­‰åŠŸèƒ½ã€‚ Adblock Plus ä¸ç®¡å·¥ä½œè¿˜æ˜¯ç”Ÿæ´»ç”¨ï¼Œè¿™ä¸ªæ’ä»¶å¿…è£…ã€‚æœ‰é€‚åˆå›½äººä½¿ç”¨çš„å±è”½æ¸…å•ï¼ˆChinaList+EasyListï¼‰ï¼Œè½»æ¾æ</description></item><item><title>About</title><link>https://atbug.com/about/</link><pubDate>Tue, 22 Jan 2013 10:02:37 +0800</pubDate><guid>https://atbug.com/about/</guid><description>
åŸºæœ¬ä¿¡æ¯ å¼ æ™“è¾‰ èµ„æ·±ç å†œï¼Œ12 å¹´è½¯ä»¶å¼€å‘ç»éªŒã€‚æ›¾åœ¨æ±‡ä¸°è½¯ä»¶ã€å”¯å“ä¼šã€æ•°äººäº‘ã€å°é¹æ±½è½¦ç­‰å…¬å¸ä»»èŒã€‚ ç›®å‰å°±èŒ Flomeshï¼Œæ‹…ä»»é«˜çº§äº‘åŸç”Ÿæ¶æ„å¸ˆã€å¸ƒé“å¸ˆã€‚ è¿™é‡Œæ‰€æœ‰çš„æ–‡ç« éƒ½ä¼šåŒæ­¥å‘é€åˆ°å…¬ä¼—å·ï¼šäº‘åŸç”ŸæŒ‡åŒ— (å¾®ä¿¡å·ï¼šsevenfeet) Image not found a.warning-link { color: inherit !important; font-weight: inherit !important; text-decoration: underline !important; border-bottom: none !important; } ç½‘ç«™é“¾æ¥: https://atbug.oss-cn-hangzhou.aliyuncs.com/2020/05/23/qrcode.jpg é“¾æ¥åˆ°æ–‡ä»¶: /static/https://atbug.oss-cn-hangzhou.aliyuncs.com/2020/05/23/qrcode.jpg ä½¿ç”¨ Page Bundles: false</description></item></channel></rss>