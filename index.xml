<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>乱世浮生</title>
    <link>https://atbug.com/</link>
    <description>Recent content on 乱世浮生</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en</language>
    <lastBuildDate>Sat, 01 Feb 2020 12:39:28 +0800</lastBuildDate>
    
	<atom:link href="https://atbug.com/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>Tekton Dashboard 安装</title>
      <link>https://atbug.com/tekton-dashboard-installation/</link>
      <pubDate>Sat, 01 Feb 2020 12:39:28 +0800</pubDate>
      
      <guid>https://atbug.com/tekton-dashboard-installation/</guid>
      <description>Tekton 提供了dashboard方便用户管理和查看 Tekton PipelineRun 和 TaskRun 以及创建, 执行和完成过程中涉及的资源. 它还允许按标签过滤 PipelineRun 和 TaskRun. 安装方法 kubectl apply --filename https://github.com/tektoncd/dashboard/releases/download/v0.4.1/dashboard_latest_release.yaml 检查das</description>
    </item>
    
    <item>
      <title>CICD: Tekton Pipeline 实战</title>
      <link>https://atbug.com/tekton-pipeline-practice/</link>
      <pubDate>Tue, 21 Jan 2020 20:19:33 +0800</pubDate>
      
      <guid>https://atbug.com/tekton-pipeline-practice/</guid>
      <description>Tekton 是 Google 开源的 Kubernetes 原生CI/CD 系统, 功能强大扩展性强. 前身是 Knavite 里的 build-pipeline 项目, 后期孵化成独立的项目. 并成为 CDF 下的四个项目之一, 其他三个分别是 Jenkins, Jenkins X,</description>
    </item>
    
    <item>
      <title>Tekton 0.9.0 更新</title>
      <link>https://atbug.com/tekton-0.9.0-release/</link>
      <pubDate>Sun, 19 Jan 2020 14:33:17 +0800</pubDate>
      
      <guid>https://atbug.com/tekton-0.9.0-release/</guid>
      <description>翻译整理自 What’s New in Tekton 0.9 功能及Bug修复 脚本模式 以前如果要在容器里运行个简单的 bash 脚本, 需要这么写: -name:helloimage:ubuntucommand:[&amp;#39;bash&amp;#39;]args:--c-| set -execho&amp;#34;hell</description>
    </item>
    
    <item>
      <title>Tekton安装及Hello world</title>
      <link>https://atbug.com/tekton-installation-and-sample/</link>
      <pubDate>Fri, 17 Jan 2020 19:17:14 +0800</pubDate>
      
      <guid>https://atbug.com/tekton-installation-and-sample/</guid>
      <description>安装 kubectl apply --filename https://storage.googleapis.com/tekton-releases/pipeline/latest/release.yaml 检查安装的tekton相关的CRD: kubectl api-resources | grep tekton clustertasks tekton.dev false ClusterTask conditions tekton.dev true Condition pipelineresources tekton.dev true PipelineResource pipelineruns pr,prs tekton.dev true PipelineRun pipelines tekton.dev true Pipeline taskruns tr,trs tekton.dev true TaskRun tasks tekton.dev true Task tekton的两个po</description>
    </item>
    
    <item>
      <title>Minikube安装istio</title>
      <link>https://atbug.com/install-istio-on-minikube/</link>
      <pubDate>Fri, 17 Jan 2020 08:02:42 +0800</pubDate>
      
      <guid>https://atbug.com/install-istio-on-minikube/</guid>
      <description>准备 注意: istioctl的安装要使用安装里的, 不要是用homebrew里的. github issue curl -L https://istio.io/downloadIstio | sh - cd istio-1.4.2 cp bin/istioctl /usr/local/bin/istioctl 安装前检查 istioctl verify-install 如果检查没问题, 会看到</description>
    </item>
    
    <item>
      <title>神秘的Eureka自我保护</title>
      <link>https://atbug.com/translation-the-mystery-of-eurekas-self-preservation/</link>
      <pubDate>Sun, 05 Jan 2020 14:14:03 +0800</pubDate>
      
      <guid>https://atbug.com/translation-the-mystery-of-eurekas-self-preservation/</guid>
      <description>本文翻译自The Mystery of Eureka Self-Preservation 根据CAP定理, Eureka是一个AP系统, 这就导致了在网络分区期间多个注册表中的信息不一致. 自我保护功能则是为了尽</description>
    </item>
    
    <item>
      <title>加速Kubernetes上的Java开发</title>
      <link>https://atbug.com/speed-up-java-development-on-kubernetes/</link>
      <pubDate>Sat, 21 Dec 2019 20:45:22 +0800</pubDate>
      
      <guid>https://atbug.com/speed-up-java-development-on-kubernetes/</guid>
      <description>今天来说说日常在Kubernetes开发Java项目遇到的问题. 当我们新建一个项目的时候, 总是面临需要新建manifest, 平时都是copy</description>
    </item>
    
    <item>
      <title>使用Jib为Java应用构建镜像</title>
      <link>https://atbug.com/build-docker-or-oci-image-with-jib-for-java/</link>
      <pubDate>Mon, 09 Dec 2019 10:05:30 +0800</pubDate>
      
      <guid>https://atbug.com/build-docker-or-oci-image-with-jib-for-java/</guid>
      <description>Jib是Google Container Tools中的一个工具。 Jib builds optimized Docker and OCI images for your Java applications without a Docker daemon - and without deep mastery of Docker best-practices. It is available as plugins for Maven and Gradle and as a Java library. Jib无需Docke</description>
    </item>
    
    <item>
      <title>Spring Cloud Hoxton发布</title>
      <link>https://atbug.com/spring-cloud-hoxton-release/</link>
      <pubDate>Wed, 04 Dec 2019 11:09:07 +0800</pubDate>
      
      <guid>https://atbug.com/spring-cloud-hoxton-release/</guid>
      <description>原文 Spring Cloud Hoxton.RELEASE基于Spring Boot 2.2.1.RELEASE 文档变化 Hoxton.RELEASE使用了新的首页, 新的样式以及单页面, 多页面和PD</description>
    </item>
    
    <item>
      <title>Bose QC35 固件降级</title>
      <link>https://atbug.com/bose-qc35-downgrade/</link>
      <pubDate>Sun, 10 Nov 2019 19:50:27 +0800</pubDate>
      
      <guid>https://atbug.com/bose-qc35-downgrade/</guid>
      <description>为什么要降级? 既然已经搜到了这里, 相信个中原因也都清楚. 我的QC35一代, 之前升级到了3.0.3固件. 目前已成功降级到了1.0.6, 下面的操</description>
    </item>
    
    <item>
      <title>Docker Engine API on Mac Osx</title>
      <link>https://atbug.com/docker-engine-api-on-mac-osx/</link>
      <pubDate>Wed, 06 Nov 2019 20:19:50 +0800</pubDate>
      
      <guid>https://atbug.com/docker-engine-api-on-mac-osx/</guid>
      <description>根据官方的文档Docker Desktop on Mac vs. Docker Toolbox, Docker Desktop on Mac只提供了UNIX socket/var/run/docker.sock, 并未提供tcp的监听(默认2375端口). 如果使用linux的配置方式在</description>
    </item>
    
    <item>
      <title>Spring Boot 2.2.0 发布</title>
      <link>https://atbug.com/spring-boot-2-2-0-release/</link>
      <pubDate>Tue, 22 Oct 2019 09:27:03 +0800</pubDate>
      
      <guid>https://atbug.com/spring-boot-2-2-0-release/</guid>
      <description>译自: https://spring.io/blog/2019/10/16/spring-boot-2-2-0 组件升级 Spring AMQP 2.2 Spring Batch 4.2 Spring Data Moore Spring Framework 5.2 Spring HATEOAS 1.0 Spring Integration 5.2 Spring Kafka 2.3 Spring Security 5.2 Spring Session Corn 第三方库升级 Elasticsearch 6.7 Flyway 6.0 Jackson 2.10 JUnit 5.5 Micrometer 1.3 Reactor Dysprosium Solr 8.0 性能提升 延迟初始化(Lazy initialization)</description>
    </item>
    
    <item>
      <title>Zipkin dependencies的坑之二: 心跳超时和Executor OOM</title>
      <link>https://atbug.com/zipkin-dependencies-bug-two-timeout-and-oom/</link>
      <pubDate>Sun, 22 Sep 2019 18:27:37 +0800</pubDate>
      
      <guid>https://atbug.com/zipkin-dependencies-bug-two-timeout-and-oom/</guid>
      <description>上回说为了解决吞吐问题, 将zipkin-dependencies的版本升级到了2.3.0. 好景不长, 从某一天开始作业运行报错: Issue communicating with driver in heartbeater org.apache.spark.rpc.RpcTimeoutException:</description>
    </item>
    
    <item>
      <title>Zipkin dependencies的坑之一: 耗时越来越长</title>
      <link>https://atbug.com/zipkin-dependencies-bug-one/</link>
      <pubDate>Sun, 22 Sep 2019 17:59:56 +0800</pubDate>
      
      <guid>https://atbug.com/zipkin-dependencies-bug-one/</guid>
      <description>zipkin-dependencies是zipkin调用链的依赖分析工具. 系统上线时使用了当时的最新版本2.0.1, 运行一年之后随着服务的增</description>
    </item>
    
    <item>
      <title>如何选择Kafka Topic的分区数</title>
      <link>https://atbug.com/how-to-choose-topic-partition-count-number-kafka/</link>
      <pubDate>Fri, 30 Aug 2019 11:10:46 +0800</pubDate>
      
      <guid>https://atbug.com/how-to-choose-topic-partition-count-number-kafka/</guid>
      <description>在kafka中, topic的分区是并行计算的单元. 在producer端和broker端, 可以同时并发的写数据到不同的分区中. 在consume</description>
    </item>
    
    <item>
      <title>博客最近半年没什么产出</title>
      <link>https://atbug.com/no-output-in-past-half-year/</link>
      <pubDate>Tue, 27 Aug 2019 14:29:12 +0000</pubDate>
      
      <guid>https://atbug.com/no-output-in-past-half-year/</guid>
      <description>上一篇日志更新还是在去年的12月, 至今有差不多10个月没有更新了. 不是说没有东西可写, 而且想写的东西很多. 工作太忙, 不忙的时候又太懒, 归根结</description>
    </item>
    
    <item>
      <title>Spring Boot源码分析 - Configuration注解</title>
      <link>https://atbug.com/spring-boot-configuration-annotation/</link>
      <pubDate>Mon, 10 Dec 2018 16:24:33 +0000</pubDate>
      
      <guid>https://atbug.com/spring-boot-configuration-annotation/</guid>
      <description>@Configuration注解 @Configuration注解指示一个类声明一个或多个@Bean方法, 并且可以由Spring容器处理, 以在</description>
    </item>
    
    <item>
      <title>Nginx实现Elasticsearch的HTTP基本认证</title>
      <link>https://atbug.com/elasticsearch-http-basic-authentication-via-nginx/</link>
      <pubDate>Tue, 06 Nov 2018 09:24:24 +0000</pubDate>
      
      <guid>https://atbug.com/elasticsearch-http-basic-authentication-via-nginx/</guid>
      <description>Elasticssearch的HTTP基本认证实现有两种方案: x-pack和nginx反向代理. 前者收费, 后者不太适合生产使用. 如果仅仅是开</description>
    </item>
    
    <item>
      <title>Alpine容器安装Docker和OpenShift Client Tools</title>
      <link>https://atbug.com/install-docker-and-openshift-client-tools-in-alpine-container/</link>
      <pubDate>Tue, 28 Aug 2018 09:14:12 +0000</pubDate>
      
      <guid>https://atbug.com/install-docker-and-openshift-client-tools-in-alpine-container/</guid>
      <description>安装Docker echo &amp;#34;http://dl-2.alpinelinux.org/alpine/edge/main&amp;#34; &amp;gt; /etc/apk/repositories echo &amp;#34;http://dl-2.alpinelinux.org/alpine/edge/community&amp;#34; &amp;gt;&amp;gt; /etc/apk/repositories echo &amp;#34;http://dl-2.alpinelinux.org/alpine/edge/testing&amp;#34; &amp;gt;&amp;gt; /etc/apk/repositories apk -U --no-cache \ --allow-untrusted add \ shadow \ docker \ py-pip \ openrc \ &amp;amp;&amp;amp; pip install docker-compose rc-update add docker boot 安装OpenShift Client Tools 需要先安装glibc apk --no-cache add ca-certificates</description>
    </item>
    
    <item>
      <title>Zuul网关Ribbon重试</title>
      <link>https://atbug.com/ribbon-retry-in-zuul/</link>
      <pubDate>Thu, 02 Aug 2018 08:55:43 +0000</pubDate>
      
      <guid>https://atbug.com/ribbon-retry-in-zuul/</guid>
      <description>相关配置 #如果路由转发请求发生超时(连接超时或处理超时), 只要超时时间的设置小于Hystrix的命令超时时间,那么它就会自动发起重试. 默认为</description>
    </item>
    
    <item>
      <title>Hystrix工作原理三</title>
      <link>https://atbug.com/hystrix-exception-handling/</link>
      <pubDate>Sun, 24 Jun 2018 16:20:16 +0000</pubDate>
      
      <guid>https://atbug.com/hystrix-exception-handling/</guid>
      <description>异常处理 Hystrix异常类型 HystrixRuntimeException HystrixBadRequestException HystrixTimeoutException RejectedExecutionException HystrixRuntimeException HystrixCommand失败时抛出, 不会触发fallback. HystrixBadRequestException 用提供的参数或状态表示错误的异常</description>
    </item>
    
    <item>
      <title>Hystrix工作原理二</title>
      <link>https://atbug.com/hystrix-isolation/</link>
      <pubDate>Sun, 24 Jun 2018 16:18:52 +0000</pubDate>
      
      <guid>https://atbug.com/hystrix-isolation/</guid>
      <description>隔离策略 线程和线程池 客户端(库, 网络调用等)在各自的线程上运行. 这种做法将他们与调用线程隔开, 因此调用者可以从一个耗时的依赖调用&amp;quot;</description>
    </item>
    
    <item>
      <title>Hystrix工作原理一</title>
      <link>https://atbug.com/how-hystrix-works/</link>
      <pubDate>Mon, 04 Jun 2018 08:47:40 +0000</pubDate>
      
      <guid>https://atbug.com/how-hystrix-works/</guid>
      <description>运行时的流程图 构建HystrixCommand或者HystrixObservableCommand对象 第一步是构建一个HystrixComm</description>
    </item>
    
    <item>
      <title>解决rsyslogd资源占用率高问题</title>
      <link>https://atbug.com/rsyslogd-high-cpu-trouble-shooting/</link>
      <pubDate>Fri, 01 Jun 2018 09:32:28 +0000</pubDate>
      
      <guid>https://atbug.com/rsyslogd-high-cpu-trouble-shooting/</guid>
      <description>rsyslogd资源占用高问题记录 问题: openshift集群安装在esxi的虚拟机上. 各个节点出现问题, 集群响应很慢. kswapd0进程c</description>
    </item>
    
    <item>
      <title>Kubernetes中的Nginx动态解析</title>
      <link>https://atbug.com/nginx-dynamic-domain-parse-in-kubernetes/</link>
      <pubDate>Wed, 30 May 2018 12:10:32 +0000</pubDate>
      
      <guid>https://atbug.com/nginx-dynamic-domain-parse-in-kubernetes/</guid>
      <description>背景 Nginx运行在kubernets中, 反向代理service提供服务. kubernetes版本v1.9.1+a0ce1bc657. 问题:</description>
    </item>
    
    <item>
      <title>Spring Cloud Ribbon 详解</title>
      <link>https://atbug.com/spring-cloud-ribbon-breakdown-1/</link>
      <pubDate>Sat, 05 May 2018 11:18:05 +0000</pubDate>
      
      <guid>https://atbug.com/spring-cloud-ribbon-breakdown-1/</guid>
      <description>&lt;p&gt;客户端负载均衡, Ribbon的核心概念是命名的客户端.&lt;/p&gt;
&lt;h2 id=&#34;使用&#34;&gt;使用&lt;/h2&gt;
&lt;h3 id=&#34;引入ribbon依赖和配置&#34;&gt;引入Ribbon依赖和配置&lt;/h3&gt;
&lt;p&gt;加入&lt;code&gt;spring-cloud-starter-netflix-ribbon&lt;/code&gt;依赖&lt;/p&gt;
&lt;h3 id=&#34;代码中使用ribbonclient注解&#34;&gt;代码中使用RibbonClient注解&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;nd&#34;&gt;@Configuration&lt;/span&gt; 
&lt;span class=&#34;nd&#34;&gt;@RibbonClient&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;name&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;foo&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;configuration&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;FooConfiguration&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;TestConfiguration&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;nd&#34;&gt;@Configuration&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;protected&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;FooConfiguration&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;

    &lt;span class=&#34;nd&#34;&gt;@Bean&lt;/span&gt; 
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ZonePreferenceServerListFilter&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;serverListFilter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;ZonePreferenceServerListFilter&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;filter&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ZonePreferenceServerListFilter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;filter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setZone&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;myTestZone&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;filter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; 
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;nd&#34;&gt;@Bean&lt;/span&gt; 
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;IPing&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;ribbonPing&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt; 
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;PingUrl&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; 
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Ribbon客户端的配置, 如果不指定会使用默认的实现:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;IClientConfig 客户端相关配置&lt;/li&gt;
&lt;li&gt;IRule 定义负载均衡策略&lt;/li&gt;
&lt;li&gt;IPing 定义如何ping目标服务实例来判断是否存活, ribbon使用单独的线程每隔一段时间(默认10s)对本地缓存的ServerList做一次检查&lt;/li&gt;
&lt;li&gt;ServerList&lt;!-- raw HTML omitted --&gt;    定义如何获取服务实例列表. 两种实现基于配置的&lt;code&gt;ConfigurationBasedServerList&lt;/code&gt;和基于Eureka服务发现的&lt;code&gt;DiscoveryEnabledNIWSServerList&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ServerListFilter&lt;!-- raw HTML omitted --&gt;  用来使用期望的特征过滤静态配置动态获得的候选服务实例列表. 若未提供, 默认使用&lt;code&gt;ZoneAffinityServerListFilter&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ILoadBalancer 定义了软负载均衡器的操作的接口. 一个典型的负载均衡器至少需要一组用来做负载均衡的服务实例, 一个标记某个服务实例不在旋转中的方法, 和对应的方法调用从实例列表中选出某一个服务实例.&lt;/li&gt;
&lt;li&gt;ServerListUpdater DynamicServerListLoadBalancer用来更新实例列表的策略(推&lt;code&gt;EurekaNotificationServerListUpdater&lt;/code&gt;/拉&lt;code&gt;PollingServerListUpdater&lt;/code&gt;, 默认是拉)&lt;/li&gt;
&lt;/ul&gt;</description>
    </item>
    
    <item>
      <title>Jenkins CI/CD (一) 基于角色的授权策略</title>
      <link>https://atbug.com/using-role-based-authorization-strategy-in-jenkins/</link>
      <pubDate>Fri, 20 Apr 2018 12:18:46 +0000</pubDate>
      
      <guid>https://atbug.com/using-role-based-authorization-strategy-in-jenkins/</guid>
      <description>&lt;p&gt;最近开始客串运维做CI/CD的规划设计, 主要是基于&#39;Pipeline as Code in Jenkins&amp;rsquo;. 整理了下思路和技术点, 慢慢的写.&lt;/p&gt;
&lt;p&gt;这一篇是关于基于角色的授权策略, 用的是&lt;code&gt;Role-Based Authorization Strategy Plugin&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;授权在CI/CD流程中比较常见, 比如我们只让某些特定用户才可以构建Pre-Release的Job. 而更高级的Release发布, 又会需要某些用户的审批才可以进行. 需要授权时, 可能还需要发邮件提醒用户.&lt;/p&gt;
&lt;p&gt;UI上如何使用就不提了, 这里只说Pipeline as Code. 后面的几篇也会是这个背景.&lt;/p&gt;
&lt;p&gt;参考的这篇&lt;a href=&#34;https://www.avioconsulting.com/blog/using-role-based-authorization-strategy-jenkins&#34;&gt;文章&lt;/a&gt;, 文章里的代码运行失败, 做了修复.&lt;/p&gt;
&lt;h2 id=&#34;配置&#34;&gt;配置&lt;/h2&gt;
&lt;p&gt;安装完插件, 需要开始&lt;code&gt;基于角色的授权策略&lt;/code&gt;. 同时添加角色和为用户分配角色.&lt;/p&gt;
&lt;h3 id=&#34;使用role-based-strategy作为验证方式&#34;&gt;使用&lt;code&gt;Role-Based Strategy&lt;/code&gt;作为验证方式&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;Manage Jenkins / Configure Global Security / Configure Global Security&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://7xvxng.com1.z0.glb.clouddn.com/15241955282214.jpg&#34; alt=&#34;&#34;&gt;&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>KVM安装手册</title>
      <link>https://atbug.com/kvm-installation-note/</link>
      <pubDate>Thu, 12 Apr 2018 12:45:15 +0000</pubDate>
      
      <guid>https://atbug.com/kvm-installation-note/</guid>
      <description>&lt;h2 id=&#34;添加虚拟机流程&#34;&gt;添加虚拟机流程：&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;1. 配置网络
2. 配置存储池
3. 上传镜像
4. 安装虚拟机，指定配置
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;安装kvm虚拟机&#34;&gt;安装KVM虚拟机&lt;/h3&gt;
&lt;h4 id=&#34;1-关闭防火墙selinux&#34;&gt;1. 关闭防火墙，selinux&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# service iptables stop&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# setenforce 0 临时关闭&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# chkconfig NetworkManager off&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;2-安装kvm虚拟机&#34;&gt;2. 安装kvm虚拟机&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# yum install kvm libvirt libvirt-devel python-virtinst python-virtinst qemu-kvm virt-viewer bridge-utils virt-top libguestfs-tools ca-certificates audit-libs-python device-mapper-libs virt-install&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# 启动服务&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# service libvirtd restart&lt;/span&gt;
下载virtio-win-1.5.2-1.el6.noarch.rpm 如果不安装window虚拟机或者使用带virtio驱动的镜像可以不用安装
&lt;span class=&#34;c1&#34;&gt;# rpm -ivh virtio-win-1.5.2-1.el6.noarch.rpm&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;3-libvirt在管理本地或远程hypervisor时的表现形式如下&#34;&gt;3. Libvirt在管理本地或远程Hypervisor时的表现形式如下。&lt;/h4&gt;
&lt;p&gt;在libvirt内部管理了五部分：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;节点：所谓的节点就是我们的物理服务器，一个服务器代表一个节点，上边存放着Hyper和Domain&lt;/li&gt;
&lt;li&gt;Hypervisor：即VMM，指虚拟机的监控程序，在KVM中是一个加载了kvm.ko的标准Linux系统。&lt;/li&gt;
&lt;li&gt;域（Domain）：指虚拟机，一个域代表一个虚拟机（估计思路来源于Xen的Domain0）&lt;/li&gt;
&lt;li&gt;存储池（Storage Pool）：存储空间，支持多种协议和网络存储。作为虚拟机磁盘的存储源。&lt;/li&gt;
&lt;li&gt;卷组（Volume）：虚拟机磁盘在Host上的表现形式。
上边的五部分，我们必须使用的是前三个，因为很多时候根据业务规则或应用的灵活性并没有使用卷组（其实就是有了编制的虚拟磁盘文件），也就没有必要使用存储池。&lt;/li&gt;
&lt;/ul&gt;</description>
    </item>
    
    <item>
      <title>启用Jenkins CLI</title>
      <link>https://atbug.com/jenkins-cli-enable/</link>
      <pubDate>Mon, 09 Apr 2018 11:16:38 +0000</pubDate>
      
      <guid>https://atbug.com/jenkins-cli-enable/</guid>
      <description>Jenkins CLI提供了SSH和Client模式. Docker运行Jenkins version:&amp;#39;3&amp;#39;services:jenkins:image:jenkins/jenkins:alpineports:-8080:8080-50000:50000-46059:46059volumes:-&amp;#34;/Users/addo/DevApps/Docker/data/jenkins:/var/jenkins_home&amp;#34;note: 以为是docker运行, ssh端口设置选用了固定端口. Client 从http:</description>
    </item>
    
    <item>
      <title>Jenkins - 解决execute shell中启动的进程被在Job退出时被杀死问题</title>
      <link>https://atbug.com/resolve-process-be-killed-after-jenkins-job-done/</link>
      <pubDate>Thu, 15 Mar 2018 17:00:25 +0000</pubDate>
      
      <guid>https://atbug.com/resolve-process-be-killed-after-jenkins-job-done/</guid>
      <description>因为ProcessTreeKiller的存在, 构建过程中使用shell启动的进程在Job完成时都会被kill掉. 各种搜索以及ProcessT</description>
    </item>
    
    <item>
      <title>MacOS安装minishift</title>
      <link>https://atbug.com/install-minishift-on-mac/</link>
      <pubDate>Fri, 23 Feb 2018 15:32:26 +0000</pubDate>
      
      <guid>https://atbug.com/install-minishift-on-mac/</guid>
      <description>MacOS环境安装minishift 安装minishift cli brew cask install minishift 使用virtualbox安装 安装的时候可以指定HTTP代理, 拉取墙外镜像</description>
    </item>
    
    <item>
      <title>Spring Cloud Zuul详解</title>
      <link>https://atbug.com/spring-cloud-zuul-breakdown/</link>
      <pubDate>Thu, 22 Feb 2018 17:02:26 +0000</pubDate>
      
      <guid>https://atbug.com/spring-cloud-zuul-breakdown/</guid>
      <description>&lt;p&gt;Spring Cloud对Netflix Zuul做了封装集成, 使得在Spring Cloud环境中使用Zuul更方便. Netflix Zuul相关分析请看&lt;a href=&#34;http://atbug.com/learn-netflix-zuul/&#34;&gt;上一篇&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&#34;实现&#34;&gt;实现&lt;/h2&gt;
&lt;p&gt;@EnableZuulProxy 与 @EnableZuulServer
二者的区别在于前者使用了服务发现作为路由寻址, 并使用Ribbon做客户端的负载均衡; 后者没有使用.
Zuul server的路由都通过&lt;code&gt;ZuulProperties&lt;/code&gt;进行配置.&lt;/p&gt;
&lt;h3 id=&#34;具体实现&#34;&gt;具体实现:&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;使用&lt;code&gt;ZuulController&lt;/code&gt;(&lt;code&gt;ServletWrappingController&lt;/code&gt;的子类)封装&lt;code&gt;ZuulServlet&lt;/code&gt;实例, 处理从&lt;code&gt;DispatcherServlet&lt;/code&gt;进来的请求.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ZuulHandlerMapping&lt;/code&gt;负责注册handler mapping, 将&lt;code&gt;Route&lt;/code&gt;的&lt;code&gt;fullPath&lt;/code&gt;的请求交由&lt;code&gt;ZuulController&lt;/code&gt;处理.&lt;/li&gt;
&lt;li&gt;同时使用&lt;code&gt;ServletRegistrationBean&lt;/code&gt;注册&lt;code&gt;ZuulServlet&lt;/code&gt;, 默认使用&lt;code&gt;/zuul&lt;/code&gt;作为urlMapping. 所有来自以&lt;code&gt;/zuul&lt;/code&gt;开头的path的请求都会直接进入&lt;code&gt;ZuulServlet&lt;/code&gt;, 不会进入&lt;code&gt;DispatcherServlet&lt;/code&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;使用注解&#34;&gt;使用注解&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;@EnableZuulProxy&lt;/code&gt;引入了&lt;code&gt;ZuulProxyMarkerConfiguration&lt;/code&gt;, &lt;code&gt;ZuulProxyMarkerConfiguration&lt;/code&gt;只做了一件事, 实例化了内部类&lt;code&gt;Marker&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;nd&#34;&gt;@Configuration&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;ZuulProxyMarkerConfiguration&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Bean&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Marker&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;zuulProxyMarkerBean&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Marker&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;Marker&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;@EnableZuulServer&lt;/code&gt;引入了&lt;code&gt;ZuulServerMarkerConfiguration&lt;/code&gt;, &lt;code&gt;ZuulServerMarkerConfiguration&lt;/code&gt;也只做了一件事: 实例化了内部类&lt;code&gt;Marker&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;nd&#34;&gt;@Configuration&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;ZuulServerMarkerConfiguration&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Bean&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Marker&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;zuulServerMarkerBean&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Marker&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;Marker&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;</description>
    </item>
    
    <item>
      <title>Spring Cloud - Eureka服务注册</title>
      <link>https://atbug.com/spring-cloud-service-registry-via-eureka/</link>
      <pubDate>Wed, 14 Feb 2018 07:32:43 +0000</pubDate>
      
      <guid>https://atbug.com/spring-cloud-service-registry-via-eureka/</guid>
      <description>&lt;p&gt;之前分析过&lt;a href=&#34;http://atbug.com/spring-cloud-eureka-client-source-code-analysis/&#34;&gt;Spring Cloud的Eureka服务发现&lt;/a&gt;, 今天分析一下服务注册.&lt;/p&gt;
&lt;h2 id=&#34;配置&#34;&gt;配置&lt;/h2&gt;
&lt;h3 id=&#34;bootstrapconfiguration&#34;&gt;BootstrapConfiguration&lt;/h3&gt;
&lt;h4 id=&#34;eurekadiscoveryclientconfigservicebootstrapconfiguration&#34;&gt;EurekaDiscoveryClientConfigServiceBootstrapConfiguration&lt;/h4&gt;
&lt;p&gt;spring-cloud-config环境中使用的配置&lt;/p&gt;
&lt;p&gt;引入&lt;code&gt;EurekaDiscoveryClientConfiguration&lt;/code&gt;和&lt;code&gt;EurekaClientAutoConfiguration&lt;/code&gt;&lt;/p&gt;
&lt;h5 id=&#34;eurekadiscoveryclientconfiguration&#34;&gt;EurekaDiscoveryClientConfiguration&lt;/h5&gt;
&lt;ol&gt;
&lt;li&gt;在spring-cloud中(通过是否存在RefreshScopeRefreshedEvent.class判断), 添加&lt;code&gt;RefreshScopeRefreshedEvent&lt;/code&gt;的listener. 收到事件后重新注册实例.&lt;/li&gt;
&lt;li&gt;在&lt;code&gt;eureka.client.healthcheck.enabled&lt;/code&gt;设置为true时, 注册&lt;code&gt;EurekaHealthCheckHandler&lt;/code&gt;bean. &lt;code&gt;EurekaHealthCheckHandler&lt;/code&gt;负责将应用状态映射为实例状态&lt;code&gt;InstanceStatus&lt;/code&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;h5 id=&#34;eurekaclientautoconfiguration&#34;&gt;EurekaClientAutoConfiguration&lt;/h5&gt;
&lt;p&gt;支持spring-cloud和非spring-cloud环境, 在spring-cloud环境中, 下面两个bean要使用&lt;code&gt;@RefreshScope&lt;/code&gt;标注&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;实例化&lt;code&gt;EurekaClient&lt;/code&gt;bean, 在spring-cloud中使用实现类&lt;code&gt;CloudEurekaClient&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;使用&lt;code&gt;EurekaInstanceConfig&lt;/code&gt;实例, 实例化&lt;code&gt;ApplicationInfoManager&lt;/code&gt;bean&lt;/li&gt;
&lt;/ol&gt;</description>
    </item>
    
    <item>
      <title>初识Netflix Zuul</title>
      <link>https://atbug.com/learn-netflix-zuul/</link>
      <pubDate>Sun, 11 Feb 2018 10:07:18 +0000</pubDate>
      
      <guid>https://atbug.com/learn-netflix-zuul/</guid>
      <description>&lt;p&gt;嵌入式的zuul代理&lt;/p&gt;
&lt;p&gt;使用了Netfilx OSS的其他组件:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Hystrix   熔断&lt;/li&gt;
&lt;li&gt;Ribbon    负责发送外出请求的客户端, 提供软件负载均衡功能&lt;/li&gt;
&lt;li&gt;Trubine   实时地聚合细粒度的metrics数据&lt;/li&gt;
&lt;li&gt;Archaius  动态配置&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;介绍&#34;&gt;介绍&lt;/h2&gt;
&lt;p&gt;由于2.0停止开发且会有bug, 故下面的分析基于1.x版本.&lt;/p&gt;
&lt;h3 id=&#34;特性&#34;&gt;特性&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Authentication 认证&lt;/li&gt;
&lt;li&gt;Insights 洞察&lt;/li&gt;
&lt;li&gt;Stress Testing 压力测试&lt;/li&gt;
&lt;li&gt;Canary Testing 金丝雀测试&lt;/li&gt;
&lt;li&gt;Dynamic Routing 动态路由&lt;/li&gt;
&lt;li&gt;Multi-Region Resiliency 多区域弹性&lt;/li&gt;
&lt;li&gt;Load Shedding 负载脱落&lt;/li&gt;
&lt;li&gt;Security 安全&lt;/li&gt;
&lt;li&gt;Static Response handling 静态响应处理&lt;/li&gt;
&lt;li&gt;Multi-Region Resiliency 主动/主动流量管理&lt;/li&gt;
&lt;/ul&gt;</description>
    </item>
    
    <item>
      <title>ConfigurationProperties到底需不需要getter</title>
      <link>https://atbug.com/configurationproperties-requires-getter-or-not/</link>
      <pubDate>Wed, 07 Feb 2018 15:53:21 +0000</pubDate>
      
      <guid>https://atbug.com/configurationproperties-requires-getter-or-not/</guid>
      <description>为什么要讨论这个问题, 工作中一个同事写的类使用了ConfigurationProperties, 只提供了标准的setter方法. 属性的访问,</description>
    </item>
    
    <item>
      <title>Go In Action 读书笔记 四</title>
      <link>https://atbug.com/go-in-action-four/</link>
      <pubDate>Mon, 01 Jan 2018 12:30:55 +0000</pubDate>
      
      <guid>https://atbug.com/go-in-action-four/</guid>
      <description>&lt;p&gt;&lt;img src=&#34;https://talks.golang.org/2013/go4python/img/fib-go.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;并发模式&#34;&gt;并发模式&lt;/h2&gt;
&lt;h3 id=&#34;runner&#34;&gt;runner&lt;/h3&gt;
&lt;p&gt;runner展示了如何使用通道来监视程序的执行时间, 如果程序执行时间太长, 也可以用终止程序.
这个程序可用作corn作业执行&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>Go In Action 读书笔记 三</title>
      <link>https://atbug.com/go-in-action-three/</link>
      <pubDate>Mon, 01 Jan 2018 12:30:31 +0000</pubDate>
      
      <guid>https://atbug.com/go-in-action-three/</guid>
      <description>&lt;h2 id=&#34;并发&#34;&gt;并发&lt;/h2&gt;
&lt;p&gt;Go语言里的并发是指让某个函数可以独立于其他函数运行的能力. 当一个函数创建为goroutine时, Go会将其视为一个独立的工作单元. 这个工作单元会被调度到可用的&lt;strong&gt;逻辑处理器&lt;/strong&gt;上执行.&lt;/p&gt;
&lt;p&gt;Go的运行时调度器可以管理所有创建的goroutine, 并为其分配执行时间.
这个调度器在操作系统之上, 将操作系统的线程与逻辑处理器绑定, 并在逻辑处理器执行goroutine. &lt;strong&gt;调度器可以在任何给定的时间, 全面控制哪个goroutine在哪个逻辑处理器上运行&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Go的并发同步模型来自一个叫做通信顺序进程(Communicating Sequential Processes, &lt;a href=&#34;http://www.usingcsp.com&#34;&gt;CSP&lt;/a&gt;). CSP是一个消息传递模型, 通过在goroutine之前传递数据来传递消息, 不需要通过加锁实现同步访问. 用于在goroutine间传递消息的数据结构叫做通道(channel).&lt;/p&gt;
&lt;h3 id=&#34;并发与并行&#34;&gt;并发与并行&lt;/h3&gt;
&lt;p&gt;操作系统的线程(thread)和进程(process).&lt;/p&gt;
&lt;p&gt;进程类似应用程序在运行中需要用到和维护的各种资源的容器.
资源包括但不限于: 内存(来自文件系统的代码和数据), 句柄(文件, 设备, 操作系统), 线程.&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>Go In Action 读书笔记 二</title>
      <link>https://atbug.com/go-in-action-two/</link>
      <pubDate>Mon, 01 Jan 2018 12:28:04 +0000</pubDate>
      
      <guid>https://atbug.com/go-in-action-two/</guid>
      <description>&lt;h2 id=&#34;go语言的类型系统&#34;&gt;Go语言的类型系统&lt;/h2&gt;
&lt;p&gt;Go语言是静态类型的变成语言. 编译的时候需要确定类型.&lt;/p&gt;
&lt;h3 id=&#34;用户定义的类型&#34;&gt;用户定义的类型&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;kd&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;user&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;name&lt;/span&gt;    &lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;email&lt;/span&gt;   &lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;ext&lt;/span&gt;     &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;privileged&lt;/span&gt;  &lt;span class=&#34;kt&#34;&gt;bool&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;使用&lt;/strong&gt;
零值和&lt;strong&gt;结构字面量&lt;/strong&gt;初始化&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;c1&#34;&gt;//引用类型, 各个字段初始化为对应的零值
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;bill&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;user&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;  &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;//创建并初始化, 使用结构字面量
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;lisa&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;user&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;//{Lisa lisa@email.com 123 true}
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;Lisa&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;email&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;lisa@email.com&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;ext&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;123&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;privileged&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;结构字面量的赋值方式:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;不同行声明每一个字段和对应的值, 字段名和字段以&lt;code&gt;:&lt;/code&gt;分隔, 末尾以&lt;code&gt;,&lt;/code&gt;结尾&lt;/li&gt;
&lt;li&gt;不适用字段名, 只声明对应的值. 写在一行里, 以&lt;code&gt;,&lt;/code&gt;分隔, 结尾不需要&lt;code&gt;,&lt;/code&gt;. &lt;strong&gt;要保证顺序&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;nx&#34;&gt;lisa&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Lisa&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;lisa@email.com&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;123&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    
    <item>
      <title>Go In Action 读书笔记 一</title>
      <link>https://atbug.com/go-in-action-one/</link>
      <pubDate>Mon, 01 Jan 2018 12:27:10 +0000</pubDate>
      
      <guid>https://atbug.com/go-in-action-one/</guid>
      <description>&lt;p&gt;&lt;img src=&#34;http://7xvxng.com1.z0.glb.clouddn.com/15142714785285.jpg&#34; alt=&#34;架构流程图&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;关键字&#34;&gt;关键字&lt;/h2&gt;
&lt;h3 id=&#34;var&#34;&gt;var&lt;/h3&gt;
&lt;p&gt;变量使用&lt;code&gt;var&lt;/code&gt;声明, 如果变量不是定义在任何一个函数作用域内, 这个变量就是包级变量.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Go语言中, 所有变量都被初始化为其&lt;strong&gt;零值&lt;/strong&gt;. 对于数值类型, 其零值是&lt;strong&gt;0&lt;/strong&gt;;  对于字符串类型, 其零值是&lt;strong&gt;空字符串&amp;rdquo;&amp;quot;&lt;/strong&gt;; 对于布尔类型, 其零值是&lt;strong&gt;false&lt;/strong&gt;. 对于引用类型来说, 底层数据结构会被初始化对应的零值. 但是被生命被起零值的引用类型的变量, 会返回&lt;strong&gt;nil&lt;/strong&gt;作为其值.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;const&#34;&gt;const&lt;/h3&gt;
&lt;p&gt;定义常量&lt;/p&gt;
&lt;h3 id=&#34;interface&#34;&gt;interface&lt;/h3&gt;
&lt;p&gt;声明接口&lt;/p&gt;
&lt;h3 id=&#34;func&#34;&gt;func&lt;/h3&gt;
&lt;p&gt;声明函数&lt;/p&gt;
&lt;h3 id=&#34;defer&#34;&gt;defer&lt;/h3&gt;
&lt;p&gt;安排后面的函数调用在当前函数返回时才执行.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;nx&#34;&gt;file&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;os&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;open&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;filePath&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;defer&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;file&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;close&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;more&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;file&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;operation&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    
    <item>
      <title>自定义GOPATH下安装godep失败</title>
      <link>https://atbug.com/install-godep-issue-in-custom-gopath/</link>
      <pubDate>Fri, 22 Dec 2017 13:02:38 +0000</pubDate>
      
      <guid>https://atbug.com/install-godep-issue-in-custom-gopath/</guid>
      <description>我的环境变量是这样的: export GOROOT=/usr/local/go export GOPATH=/Users/addo/Workspaces/go_w export GOBIN=$GOROOT/bin export PATH=$PATH:$GOBIN 使用下面的命令安装报错: go get -v github.com/tools/godep github.com/tools/godep (download) github.com/tools/godep/vendor/github.com/pmezard/go-difflib/difflib github.com/tools/godep/vendor/github.com/kr/fs github.com/tools/godep/vendor/github.com/kr/text github.com/tools/godep/vendor/golang.org/x/tools/go/vcs github.com/tools/godep/vendor/github.com/kr/pretty github.com/tools/godep go install github.com/tools/godep: open /usr/local/go/bin/godep: permission denied 默认是安装到$GOBIN目录下, 权限不够</description>
    </item>
    
    <item>
      <title>SpringBoot源码 - 启动</title>
      <link>https://atbug.com/glance-over-spring-boot-source/</link>
      <pubDate>Fri, 08 Dec 2017 17:48:43 +0000</pubDate>
      
      <guid>https://atbug.com/glance-over-spring-boot-source/</guid>
      <description>SpringBoot Application启动部分的源码阅读. SpringApplication 常用的SpringApplication.run(Class, Args)启动Spring应用,</description>
    </item>
    
    <item>
      <title>Java序列化工具性能对比</title>
      <link>https://atbug.com/java-serval-serializer-benchmark/</link>
      <pubDate>Sat, 02 Dec 2017 07:35:43 +0000</pubDate>
      
      <guid>https://atbug.com/java-serval-serializer-benchmark/</guid>
      <description>最近在调整系统的性能, 系统中正使用Jackson作为序列化工具. 做了下与fastJson, Avro, ProtoStuff的序列化吞吐对比. 由于只是做</description>
    </item>
    
    <item>
      <title>Kafka的消息可靠传递</title>
      <link>https://atbug.com/kafka-reliable-data-delivery/</link>
      <pubDate>Sat, 18 Nov 2017 14:01:46 +0000</pubDate>
      
      <guid>https://atbug.com/kafka-reliable-data-delivery/</guid>
      <description>Kafka提供的基础保障可以用来构建可靠的系统, 却无法保证完全可靠. 需要在可靠性和吞吐之间做取舍. Kafka在分区上提供了消息的顺序保证. 生</description>
    </item>
    
    <item>
      <title>Spring Cloud - Eureka Client源码分析</title>
      <link>https://atbug.com/spring-cloud-eureka-client-source-code-analysis/</link>
      <pubDate>Sat, 14 Oct 2017 22:04:59 +0000</pubDate>
      
      <guid>https://atbug.com/spring-cloud-eureka-client-source-code-analysis/</guid>
      <description>准备做个Spring Cloud源码分析系列, 作为Spring Cloud的源码分析笔记. 这一篇是Eureka的客户端. 客户端 两种方式, 最终的实</description>
    </item>
    
    <item>
      <title>Raft算法学习</title>
      <link>https://atbug.com/learning-raft/</link>
      <pubDate>Sat, 14 Oct 2017 05:57:34 +0000</pubDate>
      
      <guid>https://atbug.com/learning-raft/</guid>
      <description>Raft 强一致性算法 名词 复制状态机 复制状态机是通过复制日志来实现的, 按照日志中的命令的顺序来执行这些命令. 相同的状态机执行相同的日志命令, 获得相同</description>
    </item>
    
    <item>
      <title>Kafka发送不同确认方式的性能差异</title>
      <link>https://atbug.com/kafka-producer-acknowledge-benchmark/</link>
      <pubDate>Tue, 10 Oct 2017 11:49:58 +0000</pubDate>
      
      <guid>https://atbug.com/kafka-producer-acknowledge-benchmark/</guid>
      <description>背景 Kafka的性能众所周知，Producer支持acknowledge模式。即Kafka会想Producer返回消息发送的结果。但是在Ja</description>
    </item>
    
    <item>
      <title>Kafka消息消费一致性</title>
      <link>https://atbug.com/kafka-consumer-consistency/</link>
      <pubDate>Tue, 26 Sep 2017 19:13:48 +0000</pubDate>
      
      <guid>https://atbug.com/kafka-consumer-consistency/</guid>
      <description>Kafka消费端的offset主要由consumer来控制, Kafka降每个consumer所监听的tocpic的partition的off</description>
    </item>
    
    <item>
      <title>Kafka 恰好一次发送和事务消费示例</title>
      <link>https://atbug.com/kafka-exactly-once-delivery-and-transactional-messaging-example/</link>
      <pubDate>Fri, 22 Sep 2017 18:03:43 +0000</pubDate>
      
      <guid>https://atbug.com/kafka-exactly-once-delivery-and-transactional-messaging-example/</guid>
      <description>核心思想 生产端一致性: 开启幂等和事务, 包含重试, 发送确认, 同一个连接的最大未确认请求数. 消费端一致性: 通过设置读已提交的数据和同时处理完成每</description>
    </item>
    
    <item>
      <title>恰好一次发送和事务消息(译)</title>
      <link>https://atbug.com/kafka-exactly-once-delivery-and-transactional-messaging/</link>
      <pubDate>Tue, 19 Sep 2017 19:13:26 +0000</pubDate>
      
      <guid>https://atbug.com/kafka-exactly-once-delivery-and-transactional-messaging/</guid>
      <description>Kafka提供“至少一次”交付语义, 这意味着发送的消息可以传送一次或多次. 人们真正想要的是“一次”语义,因为重复的消息没有被传递。 普遍地发声</description>
    </item>
    
    <item>
      <title>Kafka Producer配置解读</title>
      <link>https://atbug.com/kafka-producer-config/</link>
      <pubDate>Tue, 19 Sep 2017 15:38:03 +0000</pubDate>
      
      <guid>https://atbug.com/kafka-producer-config/</guid>
      <description>按照重要性分类, 基于版本0.11.0.0 高 bootstrap.servers 一组host和port用于初始化连接. 不管这里配置了多少台server, 都只是用作发现整个集群全</description>
    </item>
    
    <item>
      <title>JSON Patch</title>
      <link>https://atbug.com/json-patch/</link>
      <pubDate>Sun, 27 Aug 2017 14:41:44 +0000</pubDate>
      
      <guid>https://atbug.com/json-patch/</guid>
      <description>JSON Path是在使用Kubernetes API的过程中首次使用的. 使用API做扩缩容的时候, 发送整个Deployment的全文不是个明智的做法</description>
    </item>
    
    <item>
      <title>如何在Openshift中使用hostPath</title>
      <link>https://atbug.com/how-to-use-hostpath-in-openshift/</link>
      <pubDate>Wed, 23 Aug 2017 19:29:51 +0000</pubDate>
      
      <guid>https://atbug.com/how-to-use-hostpath-in-openshift/</guid>
      <description>使用openshift搭建的k8s的api创建Deployment，在启动的时候报下面的错误： Invalid value: &amp;ldquo;hostPath&amp;rdquo;: hostPath volumes are not allowed to be used] 解决方案： 一个方案是将u</description>
    </item>
    
    <item>
      <title>Kubernetes — 持久卷</title>
      <link>https://atbug.com/kubernetes-persistent-volumes/</link>
      <pubDate>Sun, 20 Aug 2017 22:25:40 +0000</pubDate>
      
      <guid>https://atbug.com/kubernetes-persistent-volumes/</guid>
      <description>Persistent Volume 译自Persistent Volumes 介绍 管理存储是管理计算的独特问题。 PersistentVolume子系统为用户和管理员提供了一个API，其中提</description>
    </item>
    
    <item>
      <title>Kubernetes学习 — Macos安装Kubernetes</title>
      <link>https://atbug.com/install-kubernetes-on-macos/</link>
      <pubDate>Thu, 17 Aug 2017 09:44:17 +0000</pubDate>
      
      <guid>https://atbug.com/install-kubernetes-on-macos/</guid>
      <description>Kubernetes 安装 macos 检查环境 sysctl -a | grep machdep.cpu.features | grep VMX 安装VirtualBox http://download.virtualbox.org/virtualbox/5.1.26/Oracle_VM_VirtualBox_Extension_Pack-5.1.26-117224.vbox-extpack 安装minikube curl -Lo minikube https://storage.googleapis.com/minikube/releases/v0.21.0/minikube-darwin-amd64 &amp;amp;&amp;amp; chmod +x minikube &amp;amp;&amp;amp; sudo mv minikube /usr/local/bin/ 创建集群 默认使用virtualbox</description>
    </item>
    
    <item>
      <title>暴力停止ExecutorService的线程</title>
      <link>https://atbug.com/stop-a-thread-of-executor-service/</link>
      <pubDate>Wed, 19 Jul 2017 22:25:19 +0000</pubDate>
      
      <guid>https://atbug.com/stop-a-thread-of-executor-service/</guid>
      <description>停止，stop，这里说的是真的停止。如何优雅的结束，这里就不提了。 这里要用Thread.stop()。众所周知，stop()方法在JDK中是</description>
    </item>
    
    <item>
      <title>私有构造函数捕获模式</title>
      <link>https://atbug.com/private-constructor-capture-idiom/</link>
      <pubDate>Wed, 24 May 2017 06:50:44 +0000</pubDate>
      
      <guid>https://atbug.com/private-constructor-capture-idiom/</guid>
      <description>《Java并发编程实践》的注解中有提到这一概念。 The private constructor exists to avoid the race condition that would occur if the copy constructor were implemented as this (p.x, p.y); this is an example of the private constructor capture idiom (Bloch and Gafter, 2005). 结合原文代码： @ThreadSafe public class</description>
    </item>
    
    <item>
      <title>Docker快速构建Cassandra和Java操作</title>
      <link>https://atbug.com/java-operate-cassandra-deployed-in-docker/</link>
      <pubDate>Thu, 18 May 2017 23:33:24 +0000</pubDate>
      
      <guid>https://atbug.com/java-operate-cassandra-deployed-in-docker/</guid>
      <description>搭建Cassandra 使用docker创建Cassandra，方便快捷 docker pull cassandra:latest docker run -d --name cassandra -p 9042:9042 cassandra docker exec -it cassandra bash 创建keyspace、table #cq</description>
    </item>
    
    <item>
      <title>从零开始用docker运行spring boot应用</title>
      <link>https://atbug.com/run-spring-boot-app-in-docker/</link>
      <pubDate>Thu, 20 Apr 2017 21:58:42 +0000</pubDate>
      
      <guid>https://atbug.com/run-spring-boot-app-in-docker/</guid>
      <description>假设已经安装好Docker Springboot应用 pom添加依赖和构建插件 &amp;lt;parent&amp;gt; &amp;lt;groupId&amp;gt;org.springframework.boot&amp;lt;/groupId&amp;gt; &amp;lt;artifactId&amp;gt;spring-boot-starter-parent&amp;lt;/artifactId&amp;gt; &amp;lt;version&amp;gt;1.5.3.RELEASE&amp;lt;/version&amp;gt; &amp;lt;/parent&amp;gt; &amp;lt;dependencies&amp;gt; &amp;lt;dependency&amp;gt; &amp;lt;groupId&amp;gt;org.springframework.boot&amp;lt;/groupId&amp;gt; &amp;lt;artifactId&amp;gt;spring-boot-starter-web&amp;lt;/artifactId&amp;gt; &amp;lt;/dependency&amp;gt; &amp;lt;/dependencies&amp;gt; &amp;lt;build&amp;gt; &amp;lt;plugins&amp;gt; &amp;lt;plugin&amp;gt; &amp;lt;groupId&amp;gt;org.springframework.boot&amp;lt;/groupId&amp;gt; &amp;lt;artifactId&amp;gt;spring-boot-maven-plugin&amp;lt;/artifactId&amp;gt; &amp;lt;/plugin&amp;gt; &amp;lt;/plugins&amp;gt; &amp;lt;/build&amp;gt; 应用代码 package com.atbug.spring.boot.test; import org.springframework.boot.SpringApplication; import org.springframework.boot.autoconfigure.SpringBootApplication; import org.springframework.boot.web.servlet.FilterRegistrationBean; import org.springframework.context.annotation.Bean;</description>
    </item>
    
    <item>
      <title>Jasig CAS Web and Proxy flow</title>
      <link>https://atbug.com/jasig-cas-web-and-proxy-flow/</link>
      <pubDate>Tue, 18 Apr 2017 10:36:16 +0000</pubDate>
      
      <guid>https://atbug.com/jasig-cas-web-and-proxy-flow/</guid>
      <description>最近因为需求在看CAS相关的只是，由于需要后端调用，用到proxy（代理）模式。整理了下web flow和proxy web flow的流程。 Web Flow Proxy Web</description>
    </item>
    
    <item>
      <title>MetaspaceSize的坑</title>
      <link>https://atbug.com/java8-metaspace-size-issue/</link>
      <pubDate>Thu, 13 Apr 2017 11:55:14 +0000</pubDate>
      
      <guid>https://atbug.com/java8-metaspace-size-issue/</guid>
      <description>这几天生产上有台机器的Metaspace一直在告警，Metaspace使用达到了97%。使用-XX:MetaspaceSize=512m，告</description>
    </item>
    
    <item>
      <title>一个Tomcat类加载问题</title>
      <link>https://atbug.com/one-tomcat-class-load-issue/</link>
      <pubDate>Wed, 12 Apr 2017 10:40:01 +0000</pubDate>
      
      <guid>https://atbug.com/one-tomcat-class-load-issue/</guid>
      <description>背景 一个Tomcat实例中运行了三个应用，其中一个对接了Apereo的CAS系统。现在要求另外两个系统也对接CAS系统，问题就出现了： 应用启</description>
    </item>
    
    <item>
      <title>Scala笔记：用函数字面量块调用高阶函数</title>
      <link>https://atbug.com/call-high-order-function-in-function-literal/</link>
      <pubDate>Tue, 11 Apr 2017 10:15:15 +0000</pubDate>
      
      <guid>https://atbug.com/call-high-order-function-in-function-literal/</guid>
      <description>这里会用到几个概念高阶函数、函数字面量、参数组 高阶函数 high-order function 函数的一种，简单来说它包含了一个函数类型的参数或者返回值。 所谓的高阶是跟一阶函数相</description>
    </item>
    
    <item>
      <title>GreenPlum JDBC和C3P0数据源</title>
      <link>https://atbug.com/greenplum-jdbc-and-c3p0-datasource/</link>
      <pubDate>Mon, 10 Apr 2017 08:29:00 +0000</pubDate>
      
      <guid>https://atbug.com/greenplum-jdbc-and-c3p0-datasource/</guid>
      <description>在网上搜索GreenPlum（GPDB）的数据源配置的时候，发现搜索结果都是用postgresql的配置。 import com.mchange.v2.c3p0.DataSources; import javax.sql.DataSource; import java.sql.*; import java.util.Properties; /** * Created by addo on 2017/4/10. */ public</description>
    </item>
    
    <item>
      <title>Scala笔记：def VS val</title>
      <link>https://atbug.com/def-vs-val-in-scala/</link>
      <pubDate>Sun, 09 Apr 2017 08:24:40 +0000</pubDate>
      
      <guid>https://atbug.com/def-vs-val-in-scala/</guid>
      <description>先说原理： val修饰的在定义的时候执行 def修饰的在调用的时候执行 直观的例子： //注释的行为REPL输出 def test: () =&amp;gt; Int = { println(&amp;#34;def called&amp;#34;) val r = util.Random.nextInt () =&amp;gt; r } //test:</description>
    </item>
    
    <item>
      <title>Centos编译安装Redis</title>
      <link>https://atbug.com/install-redis-on-centos/</link>
      <pubDate>Fri, 07 Apr 2017 16:48:46 +0000</pubDate>
      
      <guid>https://atbug.com/install-redis-on-centos/</guid>
      <description>版本 Centos7 Redis3.2.8 编译安装 wget http://download.redis.io/releases/redis-3.2.8.tar.gz tar -zxvf redis-3.2.8.tar.gz cd redis-3.2.8 sudo make test sudo make install 启动 redis-server 问题 /bin/sh: cc: command not found **原因：**Centos安装时选择的类型是Infrastructure，没有</description>
    </item>
    
    <item>
      <title>Centos上安装Postgresql</title>
      <link>https://atbug.com/install-postgresql-on-centos/</link>
      <pubDate>Thu, 06 Apr 2017 22:54:17 +0000</pubDate>
      
      <guid>https://atbug.com/install-postgresql-on-centos/</guid>
      <description>版本 Centos7 Postgresql9.2 Enable ssh service sshd start Open firewall for 22 firewall-cmd —state firewall-cmd —list-all firewall-cmd —permanent —zone=public —add-port=22/tcp firewall-cmd</description>
    </item>
    
    <item>
      <title>Key长度对Redis性能影响</title>
      <link>https://atbug.com/redis-performance-key-length/</link>
      <pubDate>Thu, 16 Mar 2017 10:37:03 +0000</pubDate>
      
      <guid>https://atbug.com/redis-performance-key-length/</guid>
      <description>最近Redis的使用中用的到key可能比较长，但是Redis的官方文档没提到key长度对性能的影响，故简单做了个测试。 环境 Redis和测试程</description>
    </item>
    
    <item>
      <title>遍历Collection时删除元素</title>
      <link>https://atbug.com/remove-element-while-looping-collection/</link>
      <pubDate>Sun, 05 Mar 2017 22:04:58 +0000</pubDate>
      
      <guid>https://atbug.com/remove-element-while-looping-collection/</guid>
      <description>其实标题我想用《为什么foreach边循环边移除元素要用Iterator？》可是太长。 不用Iterator，用Collection.remo</description>
    </item>
    
    <item>
      <title>Java Volatile关键字</title>
      <link>https://atbug.com/deep-in-java-volatile-keywork/</link>
      <pubDate>Thu, 02 Mar 2017 08:30:29 +0000</pubDate>
      
      <guid>https://atbug.com/deep-in-java-volatile-keywork/</guid>
      <description>volatile通过保证对变量的读或写都是直接从内存中读取或直接写入内存中，保证了可见性；但是volatile并不足以保证线程安全，因为无法</description>
    </item>
    
    <item>
      <title>Haproxy虚拟主机SSL</title>
      <link>https://atbug.com/haproxy-multi-host-with-ssl/</link>
      <pubDate>Mon, 27 Feb 2017 19:31:53 +0000</pubDate>
      
      <guid>https://atbug.com/haproxy-multi-host-with-ssl/</guid>
      <description>Haproxy为多个域名配置SSL 生成自签名证书 sudo mkdir /etc/ssl/atbug.com sudo openssl genrsa -out /etc/ssl/atbug.com/atbug.com.key 1024 sudo openssl req -new -key /etc/ssl/atbug.com/atbug.com.key -out /etc/ssl/atbug.com/atbug.com.csr sudo openssl x509 -req -days 365 -in /etc/ssl/atbug.com/atbug.com.csr -singkey /etc/ssl/atbug.com/atbug.com.key -out /etc/ssl/atbug.com/atbug.com.crt sudo openssl x509 -req -days 365 -in /etc/ssl/atbug.com/atbug.com.csr -signkey /etc/ssl/atbug.com/atbug.com.key -out /etc/ssl/atbug.com/atbug.com.crt sudo cat /etc/ssl/atbug.com/atbug.com.crt /etc/ssl/atbug.com/atbug.com.key |</description>
    </item>
    
    <item>
      <title>mybatis报错“Result Maps collection already contains value for ***”</title>
      <link>https://atbug.com/duplicate-resultmap-in-mybatis-mapper/</link>
      <pubDate>Wed, 22 Feb 2017 14:12:18 +0000</pubDate>
      
      <guid>https://atbug.com/duplicate-resultmap-in-mybatis-mapper/</guid>
      <description>这是工作中遇到的一个问题：测试环境部署出错，报了下面的问题。 Caused by: java.lang.IllegalArgumentException: Result Maps collection already contains value for xxx.xxx.xxxRepository.BaseResultMap at org.apache.ibatis.session.Configuration$StrictMap.put(Configuration.java:802) at org.apache.ibatis.session.Configuration$StrictMap.put(Configuration.java:774) at org.apache.ibatis.session.Configuration.addResultMap(Configuration.java:556) at org.apache.ibatis.builder.MapperBuilderAssistant.addResultMap(MapperBuilderAssistant.java:217) at org.apache.ibatis.builder.ResultMapResolver.resolve(ResultMapResolver.java:47) at org.apache.ibatis.builder.xml.XMLMapperBuilder.resultMapElement(XMLMapperBuilder.java:285) at org.apache.ibatis.builder.xml.XMLMapperBuilder.resultMapElement(XMLMapperBuilder.java:252) at org.apache.ibatis.builder.xml.XMLMapperBuilder.resultMapElements(XMLMapperBuilder.java:244) at org.apache.ibatis.builder.xml.XMLMapperBuilder.configurationElement(XMLMapperBuilder.java:116) 检查了对应的mappe</description>
    </item>
    
    <item>
      <title>消费时offset被重置导致重复消费</title>
      <link>https://atbug.com/offset-be-reset-when-consuming/</link>
      <pubDate>Mon, 20 Feb 2017 13:23:49 +0000</pubDate>
      
      <guid>https://atbug.com/offset-be-reset-when-consuming/</guid>
      <description>这是实际使用时遇到的问题：kafka api的版本是0.10，发现有重复消费问题；检查log后发现在commit offset的时候发生超时。 Auto</description>
    </item>
    
    <item>
      <title>TheadPoolExecutor源码分析</title>
      <link>https://atbug.com/threadpoolexecutor-sourcecode-analysis/</link>
      <pubDate>Mon, 20 Feb 2017 09:56:07 +0000</pubDate>
      
      <guid>https://atbug.com/threadpoolexecutor-sourcecode-analysis/</guid>
      <description>TheadPoolExecutor源码分析 ThreadPoolExecutor是多线程中经常用到的类，其使用一个线程池执行提交的任务。 实现 没</description>
    </item>
    
    <item>
      <title>Kafka Java生产者模型</title>
      <link>https://atbug.com/kafka-java-producer-model/</link>
      <pubDate>Wed, 04 Jan 2017 16:33:02 +0000</pubDate>
      
      <guid>https://atbug.com/kafka-java-producer-model/</guid>
      <description>Producer初始化 初始化KafkaProducer实例，同时通过Config数据初始化MetaData、NetWorkClient、Ac</description>
    </item>
    
    <item>
      <title>Redis清理缓存</title>
      <link>https://atbug.com/clean-speicified-keys-in-redis/</link>
      <pubDate>Tue, 13 Dec 2016 16:54:41 +0000</pubDate>
      
      <guid>https://atbug.com/clean-speicified-keys-in-redis/</guid>
      <description>最近有个需求需要主动的去清理部分缓存，考虑的原子性的问题，用Lua脚本进行实现。 Lua脚本 local count = 0 for _,k in ipairs(redis.call(&amp;#39;KEYS&amp;#39;, ARGV[1])) do redis.call(&amp;#39;DEL&amp;#39;, k) count = count + 1 end return count shell</description>
    </item>
    
    <item>
      <title>Flume - FileChannel （一）</title>
      <link>https://atbug.com/flume-filechannel-overview/</link>
      <pubDate>Wed, 23 Nov 2016 09:23:57 +0000</pubDate>
      
      <guid>https://atbug.com/flume-filechannel-overview/</guid>
      <description>概述 当使用Flume的时候，每个流程都包含了输入源、通道和输出。一个典型的例子是一个web服务器将事件通过RPC（搬入AvroSource）</description>
    </item>
    
    <item>
      <title>探索Rabbitmq的Java客户端</title>
      <link>https://atbug.com/deep-in-rabbitmq-java-client/</link>
      <pubDate>Sun, 09 Oct 2016 09:20:07 +0000</pubDate>
      
      <guid>https://atbug.com/deep-in-rabbitmq-java-client/</guid>
      <description>AMQPConnection 实例初始化 创建Connection时会通过FrameHandlerFacotry创建一个SocketFrameHandler，Socket</description>
    </item>
    
    <item>
      <title>Git回车换行</title>
      <link>https://atbug.com/crlf-in-git/</link>
      <pubDate>Wed, 14 Sep 2016 09:16:10 +0000</pubDate>
      
      <guid>https://atbug.com/crlf-in-git/</guid>
      <description>最近又个项目，checkout之后，没做任何改动前git status发现已经有modified了，通过git diff发现有两种改动： - warning: CRLF will</description>
    </item>
    
    <item>
      <title>深入剖析HashSet和HashMap实现</title>
      <link>https://atbug.com/deep-in-implementation-of-hashset/</link>
      <pubDate>Mon, 11 Jul 2016 14:57:16 +0000</pubDate>
      
      <guid>https://atbug.com/deep-in-implementation-of-hashset/</guid>
      <description>HashSet是一个包含非重复元素的集合，如何实现的，要从底层实现代码看起。 背景 首先非重复元素如何定义，看Set的描述： More formally, sets contain no pair of elements e1 and</description>
    </item>
    
    <item>
      <title>多线程下的单例模式&#43;反汇编</title>
      <link>https://atbug.com/singleton-in-multi-threads-programming/</link>
      <pubDate>Wed, 06 Jul 2016 16:57:09 +0000</pubDate>
      
      <guid>https://atbug.com/singleton-in-multi-threads-programming/</guid>
      <description>多线程下的单例模式的实现，顺便做了反汇编。 public class MySingleton { private static MySingleton INSTANCE; private MySingleton() { } public static MySingleton getInstance() { if (INSTANCE == null) { synchronized (MySingleton.class) { INSTANCE = new MySingleton(); } } return INSTANCE; } } Compiled from &amp;#34;MySingleton.java&amp;#34; public class MySingleton { public static MySingleton getInstance(); Code: 0: getstatic</description>
    </item>
    
    <item>
      <title>使用Kryo替换spring amqp的Java序列化</title>
      <link>https://atbug.com/use-kryo-in-spring-amqp-serialization/</link>
      <pubDate>Wed, 29 Jun 2016 05:29:14 +0000</pubDate>
      
      <guid>https://atbug.com/use-kryo-in-spring-amqp-serialization/</guid>
      <description>spring amqp的原生并没有对Kryo加以支持，Kryo的优点就不多说了。 git地址：https://github.com/addozhang/s</description>
    </item>
    
    <item>
      <title>Rabbitmq延迟队列实现</title>
      <link>https://atbug.com/rabbitmq-delay-queue-implementation/</link>
      <pubDate>Wed, 30 Mar 2016 14:27:02 +0000</pubDate>
      
      <guid>https://atbug.com/rabbitmq-delay-queue-implementation/</guid>
      <description>在requeue=false的情况系，消息被client reject 消息过期 队列长度超过限制</description>
    </item>
    
    <item>
      <title>关于SLF4J</title>
      <link>https://atbug.com/about-slf4j/</link>
      <pubDate>Sat, 18 Apr 2015 11:16:26 +0000</pubDate>
      
      <guid>https://atbug.com/about-slf4j/</guid>
      <description>Spring的功能越来越强大，同时也越来越臃肿。比如想快速搭建一个基于Spring的项目，解决依赖问题非常耗时。Spring的项目模板的出现</description>
    </item>
    
    <item>
      <title>日常工作中使用的chrome插件</title>
      <link>https://atbug.com/chrome-extensions-for-daily-work/</link>
      <pubDate>Sun, 09 Feb 2014 09:26:50 +0000</pubDate>
      
      <guid>https://atbug.com/chrome-extensions-for-daily-work/</guid>
      <description>先说下背景，Java程序猿一枚，兼做hybrid app。所以日常工作中免不了要跟浏览器打交道，一般就只用chrome了，看中它的调试功能和庞</description>
    </item>
    
    <item>
      <title>About</title>
      <link>https://atbug.com/about/</link>
      <pubDate>Tue, 22 Jan 2013 10:02:37 +0800</pubDate>
      
      <guid>https://atbug.com/about/</guid>
      <description>基本信息 Addo Zhang 广州 程序员</description>
    </item>
    
  </channel>
</rss>