<!DOCTYPE html>
<html>
<head>
    <title>KVM安装手册 // 乱世浮生</title>

    <meta charset="utf-8">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    
    <meta name="description" content="知我者谓我何忧 不知我者谓我何求.">
    <meta name="keywords" content="Java,Spring Cloud,Architecture,">

        <meta property="og:title" content="KVM安装手册" />
    <meta property="og:description" content="知我者谓我何忧 不知我者谓我何求." />
    <meta property="og:type" content="website" />
    <meta property="og:locale" content="zh-cn" />
    <meta property="og:url" content="https://atbug.com/kvm-installation-note/" />
    

    <link rel="shortcut icon" href="../favicon.ico">

    <link href="https://atbug.com/webfonts/ptserif/main.css" rel='stylesheet' type='text/css'>
    <link href="https://atbug.com/webfonts/source-code-pro/main.css" rel="stylesheet" type="text/css">

    <link rel="stylesheet" href="https://atbug.com/css/style.css">
    

    <meta name="generator" content="Hugo 0.57.2" />
</head>


<body>
<div id="container">
    <header id="header">
    <div id="header-outer" class="outer">
        <div id="header-inner" class="inner">
            <a id="main-nav-toggle" class="nav-icon" href="javascript:;"></a>
            <a id="logo" class="logo-text" href="https://atbug.com/">乱世浮生</a>
            <nav id="main-nav">
                
                <a class="main-nav-link" href="../">Home</a>
                
                <a class="main-nav-link" href="../post/">Archives</a>
                
                <a class="main-nav-link" href="../tags/">Tags</a>
                
                <a class="main-nav-link" href="../categories/">Categories</a>
                
                <a class="main-nav-link" href="../about/">About</a>
                
            </nav>
            <nav id="sub-nav">
                <div id="search-form-wrap">
                </div>
            </nav>
        </div>
    </div>
</header>

    <section id="main" class="outer">
        <article class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        <header class="article-header">
            <h1 class="article-title" itemprop="name">KVM安装手册</h1>
        </header>
        
        <div class="article-meta">
            <a href="../kvm-installation-note/" class="article-date">
                <time datetime='2018-04-12T12:45:15.000&#43;00:00' itemprop="datePublished">2018-04-12</time>
            </a>
            
            
            <div class="post-categories">
                <div class="article-category">
                    
                    
                    <a class="article-category-link" href="https://atbug.com//categories/%E7%AC%94%E8%AE%B0">笔记</a>
                    
                </div>
            </div>
            
            
            <div class="article-comment-link-wrap">
                <a href="../kvm-installation-note/#disqus_thread" class="article-comment-link">Comments</a>
            </div>
            
        </div>
        <div class="article-entry" itemprop="articleBody">
            <h2 id="添加虚拟机流程">添加虚拟机流程：</h2>
<div class="highlight"><pre class="chroma">1. 配置网络
2. 配置存储池
3. 上传镜像
4. 安装虚拟机，指定配置</pre></div>
<h3 id="安装kvm虚拟机">安装KVM虚拟机</h3>

<h4 id="1-关闭防火墙-selinux">1. 关闭防火墙，selinux</h4>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># service iptables stop</span>
<span class="c1"># setenforce 0 临时关闭</span>
<span class="c1"># chkconfig NetworkManager off</span></code></pre></div>
<h4 id="2-安装kvm虚拟机">2. 安装kvm虚拟机</h4>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># yum install kvm libvirt libvirt-devel python-virtinst python-virtinst qemu-kvm virt-viewer bridge-utils virt-top libguestfs-tools ca-certificates audit-libs-python device-mapper-libs virt-install</span>
<span class="c1"># 启动服务</span>
<span class="c1"># service libvirtd restart</span>
下载virtio-win-1.5.2-1.el6.noarch.rpm 如果不安装window虚拟机或者使用带virtio驱动的镜像可以不用安装
<span class="c1"># rpm -ivh virtio-win-1.5.2-1.el6.noarch.rpm</span></code></pre></div>
<h4 id="3-libvirt在管理本地或远程hypervisor时的表现形式如下">3. Libvirt在管理本地或远程Hypervisor时的表现形式如下。</h4>

<p>在libvirt内部管理了五部分：</p>

<ul>
<li>节点：所谓的节点就是我们的物理服务器，一个服务器代表一个节点，上边存放着Hyper和Domain</li>
<li>Hypervisor：即VMM，指虚拟机的监控程序，在KVM中是一个加载了kvm.ko的标准Linux系统。</li>
<li>域（Domain）：指虚拟机，一个域代表一个虚拟机（估计思路来源于Xen的Domain0）</li>
<li>存储池（Storage Pool）：存储空间，支持多种协议和网络存储。作为虚拟机磁盘的存储源。</li>
<li>卷组（Volume）：虚拟机磁盘在Host上的表现形式。
上边的五部分，我们必须使用的是前三个，因为很多时候根据业务规则或应用的灵活性并没有使用卷组（其实就是有了编制的虚拟磁盘文件），也就没有必要使用存储池。</li>
</ul>

<h3 id="配置">配置</h3>

<h4 id="1-修改网络配置">1. 修改网络配置</h4>

<p>方案一 (推荐)</p>
<div class="highlight"><pre class="chroma">brctl addbr br0 &amp;&amp; brctl addif br0 em1 &amp;&amp; brctl stp br0 on &amp;&amp; ifconfig em1 0.0.0.0 &amp;&amp; ifconfig br0 192.168.1.31 netmask 255.255.255.0 &amp;&amp; route add default gw 192.168.1.1</pre></div>
<p>方案二</p>

<p><a href="https://blog.csdn.net/wh211212/article/details/54141412">参考</a></p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># vim /etc/sysconfig/network-scripts/ifcfg-br0</span></code></pre></div>
<blockquote>
<p>DEVICE=br0
TYPE=Bridge
BOOTPROTO=static
BROADCAST=192.168.1.255
IPADDR=192.168.1.10
NETMASK=255.255.255.0
NETWORK=192.168.1.0
GATEWAY=192.168.1.1
DNS1=119.29.29.29
ONBOOT=yes</p>
</blockquote>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># vim /etc/sysconfig/network-scripts/ifcfg-em1</span></code></pre></div>
<blockquote>
<p>DEVICE=em1
BOOTPROTO=none
ONBOOT=yes
BRIDGE=br0</p>
</blockquote>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># vim /etc/sysconfig/network-scripts/ifcfg-bond0</span> </code></pre></div>
<blockquote>
<p>DEVICE=bond0
TYPE=Ethernet
NAME=bond0
BONDING_MASTER=yes
BOOTPROTO=none
BRIDGE=br0
ONBOOT=yes
BONDING_OPTS=&ldquo;mode=5 miimon=100&rdquo;</p>
</blockquote>

<p><a href="https://www.jianshu.com/p/110b60c14a8b">方案三</a></p>

<h4 id="3-关闭宿主机的gso与tso功能">3. 关闭宿主机的GSO与TSO功能</h4>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># ethtool -K em1 gso off</span>
<span class="c1"># ethtool -K em1 tso off</span>
<span class="c1"># systemctl restart network</span></code></pre></div>
<h4 id="4-创建基于文件夹的存储池-目录">4. 创建基于文件夹的存储池（目录）</h4>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># mkdir -p /home/vmdisk</span></code></pre></div>
<p>定义存储池与其目录</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># virsh pool-define-as vmDiskPool --type dir --target /home/vmdisk</span>
Pool vmDiskPool defined</code></pre></div>
<p>创建已定义的存储池</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># virsh pool-build vmDiskPool</span>
Pool vmDiskPool built</code></pre></div>
<p>查看已定义的存储池，存储池不激活无法使用</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># virsh pool-list --all</span>
Name State Autostart
-----------------------------------------
vmDiskPool inactive no </code></pre></div>
<p>查看存储卷信息</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># virsh pool-info vmDiskPool</span>
Name: vmDiskPool
UUID: 3fc996c4-9bfa-7fdc-2960-445e4c551855
State: inactive
Persistent: yes
Autostart: no</code></pre></div>
<p>激活并自动启动已定义的存储池</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># virsh pool-autostart vmDiskPool</span>
Pool vmDiskPool marked as autostarted</code></pre></div>
<p>启动存储卷</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># virsh pool-start vmDiskPool</span>
Pool vmDiskPool started</code></pre></div>
<p>再次查看存储卷信息</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># virsh pool-info vmDiskPool</span>
Name: vmDiskPool
UUID: 3fc996c4-9bfa-7fdc-2960-445e4c551855
State: running
Persistent: yes
Autostart: yes
Capacity: <span class="m">39</span>.25 GiB
Allocation: <span class="m">47</span>.89 MiB
Available: <span class="m">39</span>.20 GiB</code></pre></div>
<h4 id="3-在存储池中创建虚拟机存储卷-创建卷">3. 在存储池中创建虚拟机存储卷（创建卷）</h4>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># virsh vol-create-as vmDiskPool linux_vm0.qcow2 300G --format qcow2</span></code></pre></div>
<p>查看存储卷</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">ll /home/vmdisk/</code></pre></div>
<h5 id="存储池相关管理命令">存储池相关管理命令</h5>

<p>删除存储池中的存储卷</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># virsh vol-delete --pool vmDiskPool linux_vm1.qcow2</span></code></pre></div>
<p>取消激活存储池</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># virsh pool-destroy vmDiskPool</span></code></pre></div>
<p>取消定义存储池</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># virsh pool-undefine vmDiskPool</span></code></pre></div>
<p>删除存储池</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># virsh pool-delete vmDiskPool</span></code></pre></div>
<h4 id="4-安装虚拟机">4. 安装虚拟机</h4>

<p>bridge网络模式</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># virt-install \</span>
--virt-type kvm <span class="se">\
</span><span class="se"></span>--os-type<span class="o">=</span>linux <span class="se">\
</span><span class="se"></span>--os-variant<span class="o">=</span>RHEL7 <span class="se">\
</span><span class="se"></span>--name<span class="o">=</span>vm0 <span class="se">\
</span><span class="se"></span>--memory <span class="m">16384</span> <span class="se">\
</span><span class="se"></span>--vcpus <span class="m">6</span> <span class="se">\
</span><span class="se"></span>--disk <span class="nv">path</span><span class="o">=</span>/home/vmdisk/linux_vm0.qcow2,format<span class="o">=</span>qcow2,bus<span class="o">=</span>virtio <span class="se">\
</span><span class="se"></span>--location /root/CentOS-7-x86_64-Minimal-1708.iso <span class="se">\
</span><span class="se"></span>--graphics none <span class="se">\
</span><span class="se"></span>--network <span class="nv">bridge</span><span class="o">=</span>br0,model<span class="o">=</span>virtio <span class="se">\
</span><span class="se"></span>--autostart <span class="se">\
</span><span class="se"></span>--boot cdrom,hd,menu<span class="o">=</span>on <span class="se">\
</span><span class="se"></span>--console pty,target_type<span class="o">=</span>serial <span class="se">\
</span><span class="se"></span>--extra-args <span class="s1">&#39;console=ttyS0,115200n8 serial&#39;</span> <span class="se">\
</span><span class="se"></span>--debug</code></pre></div>
<p>NAT网络模式</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># virt-install --name=test --ram 512 --vcpus=1 -f /data/kvm/vm/test.qcow2 --cdrom /data/iso/CentOS-6.5-x86_64-bin-DVD1.iso --graphics vnc,listen=0.0.0.0,port=5988, --network network=default,model=virtio --force --accelerate --autostart --boot cdrom,hd,menu=on</span></code></pre></div>
<p>安装window主机</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># virt-install --name=window_24 --ram 12288 --vcpus 4 -c /data/iso/windows2008.iso --disk path=/usr/share/virtio-win/virtio-win-1.5.2.iso,device=cdrom --disk path=/data/kvm/vm/window_24.img,format=qcow2,bus=virtio --network bridge=br0,model=virtio --vnc --vncport=5924 --vnclisten=0.0.0.0 --force --autostart --os-type=windows --accelerate --boot cdrom,hd,menu=on</span></code></pre></div>
<p>设置虚拟机网络</p>
<div class="highlight"><pre class="chroma"># vi /etc/sysconfig/network-scripts/ifcfg-eth0
TYPE=Ethernet
BOOTPROTO=static
DEFROUTE=yes
PEERDNS=yes
PEERROUTES=yes
IPV4_FAILURE_FATAL=no
NAME=eth0
DEVICE=eth0
ONBOOT=yes
IPADDR=192.168.1.16
PREFIX=24
GATEWAY=192.168.1.1
DNS1=119.29.29.29</pre></div>
<h4 id="5-启动">5. 启动</h4>

<p>使用virsh list &ndash;all查看已安装的kvm</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="o">[</span>root@localhost ~<span class="o">]</span><span class="c1"># virsh list --all</span>
Id Name State
----------------------------------------------------
<span class="m">5</span> <span class="nb">test</span> running</code></pre></div>
<h4 id="6-动态调整cpu个数">6. 动态调整cpu个数</h4>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># virsh setvcpus test --maximum 4 --config #设置test的最大cpu颗数</span>
<span class="c1"># virsh setvcpus test 3 #增加到3个CPU</span>
注：使用上面命令修改，虚拟机重启修改的配置会丢失
<span class="c1"># virsh edit test #修改CPU个数再保存配置，这样重启之后也会生效</span></code></pre></div>
<h4 id="7-动态调整mem容量">7. 动态调整mem容量</h4>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># virsh setmaxmem test 2G --config #设置最大内存</span>
<span class="c1"># virsh setmem test 800M --config #重启后生效</span>
<span class="c1"># virsh setmem test 800M --config --live #马上生效</span></code></pre></div>
<h4 id="8-查看虚拟化客户机的资源使用情况">8. 查看虚拟化客户机的资源使用情况</h4>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># virt-top</span></code></pre></div>
<h4 id="9-一些扩展命令">9. 一些扩展命令</h4>

<p>virsh命令行：</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># virsh list #显示本地活动虚拟机</span>
<span class="c1"># virsh list --all #显示本地所有的虚拟机（活动的+不活动的）</span>
<span class="c1"># virsh define test.xml #通过配置文件定义一个虚拟机（这个虚拟机还不是活动的）</span>
<span class="c1"># virsh start test #启动名字为test的非活动虚拟机</span>
<span class="c1"># virsh create test.xml #创建虚拟机（创建后，虚拟机立即执行，成为活动主机）</span>
<span class="c1"># virsh suspend test #暂停虚拟机</span>
<span class="c1"># virsh resume test #启动暂停的虚拟机</span>
<span class="c1"># virsh shutdown test #正常关闭虚拟机</span>
<span class="c1"># virsh destroy test #强制关闭虚拟机</span>
<span class="c1"># virsh undefine test #清除虚拟机</span>
<span class="c1"># virsh dominfo test #显示虚拟机的基本信息</span>
<span class="c1"># virsh domname 2 #显示id号为2的虚拟机名</span>
<span class="c1"># virsh domid test #显示虚拟机id号</span>
<span class="c1"># virsh domuuid test #显示虚拟机的uuid</span>
<span class="c1"># virsh domstate test #显示虚拟机的当前状态</span>
<span class="c1"># virsh dumpxml test #显示虚拟机的当前配置文件（可能和定义虚拟机时的配置不同，因为当虚拟机启动时，需要给虚拟机分配id号、uuid、vnc端口号等等）</span>
<span class="c1"># virsh setmem test 512000 #给不活动虚拟机设置内存大小</span>
<span class="c1"># virsh setmaxmem test 1024000 #设定内存上限</span>
<span class="c1"># virsh setvcpus test 4 #给不活动虚拟机设置cpu个数</span>
<span class="c1"># virsh edit test #编辑配置文件（一般是在刚定义完虚拟机之后）</span>
<span class="c1"># virsh vcpuinfo test #显示客户端的虚拟 CPU 信息。</span>
<span class="c1"># virsh vcpupin test #控制客户端的虚拟 CPU 亲和性。</span>
<span class="c1"># virsh domblkstat test #显示正在运行的客户端的块设备统计。</span>
<span class="c1"># virsh domifstat test #显示正在运行的客户端的网络接口统计。</span>
<span class="c1"># virsh attach-device test #使用 XML 文件中的设备定义在客户端中添加设备。</span>
<span class="c1"># virsh attach-disk test #在客户端中附加新磁盘设备。</span>
<span class="c1"># virsh attach-interface test #在客户端中附加新网络接口。</span>
<span class="c1"># virsh detach-device test #从客户端中分离设备，使用同样的 XML 描述作为命令attach-device</span>
<span class="c1"># virsh detach-disk test #从客户端中分离磁盘设备。</span>
<span class="c1"># virsh detach-interface #从客户端中分离网络接口。</span></code></pre></div>
<h2 id="问题">问题</h2>

<blockquote>
<p>Could not open &lsquo;/root/CentOS-7-x86_64-Minimal-1708.iso&rsquo;: Permission denied</p>
</blockquote>

<p>修改<code>/etc/libvirt/qemu.conf</code></p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1">#取消注释</span>
<span class="nv">user</span> <span class="o">=</span> <span class="s2">&#34;root&#34;</span>
<span class="nv">group</span> <span class="o">=</span> <span class="s2">&#34;root&#34;</span></code></pre></div>
<p>重启libvirtd</p>

<p><code>service libvirtd restart</code></p>

<blockquote>
<p>error: 操作失败: 这个域有活跃控制台会话</p>
</blockquote>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">ps -ef<span class="p">|</span>grep <span class="s1">&#39;console VMNAME|grep -v &#39;</span>grep<span class="err">&#39;</span>
<span class="c1">#然后kill掉相应的进行</span></code></pre></div>
        </div>

        
        
        <div class="article-toc" >
            <h3></h3>
            <nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#添加虚拟机流程">添加虚拟机流程：</a>
<ul>
<li><a href="#安装kvm虚拟机">安装KVM虚拟机</a>
<ul>
<li><a href="#1-关闭防火墙-selinux">1. 关闭防火墙，selinux</a></li>
<li><a href="#2-安装kvm虚拟机">2. 安装kvm虚拟机</a></li>
<li><a href="#3-libvirt在管理本地或远程hypervisor时的表现形式如下">3. Libvirt在管理本地或远程Hypervisor时的表现形式如下。</a></li>
</ul></li>
<li><a href="#配置">配置</a>
<ul>
<li><a href="#1-修改网络配置">1. 修改网络配置</a></li>
<li><a href="#3-关闭宿主机的gso与tso功能">3. 关闭宿主机的GSO与TSO功能</a></li>
<li><a href="#4-创建基于文件夹的存储池-目录">4. 创建基于文件夹的存储池（目录）</a></li>
<li><a href="#3-在存储池中创建虚拟机存储卷-创建卷">3. 在存储池中创建虚拟机存储卷（创建卷）</a>
<ul>
<li><a href="#存储池相关管理命令">存储池相关管理命令</a></li>
</ul></li>
<li><a href="#4-安装虚拟机">4. 安装虚拟机</a></li>
<li><a href="#5-启动">5. 启动</a></li>
<li><a href="#6-动态调整cpu个数">6. 动态调整cpu个数</a></li>
<li><a href="#7-动态调整mem容量">7. 动态调整mem容量</a></li>
<li><a href="#8-查看虚拟化客户机的资源使用情况">8. 查看虚拟化客户机的资源使用情况</a></li>
<li><a href="#9-一些扩展命令">9. 一些扩展命令</a></li>
</ul></li>
</ul></li>
<li><a href="#问题">问题</a></li>
</ul></li>
</ul>
</nav>
        </div>
        
        

        


        
        <footer class="article-footer">
            <ul class="article-tag-list">
                
                <li class="article-tag-list-item">
                    <a class="article-tag-list-link" href="https://atbug.com//tags/linux">Linux
                    </a>
                </li>
                
                <li class="article-tag-list-item">
                    <a class="article-tag-list-link" href="https://atbug.com//tags/ops">ops
                    </a>
                </li>
                
                <li class="article-tag-list-item">
                    <a class="article-tag-list-link" href="https://atbug.com//tags/kvm">KVM
                    </a>
                </li>
                
            </ul>
        </footer>
        
    </div>
    <nav id="article-nav">
    
    <a href="../using-role-based-authorization-strategy-in-jenkins/" id="article-nav-newer" class="article-nav-link-wrap">
        <div class="article-nav-title"><span>&lt;</span>&nbsp;
            Jenkins CI/CD (一) 基于角色的授权策略
        </div>
    </a>
    
    
    <a href="../jenkins-cli-enable/" id="article-nav-older" class="article-nav-link-wrap">
        <div class="article-nav-title">启用Jenkins CLI&nbsp;<span>&gt;</span></div>
    </a>
    
</nav>

</article>

        
            <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "addozhang" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        
    </section>
    <footer id="footer">
    <div class="outer">
        <div id="footer-info" class="inner">
            &copy; 2019 Addo Zhang
            <br />
            Powered by <a href="https://gohugo.io" target="_blank">Hugo</a> with theme <a href="https://github.com/carsonip/hugo-theme-minos" target="_blank">Minos</a>
        </div>
    </div>
    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-47966140-1', 'auto');
	ga('set', 'anonymizeIp', true);
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>


    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/tomorrow-night.min.css" integrity="sha256-2wL88NKUqvJi/ExflDzkzUumjUM73mcK2gBvBBeLvTk=" crossorigin="anonymous" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js" integrity="sha256-KbfTjB0WZ8vvXngdpJGY3Yp3xKk+tttbqClO11anCIU=" crossorigin="anonymous"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    
    <script>
        document.getElementById('main-nav-toggle').addEventListener('click', function () {
            var header = document.getElementById('header');
            if (header.classList.contains('mobile-on')) {
                header.classList.remove('mobile-on');
            } else {
                header.classList.add('mobile-on');
            }
        });
    </script>
</footer>

</div>
</body>
</html>
