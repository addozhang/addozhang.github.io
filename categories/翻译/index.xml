<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>ç¿»è¯‘ on ä¹±ä¸–æµ®ç”Ÿ</title><link>https://atbug.com/categories/%E7%BF%BB%E8%AF%91/</link><description>Recent content in ç¿»è¯‘ on ä¹±ä¸–æµ®ç”Ÿ</description><generator>Hugo -- gohugo.io</generator><language>en</language><lastBuildDate>Tue, 11 Jan 2022 10:40:56 +0800</lastBuildDate><atom:link href="https://atbug.com/categories/%E7%BF%BB%E8%AF%91/index.xml" rel="self" type="application/rss+xml"/><item><title>eBPF å’Œ Wasmï¼šæ¢ç´¢æœåŠ¡ç½‘æ ¼æ•°æ®å¹³é¢çš„æœªæ¥</title><link>https://atbug.com/ebpf-wasm-service-mesh/</link><pubDate>Tue, 11 Jan 2022 10:40:56 +0800</pubDate><guid>https://atbug.com/ebpf-wasm-service-mesh/</guid><description>
&lt;p>æœ¬æ–‡ç¿»è¯‘è‡ª Vivian Hu çš„ &lt;a href="https://www.infoq.com/news/2022/01/ebpf-wasm-service-mesh">ã€ŠeBPF and Wasm: Exploring the Future of the Service Mesh Data Planeã€‹&lt;/a>ã€‚&lt;/p>
&lt;hr>
&lt;p>åœ¨ 2021 å¹´ 12 æœˆ 2 æ—¥ï¼ŒCilium é¡¹ç›®å®£å¸ƒäº† &lt;a href="https://cilium.io/blog/2021/12/01/cilium-service-mesh-beta">Cilium Service Mesh&lt;/a> é¡¹ç›®çš„æµ‹è¯•ç‰ˆã€‚åœ¨ 2020 å¹´ 8 æœˆ Google Cloud å®£å¸ƒåŸºäº eBPF çš„ Google Kubernetes æœåŠ¡ï¼ˆGKSï¼‰çš„æ•°æ®å¹³é¢ V2 çš„ä¸€å¹´åï¼ŒCilium Service Mesh å¸¦æ¥äº† â€œæ— è¾¹è½¦æœåŠ¡ç½‘æ ¼â€ï¼ˆsidecarless service meshï¼‰çš„æƒ³æ³•ã€‚å®ƒæ‰©å±•äº† Cilium eBPF äº§å“æ¥å¤„ç†æœåŠ¡ç½‘æ ¼ä¸­çš„å¤§éƒ¨åˆ†è¾¹è½¦ä»£ç†åŠŸèƒ½ï¼ŒåŒ…æ‹¬ 7 å±‚è·¯ç”±å’Œè´Ÿè½½å‡è¡¡ã€TLS ç»ˆæ­¢ã€è®¿é—®ç­–ç•¥ã€å¥åº·æ£€æŸ¥ã€æ—¥å¿—å’Œè·Ÿè¸ªï¼Œä»¥åŠå†…ç½®çš„ Kubernetes Ingressã€‚&lt;/p>
&lt;p>Cilium çš„åˆ›å§‹äºº Isovalent åœ¨ä¸€ç¯‡åä¸º â€œ&lt;a href="https://isovalent.com/blog/post/2021-12-08-ebpf-servicemesh">How eBPF will solve Service Mesh - Goodbye Sidecars&lt;/a>â€ çš„æ–‡ç« ä¸­è§£é‡Šäº† eBPF å¦‚ä½•æ›¿ä»£è¾¹è½¦ä»£ç†ã€‚&lt;/p>
&lt;blockquote>
&lt;p>å®ƒå°†æˆ‘ä»¬ä»è¾¹è½¦æ¨¡å‹ä¸­è§£æ”¾å¤„ç†ï¼Œå¹¶å…è®¸æˆ‘ä»¬å°†ç°æœ‰çš„ä»£ç†æŠ€æœ¯é›†æˆåˆ°ç°æœ‰çš„å†…æ ¸å‘½åç©ºé—´æ¦‚å¿µä¸­ï¼Œä½¿å…¶æˆä¸ºæ—¥å¸¸ä½¿ç”¨çš„ä¼˜é›…å®¹å™¨æŠ½è±¡çš„ä¸€éƒ¨åˆ†ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>ç®€è€Œè¨€ä¹‹ï¼ŒeBPF æ‰¿è¯ºä¼šè§£å†³æœåŠ¡ç½‘æ ¼ä¸­çš„é‡è¦ç—›ç‚¹ &amp;ndash; å½“æœ‰è®¸å¤šç»†ç²’åº¦å¾®æœåŠ¡æ—¶çš„æ€§èƒ½æŸè€—ã€‚ç„¶è€Œï¼Œä½¿ç”¨ eBPF æ›¿æ¢è¾¹è½¦ä»£ç†è¿™ç§æ–°é¢–çš„æƒ³æ³•ï¼Œä¹Ÿå­˜åœ¨ç€äº‰è®®ã€‚&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2022/01/11/16418644881451.jpg" alt="å›¾ç‰‡æ¥è‡ª How eBPF will solve Service Mesh - Goodbye Sidecars">&lt;/p>
&lt;p>æœåŠ¡ç½‘æ ¼ä¸­çš„æ•°æ®å¹³é¢æ˜¯æŒ‡ç®¡ç†æ•°æ®æµé‡å¦‚ä½•è·¯ç”±å’ŒæœåŠ¡ä¹‹é—´çš„æµè½¬çš„åŸºç¡€è®¾æ–½æœåŠ¡ã€‚ç›®å‰ï¼Œè¿™æ˜¯é€šè¿‡ä½¿ç”¨æœåŠ¡ä»£ç†å®ç°çš„ã€‚è¿™ç§è®¾è®¡æ¨¡å¼ä¹Ÿé€šå¸¸è¢«ç§°ä¸ºè¾¹è½¦æ¨¡å¼ã€‚è¾¹è½¦å…è®¸å…¶é™„åŠ çš„å¾®æœåŠ¡é€æ˜åœ°å‘æœåŠ¡ç½‘æ ¼ä¸­çš„å…¶ä»–ç»„ä»¶å‘é€å’Œæ¥æ”¶è¯·æ±‚ã€‚&lt;/p>
&lt;p>è¾¹è½¦é€šå¸¸åŒ…å«äº† 7 å±‚ä»£ç†ï¼Œæ¯”å¦‚ &lt;a href="https://envoyproxy.io/">Envoy&lt;/a>ã€&lt;a href="https://linkerd.io/">Linkerd&lt;/a> æˆ–è€… &lt;a href="https://mosn.io/en/">MOSN&lt;/a>ã€‚è¯¥ä»£ç†å¤„ç†æµé‡çš„è·¯ç”±ã€è´Ÿè½½å‡è¡¡ã€å¥åº·æ£€æŸ¥ã€èº«ä»½éªŒè¯ã€æˆæƒã€åŠ å¯†ã€æ—¥å¿—ã€è·Ÿè¸ªå’Œç»Ÿè®¡æ•°æ®æ”¶é›†ã€‚è¾¹è½¦è¿˜å¯ä»¥åŒ…å«ä¸€ä¸ªåŸºäº SDK çš„åº”ç”¨ç¨‹åºæ¡†æ¶ï¼ˆæ¯”å¦‚ &lt;a href="https://dapr.io/">Dapr&lt;/a>ï¼‰ä»¥æä¾›ç½‘ç»œä»£ç†ä»¥å¤–çš„åº”ç”¨ç¨‹åºæœåŠ¡ã€‚æ­¤ç±»æœåŠ¡çš„ç¤ºä¾‹è¿˜åŒ…å«äº†æœåŠ¡æ³¨å†Œã€æœåŠ¡å‘ç°ã€èµ„æºç»‘å®šã€åŸºäºåç§°çš„æœåŠ¡è°ƒç”¨ã€çŠ¶æ€ç®¡ç†ã€actor æ¡†æ¶ å’Œå¯†é’¥å­˜å‚¨ã€‚&lt;/p>
&lt;p>è¾¹è½¦ä»£ç†é€šå¸¸åœ¨ Kubernetes Pod æˆ–è€…å®¹å™¨ä¸­è¿è¡Œã€‚å¾®æœåŠ¡åº”ç”¨ä¹ŸåŒæ ·è¿è¡Œåœ¨å®¹å™¨å†…ï¼Œå¹¶é€šè¿‡ç½‘ç»œæ¥å£è¿æ¥åˆ°è¾¹è½¦ã€‚ç„¶è€Œï¼Œè¿™äº›å®¹å™¨åŒ–åº”ç”¨ç¨‹åºçš„ä¸€ä¸ªé‡è¦é—®é¢˜å°±æ˜¯èµ„æºæ¶ˆè€—ã€‚è¾¹è½¦æœåŠ¡éšç€å¾®æœåŠ¡çš„æ•°é‡å‡ ä½•çº§å¢é•¿ã€‚å½“åº”ç”¨ç¨‹åºæœ‰æ•°ç™¾ä¸ªäº’è”å’Œè´Ÿè½½å‡è¡¡çš„å¾®æœåŠ¡æ—¶ï¼Œå¼€é”€å˜å¾—éš¾ä»¥æ¥å—ã€‚æœåŠ¡ç½‘æ ¼ä»£ç†å•†å¼€å§‹äº†æ€§èƒ½ä¸Šçš„ç«äº‰ã€‚æ­£å¦‚ &lt;a href="https://www.infoq.com/news/2021/08/linkerd-rust-cloud-native/">Infoq ä¹‹å‰æŠ¥é“çš„é‚£æ ·&lt;/a>ï¼ŒLinkerd å°†å…¶ Go å†™çš„ä»£ç†ç”¨ Rust é‡å†™äº†ï¼Œå¹¶è·å¾—äº†æ˜¾è‘—çš„æ€§èƒ½æå‡ã€‚&lt;/p>
&lt;p>å¹¶ä¸å¥‡æ€ªï¼Œç°æœ‰çš„æœåŠ¡ç½‘æ ¼æä¾›å•†ä¸ç›¸ä¿¡ eBPF æ˜¯è§£å†³æ‰€æœ‰é—®é¢˜çš„åœ£æ¯ã€‚Solo.io çš„ Idit Levine ç­‰äººé’ˆå¯¹ Cilium çš„è¿™ç¯‡å…¬å‘Šæ’°å†™äº†ä¸€ç¯‡æ–‡ç«  â€œ&lt;a href="https://www.solo.io/blog/ebpf-for-service-mesh/">eBPF for Service Mesh? Yes, But Envoy Proxy is Here to Stay&lt;/a>â€ã€‚&lt;/p>
&lt;blockquote>
&lt;p>åœ¨ Solo.ioï¼Œæˆ‘ä»¬è®¤ä¸º eBPF æ˜¯ä¼˜åŒ–æœåŠ¡ç½‘æ ¼çš„å¾ˆå¥½çš„æ–¹å¼ï¼Œå¹¶å°† Envoy ä»£ç†è§†ä¸ºæ•°æ®å¹³é¢çš„åŸºçŸ³ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>Solo.io ä½œè€…æå‡ºçš„è§‚ç‚¹æ˜¯ï¼šè¾¹è½¦ä»£ç†ç°åœ¨æ‰€åšçš„ä¸ä»…ä»…æ˜¯ç®€å•çš„ç½‘ç»œæµé‡ç®¡ç†ã€‚å½“ä»Šçš„æœåŠ¡ç½‘æ ¼éƒ¨ç½²ä¸­æœ‰ç€å¤æ‚çš„éœ€æ±‚ï¼Œè¿œè¶…è¿‡ eBPF æ”¯æŒçš„æœ‰é™ç¼–ç¨‹æ¨¡å‹ï¼Œå…¶ä¸ç¬¦åˆå›¾çµå®Œå¤‡æ€§ä¸”å—åˆ°å†…æ ¸å®‰å…¨çš„è¯¸å¤šé™åˆ¶ã€‚Cilium eBPF äº§å“å¯ä»¥å¤„ç†è¾¹è½¦ä»£ç†è®¸å¤šä½†å¹¶ä¸æ˜¯å…¨éƒ¨çš„ä»»åŠ¡ã€‚æ­¤å¤–ï¼ŒSolo.io çš„ä½œè€…è¿˜æŒ‡å‡ºï¼ŒeBPF çš„èŠ‚ç‚¹çº§ä»£ç†ä¸ä¼ ç»Ÿçš„ Pod çº§è¾¹è½¦ä»£ç†ç›¸æ¯”ç¼ºä¹çµæ´»æ€§ï¼Œåè€Œå¢åŠ äº†æ•´ä½“å¼€é”€ã€‚eBPF ç¼ºé™·åœ¨å¼€å‘äººå‘˜å¿…é¡»ç¼–å†™å¹¶éƒ¨ç½²åˆ°æœåŠ¡ç½‘æ ¼ä»£ç†ä¸­çš„æµé‡è·¯ç”±ã€è´Ÿè½½å‡è¡¡å’Œæˆæƒçš„ç‰¹å®šåº”ç”¨ç¨‹åºé€»è¾‘ä¸­ä½“ç°å¾—å°¤ä¸ºæ˜æ˜¾ã€‚&lt;/p>
&lt;p>Terate.io çš„å¼€å‘äººå‘˜åœ¨å›åº”åä¸º &lt;a href="">The Debate in the Community about Istio and Service Mesh&lt;/a> çš„ Cilium å…¬å‘Šä¸­ä¹Ÿæå‡ºäº†ç±»ä¼¼çš„è§‚ç‚¹ã€‚ä»–ä»¬æŒ‡å‡ºï¼Œå½“å‰è¾¹è½¦ä»£ç†çš„æ€§èƒ½æ˜¯åˆç†çš„ï¼Œå¼€æºç¤¾åŒºä¹Ÿå·²ç»æœ‰äº†è¿›ä¸€æ­¥æé«˜æ€§èƒ½çš„æ–¹æ³•ã€‚ä¸æ­¤åŒæ—¶ï¼Œå¼€å‘äººå‘˜å¾ˆéš¾åœ¨ eBPF ç­‰æ–°é¢–ä½†å›¾çµä¸å®Œæ•´çš„æŠ€æœ¯ä¸­æ„å»ºåº”ç”¨ç¨‹åºç‰¹å®šçš„æ•°æ®å¹³é¢é€»è¾‘ã€‚&lt;/p>
&lt;blockquote>
&lt;p>Istio æ¶æ„ç¨³å®šä¸”ç”Ÿäº§å°±ç»ªï¼Œç”Ÿæ€ç³»ç»Ÿæ­£åœ¨å‘å±•æœŸã€‚&lt;/p>
&lt;/blockquote>
&lt;p>eBPF çš„è®¸å¤šé—®é¢˜ä¸å…¶æ˜¯ä¸€ç§å†…æ ¸æŠ€æœ¯åˆ†ä¸å¼€ï¼Œå¿…å®šæ”¶åˆ°å®‰å…¨é™åˆ¶ã€‚æœ‰æ²¡æœ‰ä¸€ç§æ–¹æ³•å¯ä»¥åœ¨ä¸ä½¿ç”¨ç©ºé—´æŠ€æœ¯é™ä½æ€§èƒ½çš„æƒ…å†µä¸‹å°†å¤æ‚çš„åº”ç”¨ç¨‹åºç‰¹å®šçš„ä»£ç†é€»è¾‘é›†æˆåˆ°æ•°æ®å¹³é¢ä¸­ï¼Ÿäº‹å®è¯æ˜ï¼ŒWebAssemblyï¼ˆWasmï¼‰å¯èƒ½ä¼šæ˜¯ä¸ªé€‰æ‹©ã€‚Wasm è¿è¡Œæ—¶å¯ä»¥ä»¥è¿‘ä¼¼åŸç”Ÿæ€§èƒ½å®‰å…¨åœ°éš”ç¦»å’Œæ‰§è¡Œç”¨æˆ·ç©ºé—´ä»£ç ã€‚&lt;/p>
&lt;p>Envoy Proxy ç‡å…ˆä½¿ç”¨ Wasm ä½œä¸ºæ‰©å±•æœºåˆ¶å¯¹æ•°æ®å¹³é¢çš„ç¼–ç¨‹ã€‚å¼€å‘äººå‘˜å¯ä»¥ç”¨Cã€C++ã€Rustã€AssemblyScriptã€Swift å’Œ TinyGO ç­‰è¯­è¨€ç¼–å†™åº”ç”¨ç¨‹åºç‰¹å®šçš„ä»£ç†é€»è¾‘ï¼Œå¹¶å°†æ¨¡å—ç¼–è¯‘ä¸º Wasmã€‚é€šè¿‡proxy-Wasm æ ‡å‡†ï¼Œä»£ç†å¯ä»¥åœ¨ä¾‹å¦‚ &lt;a href="https://github.com/bytecodealliance/wasmtime">Wasmtime&lt;/a> å’Œ &lt;a href="https://github.com/WasmEdge/WasmEdge">WasmEdge&lt;/a> çš„é«˜æ€§èƒ½è¿è¡Œæ—¶æ‰§è¡Œè¿™äº› Wasm æ’ä»¶ã€‚ç›®å‰ï¼Œ&lt;a href="https://envoyproxy.io/">Envoy ä»£ç†&lt;/a>ã€&lt;a href="https://github.com/istio/proxy">Istio ä»£ç†&lt;/a>ã€MOSN å’Œ &lt;a href="http://openresty.org/">OpenResty&lt;/a> æ”¯æŒ &lt;a href="https://github.com/proxy-wasm">proxy-Wasm&lt;/a>ã€‚&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2022/01/11/16418673669621.jpg" alt="å®¹å™¨ç”Ÿæ€ æ¥è‡ª WasmEdge Book">&lt;/p>
&lt;p>æ­¤å¤–ï¼ŒWasm å¯ä»¥å……å½“é€šç”¨åº”ç”¨ç¨‹åºå®¹å™¨ã€‚å®ƒåœ¨æœåŠ¡ç½‘æ ¼æ•°æ®å¹³é¢ä¸Šçš„åº”ç”¨ä¸ä»…é™äºè¾¹è½¦ä»£ç†ã€‚é™„åŠ åˆ°è¾¹è½¦çš„å¾®æœåŠ¡ä¹Ÿå¯ä»¥è¿è¡Œåœ¨è½»é‡çº§ Wasm è¿è¡Œæ—¶ä¸­ã€‚WasmEdge WebAssembly è¿è¡Œæ—¶æ˜¯ä¸€ä¸ªå®‰å…¨ã€è½»é‡çº§ã€å¿«é€Ÿã€ä¾¿æºå¼å’Œå¤šè¯­è¨€è¿è¡Œæ—¶ï¼ŒKubernetes å¯ä»¥ç›´æ¥&lt;a href="https://wasmedge.org/book/en/kubernetes.html">å°†å…¶ä½œä¸ºå®¹å™¨è¿›è¡Œç®¡ç†&lt;/a>ã€‚åˆ° 2012 å¹´ 12 æœˆï¼ŒWasmEdge è´¡çŒ®è€…ç¤¾åŒºéªŒè¯äº†åŸºäº WasEdge çš„å¾®æœåŠ¡å¯ä»¥ä¸ &lt;a href="https://github.com/second-state/dapr-wasm">Dapr&lt;/a> å’Œ &lt;a href="https://github.com/Liquid-Reply/kind-crun-wasm">Linkerd&lt;/a> è¾¹è½¦ä¸€åŒå·¥ä½œï¼Œä½œä¸ºå¸¦æœ‰ guest æ“ä½œç³»ç»Ÿå’Œå®Œæ•´è½¯ä»¶å¯¹æˆ˜çš„é‡é‡çº§ Linux å®¹å™¨çš„æ›¿ä»£å“ã€‚ä¸ Linux å®¹å™¨åº”ç”¨ç¨‹åºç›¸æ¯”ï¼ŒWebAssembly å¾®æœåŠ¡æ¶ˆè€—äº† 1% çš„èµ„æºï¼Œå†·å¯åŠ¨æ—¶é—´ä¹Ÿåªç”¨äº† 1%ã€‚&lt;/p>
&lt;p>eBPF å’Œ Wasm æ˜¯æœåŠ¡ç½‘æ ¼åº”ç”¨çš„æ–°æ–¹å‘ï¼Œä»¥ä¾¿åœ¨æ•°æ®å¹³é¢ä¸Šå®ç°é«˜æ€§èƒ½ã€‚ä»–ä»¬ä»ç„¶æ˜¯æ–°å…´æŠ€æœ¯ï¼Œä½†å¯èƒ½ä¼šæˆä¸ºå¾®æœåŠ¡ç”Ÿæ€ç³»ç»Ÿ Linux å®¹å™¨çš„æ›¿ä»£å“æˆ–è€…è¡¥å……ã€‚&lt;/p>
&lt;p>&lt;strong>å…³äºä½œè€…ï¼š&lt;/strong>&lt;/p>
&lt;p>Vivian Huï¼šVivian æ˜¯äºšæ´²çš„å¼€æºçˆ±å¥½è€…å’Œå¼€å‘äººå‘˜å€¡å¯¼è€…ï¼ŒSecond State çš„äº§å“ç»ç†ã€‚å¥¹éå¸¸å…³å¿ƒé€šè¿‡æ›´å¥½çš„å·¥å…·ã€æ–‡æ¡£å’Œæ•™ç¨‹æ¥æ”¹å–„å¼€å‘äººå‘˜ä½“éªŒå’Œç”Ÿäº§åŠ›ã€‚Vivian åœ¨ WebAssembly.today ä¸Šä¸º WebAssemblyã€Rust å’Œæ— æœåŠ¡å™¨ç¼–å†™æ¯å‘¨æ—¶äº‹é€šè®¯ã€‚&lt;/p></description></item><item><title>OpenFaaS - ä»¥è‡ªå·±çš„æ–¹å¼è¿è¡Œå®¹å™¨åŒ–å‡½æ•°</title><link>https://atbug.com/openfaas-case-study-zh/</link><pubDate>Fri, 17 Dec 2021 09:13:59 +0800</pubDate><guid>https://atbug.com/openfaas-case-study-zh/</guid><description>
&lt;p>&lt;strong>è¯‘è€…æ³¨ï¼š&lt;/strong>
æœ¬æ–‡ç¯‡å¹…è¾ƒé•¿ï¼Œæœ‰åŠ©äºäº†è§£ FaaS å’Œ OpenFaaSã€‚ä½œè€…åˆ†åˆ«ä»å¼€å‘äººå‘˜å’Œè¿ç»´äººå‘˜çš„è§†è§’æ¥äº†è§£ OpenFaaSï¼Œå¯¹äº†è§£æ–°çš„æŠ€æœ¯æ˜¯ä¸ªå¾ˆå¥½çš„æ–¹å¼ã€‚&lt;/p>
&lt;p>æœ¬æ–‡ç¿»è¯‘è‡ª &lt;a href="https://twitter.com/iximiuz">Ivan Velichko&lt;/a> çš„ &lt;a href="https://iximiuz.com/en/posts/openfaas-case-study/">OpenFaaS - Run Containerized Functions On Your Own Terms&lt;/a>ã€‚&lt;/p>
&lt;hr>
&lt;p>é•¿æœŸä»¥æ¥ï¼Œ&lt;em>æ— æœåŠ¡å™¨ï¼ˆserverlessï¼‰&lt;/em> å¯¹æˆ‘æ¥è¯´æ— éå°±æ˜¯ AWS Lambda çš„ä»£åè¯ã€‚Lambda æä¾›äº†ä¸€ç§æ–¹ä¾¿çš„é€”å¾„ï¼Œå¯ä»¥å°†ä»»æ„ä»£ç é™„åŠ åˆ°å¹³å°äº‹ä»¶ï¼ˆäº‘å®ä¾‹çš„çŠ¶æ€å˜æ›´ã€DynamoDB è®°å½•çš„æ›´æ–°æˆ–æ–°çš„ SNS æ¶ˆæ¯ï¼‰ä¸­ã€‚ä½†æ˜¯ï¼Œæˆ‘æ—¶ä¸æ—¶ä¼šæƒ³åˆ°æŸä¸ªé€»è¾‘ï¼Œä½†å…¶åˆæ²¡å¤§åˆ°è¶³ä»¥æœ‰è‡ªå·±çš„æœåŠ¡ï¼ŒåŒæ—¶æœ‰ä¸é€‚åˆä»»ä½•ç°æœ‰æœåŠ¡çš„èŒƒå›´ã€‚å› æ­¤ï¼Œæˆ‘ç»å¸¸å°†å…¶æ”¾å…¥å‡½æ•°ä¸­ï¼Œä»¥ä¾¿æ—¥åä½¿ç”¨ CLI å‘½ä»¤æˆ–è€… HTTP è°ƒç”¨æ¥è°ƒç”¨å®ƒã€‚&lt;/p>
&lt;p>å‡ å¹´å‰ï¼Œæˆ‘æ¥å¼€äº† AWSï¼Œè‡ªé‚£ä»¥åï¼Œæˆ‘ä¸€ç›´æ€€å¿µéƒ¨ç½²æ— æœåŠ¡å™¨åŠŸèƒ½çš„ä¾¿åˆ©æ€§ã€‚å› æ­¤ï¼Œå½“æˆ‘å¾—çŸ¥ &lt;a href="https://www.openfaas.com">OpenFaaS&lt;/a>
é¡¹ç›®æ—¶æƒŠå–œä¸‡åˆ†ã€‚å®ƒå°†åœ¨ Kubernetes é›†ç¾¤ä¸Šéƒ¨ç½²å‡½æ•°å˜å¾—ç®€å•ï¼Œç”šè‡³ä»…éœ€è¦ Containerd å°±å¯ä»¥éƒ¨ç½²åˆ°è™šæ‹Ÿæœºä¸Šã€‚&lt;/p>
&lt;p>æœ‰å…´è¶£ï¼Ÿé‚£ä¹ˆç»§ç»­ï¼&lt;/p>
&lt;h2 id="æ— æœåŠ¡å™¨ä¸-faas">æ— æœåŠ¡å™¨ä¸ FaaS&lt;/h2>
&lt;p>&lt;a href="https://en.wikipedia.org/wiki/Serverless_computing">æ— æœåŠ¡å™¨&lt;/a> å·²æˆä¸ºä¸€ä¸ªæµè¡Œè¯ï¼Œç›®å‰å…¶å®é™…å«ä¹‰æ‰”ä¸å¤Ÿæ¸…æ™°ã€‚&lt;/p>
&lt;p>è®¸å¤šç°ä»£å¹³å°è¢«è§†ä¸º &lt;em>æ— æœåŠ¡å™¨&lt;/em> å¹³å°ã€‚åœ¨ AWS Fargate æˆ– GCP Cloud Run ä¸Šéƒ¨ç½²å®¹å™¨åŒ–æœåŠ¡ï¼Ÿæ— æœåŠ¡å™¨ï¼åœ¨ Heroku ä¸Šè¿è¡Œåº”ç”¨ç¨‹åºï¼Ÿä¹Ÿå¯èƒ½æ˜¯æ— æœåŠ¡å™¨çš„ã€‚&lt;/p>
&lt;p>åŒæ—¶ï¼Œæˆ‘æ›´å–œæ¬¢å°† &lt;a href="https://en.wikipedia.org/wiki/Function_as_a_service">FaaS&lt;/a> è§†ä¸ºä¸€ç§å…·ä½“çš„è®¾è®¡æ¨¡å¼ã€‚æŒ‰ç…§ FaaS èŒƒå¼ï¼Œå¯ä»¥éƒ¨ç½²ä»£ç ç‰‡æ®µï¼ˆå“åº”æŸäº›å¤–éƒ¨æ—¶é—´æ‰§è¡Œçš„&lt;em>å‡½æ•°&lt;/em>ï¼‰ã€‚è¿™äº›å‡½æ•°ä¸äº‹ä»¶é©±åŠ¨ç¨‹åºä¸­çš„å›è°ƒç±»ä¼¼ï¼Œä½†æ˜¯æ˜¯è¿è¡Œåœ¨å…¶ä»–äººçš„çš„æœåŠ¡å™¨ä¸Šã€‚ç”±äºæ“ä½œçš„æ˜¯å‡½æ•°è€Œä¸æ˜¯æœåŠ¡å™¨ï¼Œé¡¾åæ€ä¹‰ FaaS æ˜¯æ— æœåŠ¡å™¨çš„ã€‚&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/12/17/20211217-at-001929.png" alt="">
&lt;em>&lt;a href="https://twitter.com/iximiuz/status/1465273596033609736?ref_src=twsrc%255Etfw%257Ctwcamp%255Etweetembed%257Ctwterm%255E1465273596033609736%257Ctwgr%255E%257Ctwcon%255Es1_&amp;amp;ref_url=https%253A%252F%252Fiximiuz.com%252Fen%252Fposts%252Fopenfaas-case-study%252F">source&lt;/a>&lt;/em>&lt;/p>
&lt;p>&lt;strong>OpenFaaS é¡¹ç›®æ—¨åœ¨å°† Kubernetes é›†ç¾¤æˆ–è€…ç‹¬ç«‹çš„è™šæ‹Ÿæœºç­‰ä½çº§åŸºç¡€è®¾æ–½è½¬åŒ–ä¸ºç®¡ç†æ— æœåŠ¡å™¨å‡½æ•°çš„é«˜çº§å¹³å°ã€‚&lt;/strong>&lt;/p>
&lt;p>&lt;strong>ç«™åœ¨å¼€å‘äººå‘˜çš„è§’åº¦&lt;/strong>ï¼Œè¿™æ ·ä¸€ä¸ªå¹³å°çœ‹èµ·æ¥æ˜¯çœŸçš„æ— æœåŠ¡å™¨çš„ &amp;ndash; ä½ åªéœ€è¦çŸ¥é“ç‰¹å®šçš„ CLI/UI/API æ¥å¤„ç† &lt;em>å‡½æ•°&lt;/em> æŠ½è±¡ã€‚ä½†&lt;strong>ç«™åœ¨è¿ç»´çš„è§’åº¦&lt;/strong>ï¼Œéœ€è¦äº†è§£ OpenFaaS å¦‚ä½•ä½¿ç”¨ &lt;em>æœåŠ¡å™¨&lt;/em> æ¥è¿è¡Œè¿™äº›å‡½æ•°ã€‚&lt;/p>
&lt;p>å°±æˆ‘è€Œè¨€ï¼Œæˆ‘ç»å¸¸æ—¢æ˜¯å¼€å‘åˆæ˜¯è¿ç»´ï¼Œä¸‹é¢æˆ‘å°†å°è¯•ä»äºŒè€…å±•å¼€è¯´æ˜ã€‚ç„¶è€Œï¼Œæˆ‘è®¤ä¸ºåœ¨è¯„ä¼° UX æ—¶ï¼Œæˆ‘ä»¬åº”è¯¥æ˜ç¡®åŒºåˆ†å®ƒä»¬ã€‚&lt;/p>
&lt;h2 id="å¼€å‘äººå‘˜çœ¼ä¸­çš„-openfaas">å¼€å‘äººå‘˜çœ¼ä¸­çš„ OpenFaaS&lt;/h2>
&lt;p>OpenFaaS åˆ›å»ºäº 2016 å¹´ï¼Œç°åœ¨ç½‘ä¸Šä¹Ÿæœ‰å¤§é‡çš„æ•™ç¨‹ã€‚è¿™é‡Œä¸ä¼šé‡å¤ä»‹ç»ï¼Œä½†å¯ä»¥é€šè¿‡ä»¥ä¸‹é“¾æ¥äº†è§£ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://docs.openfaas.com/deployment/">How to deploy OpenFaaS&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.openfaas.com/cli/templates/">Create Functions&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.openfaas.com/cli/build/">Build Functions&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.openfaas.com/cli/templates/#nodejs-12-node12-of-watchdog-template">Writing a Node.js function - step-by-step guide&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>ç›¸åï¼Œæˆ‘å°†æè¿°æˆ‘æ‰€ç†è§£çš„ OpenFaaSã€‚æˆ‘å¸Œæœ›æœ‰åŠ©äºä¸€äº›éœ€è¦è¯„ä¼°è¯¥æŠ€æœ¯æ˜¯å¦è§£å†³å…¶é—®é¢˜çš„äººï¼Œä»¥åŠé‚£äº›å¸Œæœ›æ›´æœ‰æ•ˆåœ°ä½¿ç”¨è¯¥æŠ€æœ¯çš„äººã€‚&lt;/p>
&lt;h3 id="å‡½æ•°è¿è¡Œæ—¶">å‡½æ•°è¿è¡Œæ—¶&lt;/h3>
&lt;p>åœ¨è¿›å…¥æ­£å¼ç¼–ç ä¹‹å‰ï¼Œæœ‰å¿…è¦äº†è§£ä¸‹å…¶æœªæ¥çš„æ‰§è¡Œç¯å¢ƒï¼ˆåˆåè¿è¡Œæ—¶ï¼‰ã€‚æˆ–è€…ï¼Œç®€å•è¯´ï¼š&lt;/p>
&lt;ul>
&lt;li>å¦‚ä½•å¯åŠ¨å‡½æ•°&lt;/li>
&lt;li>å¦‚ä½•ç»„ç»‡ I/O æ“ä½œ&lt;/li>
&lt;li>å¦‚ä½•é‡ç½® / ç»ˆæ­¢å‡½æ•°&lt;/li>
&lt;li>å¦‚ä½•éš”ç¦»å‡½æ•°å’Œè°ƒç”¨&lt;/li>
&lt;/ul>
&lt;p>OpenFaaS è‡ªå¸¦å¤šä¸ªè¿è¡Œæ—¶æ¨¡å¼ï¼Œè¿™äº›æ¨¡å¼é’ˆå¯¹ä¸åŒçš„åœºæ™¯å®šåˆ¶ã€‚å› æ­¤ï¼Œä¸åŒçš„åœºæ™¯ä¸‹ä¸Šè¿°é—®é¢˜çš„ç­”æ¡ˆä¼šç•¥æœ‰ä¸åŒã€‚&lt;/p>
&lt;p>&lt;strong>OpenFaaS å‡½æ•°åœ¨å®¹å™¨ä¸­è¿è¡Œ&lt;/strong>ï¼Œå¹¶ä¸”æ¯ä¸ªå®¹å™¨å¿…é¡»éµå®ˆ&lt;a href="https://docs.openfaas.com/reference/workloads/">ç®€å•çš„çº¦å®š&lt;/a> ï¼šå®ƒä½œä¸ºç›‘å¬åœ¨é¢„è®¾ç«¯å£ï¼ˆé»˜è®¤ä¸º &lt;em>8080&lt;/em>ï¼‰ä¸Šçš„ HTTP æœåŠ¡å™¨ï¼Œä¸´æ—¶å­˜å‚¨å¹¶ä¸”æ˜¯æ— çŠ¶æ€çš„ã€‚&lt;/p>
&lt;p>ç„¶è€Œï¼ŒOpenFaaS é€šè¿‡ &lt;em>å‡½æ•° watchdog&lt;/em>ï¼ˆè¯‘è€…æ³¨ï¼šwatchdog ä¸åšç¿»è¯‘ï¼‰æ¨¡å¼é¿å…äº†ç”¨æˆ·ç¼–å†™æ­¤ç±»æœåŠ¡å™¨ã€‚&lt;em>å‡½æ•° watchdog&lt;/em> æ˜¯ä¸€ç§è½»é‡çº§ HTTP æœåŠ¡å™¨ï¼Œå¯ä»¥æ„ŸçŸ¥å¦‚ä½•æ‰§è¡Œå®é™…å‡½æ•°ä¸šåŠ¡é€»è¾‘ã€‚å› æ­¤ï¼Œå®‰è£…åœ¨å®¹å™¨ä¸­çš„æ‰€æœ‰å†…å®¹åŠ ä¸Šä½œä¸ºå…¥å£ç‚¹çš„ watchdogï¼Œå°±æ„æˆäº†å‡½æ•°çš„è¿è¡Œæ—¶ç¯å¢ƒã€‚&lt;/p>
&lt;h4 id="ç»å…¸-watchdog">ç»å…¸ watchdog&lt;/h4>
&lt;p>ä»&lt;strong>æœ€ç®€å•&lt;/strong>çš„å¼€å§‹ï¼Œæˆ–è€…åˆæ˜¯è¢«ç§°ä¸º&lt;a href="https://github.com/openfaas/classic-watchdog">&lt;em>ç»å…¸&lt;/em> watchdog&lt;/a>ï¼š&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/12/17/16396730767429.png" alt="">&lt;/p>
&lt;p>è¿™ç§æ¨¡å¼ä¸‹ï¼Œwatchdog å¯åŠ¨äº†ç›‘å¬åœ¨ &lt;em>8080&lt;/em> ç«¯å£çš„è½»é‡çº§ HTTP æœåŠ¡å™¨ï¼Œæ¯ä¸ªè¿›æ¥çš„è¯·æ±‚éƒ½ä¼šï¼š&lt;/p>
&lt;ul>
&lt;li>è¯»å–è¯·æ±‚å¤´å’Œè¯·æ±‚ä½“&lt;/li>
&lt;li>fork æˆ–è€… exec åŒ…å«å®é™…å‡½æ•°çš„å¯æ‰§è¡Œæ–‡ä»¶&lt;/li>
&lt;li>å°†è¯·æ±‚å¤´å’Œè¯·æ±‚ä½“å†™å…¥åˆ°å‡½æ•°è¿›ç¨‹çš„ &lt;em>stdin&lt;/em>&lt;/li>
&lt;li>ç­‰å¾…å‡½æ•°è¿›ç¨‹çš„é€€å‡ºï¼ˆæˆ–è€…è¶…å¸‚ï¼‰&lt;/li>
&lt;li>è¯»å–å‡½æ•°è¿›ç¨‹çš„ &lt;em>stdout&lt;/em> å’Œ &lt;em>stderr&lt;/em>&lt;/li>
&lt;li>åœ¨ HTTP å“åº”ä¸­å°†å»è¯»çš„å­—èŠ‚å‘é€å›è°ƒç”¨æ–¹&lt;/li>
&lt;/ul>
&lt;p>ä¸Šè¿°é€»è¾‘ç±»ä¼¼äºä¼ ç»Ÿçš„ &lt;a href="https://en.wikipedia.org/wiki/Common_Gateway_Interface">é€šç”¨ç½‘å…³æ¥å£ï¼ˆCGIï¼‰&lt;/a>ã€‚ä¸€æ–¹é¢ï¼Œæ¯æ¬¡å‡½æ•°è°ƒç”¨éƒ½å¯åŠ¨å•ç‹¬çš„è¿›ç¨‹çœ‹èµ·æ¥ä¸å¤Ÿé«˜æ•ˆï¼Œè€Œå¦ä¸€æ–¹é¢ï¼Œå®ƒç¡®å®è¶…çº§æ–¹ä¾¿ï¼Œå› ä¸º &lt;strong>ä»»ä½•ä½¿ç”¨ &lt;em>stdio&lt;/em> æµè¿›è¡Œ I/O å¤„ç†çš„ç¨‹åºï¼ˆåŒ…æ‹¬æœ€å–œæ¬¢çš„ CLI å·¥å…·ï¼‰éƒ½å¯ä»¥éƒ¨ç½²ä¸º OpenFaaS å‡½æ•°&lt;/strong>ã€‚&lt;/p>
&lt;p>æèµ·&lt;strong>éš”ç¦»&lt;/strong>ï¼Œæˆ‘ä»¬æœ‰å¿…è¦åŒºåˆ†ä¸‹&lt;em>å‡½æ•°&lt;/em>å’Œ&lt;em>è°ƒç”¨&lt;/em>ï¼š&lt;/p>
&lt;ul>
&lt;li>OpenFaaS ä¸­çš„ä¸åŒå‡½æ•°å§‹ç»ˆåˆ†å¸ƒåœ¨ä¸åŒçš„å®¹å™¨ä¸­&lt;/li>
&lt;li>ä¸€ä¸ªå‡½æ•°å¯ä»¥æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨ â€”â€” å–å†³äºç¼©æ”¾é€‰é¡¹&lt;/li>
&lt;li>åŒä¸€å‡½æ•°çš„ç‹¬ç«‹è°ƒç”¨å¯èƒ½ä¼šæœ€ç»ˆè¿›å…¥åŒä¸€ä¸ªå®¹å™¨&lt;/li>
&lt;li>åŒä¸€å‡½æ•°çš„ç‹¬ç«‹è°ƒç”¨å°†å§‹ç»ˆä½¿ç”¨ä¸åŒçš„è¿›ç¨‹è¿›è¡Œ&lt;/li>
&lt;/ul>
&lt;h4 id="åå‘ä»£ç†-watchdog">åå‘ä»£ç† watchdog&lt;/h4>
&lt;p>&lt;em>æ³¨æ„ï¼šä½¿ç”¨ OpenFaaS å®˜æ–¹æœ¯è¯­ï¼Œæœ¬èŠ‚è®¨è®ºåœ¨ HTTP æ¨¡å¼ä¸‹è¿è¡Œçš„ &lt;a href="https://github.com/openfaas/of-watchdog">of-watchdog&lt;/a>ã€‚ä½†æˆ‘ä¸ªäººè®¤ä¸ºç§°ä¹‹ä¸ºåå‘ä»£ç† watchdog æ›´åŠ å½¢è±¡ã€‚&lt;/em>&lt;/p>
&lt;p>å¦‚æœ &lt;strong>ç»å…¸&lt;/strong> è¿è¡Œæ—¶ç±»ä¼¼äº CGIï¼Œé‚£ä¹ˆè¿™ä¸ªè¿è¡Œæ—¶æ¨¡å¼ç±»ä¼¼äºåæ¥çš„ &lt;a href="https://en.wikipedia.org/wiki/FastCGI">FastCGI&lt;/a>ã€‚è¿è¡Œæ—¶å¸Œæœ›åœ¨ watchdog åé¢æœ‰ä¸€ä¸ªé•¿æœŸè¿è¡Œçš„ HTTP æœåŠ¡å™¨ï¼Œè€Œä¸æ˜¯æ¯æ¬¡å‡½æ•°è°ƒç”¨æ—¶åˆ›å»ºæ–°çš„è¿›ç¨‹ã€‚è¿™æœ¬è´¨ä¸Šæ˜¯ &lt;a href="https://github.com/openfaas/of-watchdog/blob/a0289419078824f0a070860f84a6b383eb4f2169/README.md#1-http-modehttp">å°† watchdog ç»„ä»¶å˜æˆåå‘ä»£ç†&lt;/a>ï¼š&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/12/17/16396740301372.png" alt="">&lt;/p>
&lt;p>å½“å®¹å™¨å¯åŠ¨æ—¶ï¼Œ&lt;strong>åå‘ä»£ç†&lt;/strong> watchdog ä¹Ÿä¼šåˆ›å»ºä¸€ä¸ªç›‘å¬åœ¨ &lt;em>8080&lt;/em> ç«¯å£çš„è½»é‡çº§ HTTP æœåŠ¡å™¨ã€‚ç„¶è€Œï¼Œä¸ &lt;strong>ç»å…¸&lt;/strong> watchdog ä¸åŒçš„æ˜¯&lt;strong>åå‘ä»£ç†&lt;/strong>watchdog åªåˆ›å»ºä¸€æ¬¡å‡½æ•°çš„è¿›ç¨‹ï¼Œå¹¶å°†å…¶å½“æˆï¼ˆé•¿æœŸè¿è¡Œçš„ï¼‰ä¸Šæ¸¸æœåŠ¡å™¨ã€‚ç„¶åï¼Œå‡½æ•°è°ƒç”¨è½¬å˜æˆåˆ°è¯¥ä¸Šæ¸¸çš„ HTTP è¯·æ±‚ã€‚&lt;/p>
&lt;p>ç„¶è€Œï¼Œ&lt;strong>åå‘ä»£ç†&lt;/strong>æ¨¡å¼å¹¶ä¸ä¸ºäº†å–ä»£&lt;strong>ç»å…¸&lt;/strong>æ¨¡å¼ã€‚&lt;strong>ç»å…¸&lt;/strong>æ¨¡å¼çš„å¼ºé¡¹åœ¨äºå…¶å‡½æ•°çš„ç¼–å†™éå¸¸ç®€å•ã€‚è¿™ä¹Ÿæ˜¯æ²¡æœ‰ HTTP æœåŠ¡å™¨çš„ä»£ç çš„å”¯ä¸€é€‰æ‹©ã€‚æ¯”å¦‚ä½¿ç”¨ Cobolã€bash æˆ–è€… PowerShell è„šæœ¬ç­‰ç­‰ç¼–å†™çš„å‡½æ•°ã€‚&lt;/p>
&lt;p>ä½•æ—¶è¯¥ä½¿ç”¨&lt;strong>åå‘ä»£ç†&lt;/strong>è¿è¡Œæ—¶æ¨¡å¼ï¼š&lt;/p>
&lt;ul>
&lt;li>å‡½æ•°éœ€è¦åœ¨ä¸¤æ¬¡è°ƒç”¨ä¹‹é—´ä¿æŒçŠ¶æ€ï¼š
&lt;ul>
&lt;li>ç¼“å­˜&lt;/li>
&lt;li>æŒä¹…è¿æ¥ï¼ˆä¾‹å¦‚ï¼Œä¿æŒä»å‡½æ•°åˆ°æ•°æ®åº“çš„è¿æ¥æ‰“å¼€ï¼‰&lt;/li>
&lt;li>æœ‰çŠ¶æ€å‡½æ•° ğŸ¥´&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>æ¯ä¸ªå‡½æ•°å¯åŠ¨ä¸€ä¸ªè¿›ç¨‹å¯èƒ½å¼€é”€å¾ˆå¤§ï¼Œä¸ºæ¯ä¸ªè°ƒç”¨å¸¦æ¥äº†å»¶è¿Ÿ&lt;/li>
&lt;li>ä½ æƒ³è¿è¡Œä¸€ä¸ªï¼ˆå¾®ï¼‰æœåŠ¡ä½œä¸ºå‡½æ•° ğŸ¤”&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>æ ¹æ® OpenFaaS çš„åˆ›å»ºè€… &lt;a href="https://twitter.com/alexellisuk">Alex Ellis&lt;/a> çš„è§£é‡Šï¼Œ&lt;em>FaaS&lt;/em>ï¼Œç‰¹åˆ«æ˜¯ OpenFaaSï¼Œå¯ä»¥è¢«è§†ä¸ºåœ¨ä¸ä¾èµ–æœåŠ¡å™¨æŠ½è±¡çš„æƒ…å†µä¸‹ &lt;a href="https://blog.alexellis.io/introducing-functions-as-a-service/">éƒ¨ç½²å¾®æœåŠ¡çš„ç®€åŒ–æ–¹å¼&lt;/a>ã€‚å³ FaaS æ˜¯æ— æœåŠ¡å™¨æ¶æ„çš„è§„èŒƒç¤ºä¾‹ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>å› æ­¤ï¼Œä½¿ç”¨åå‘ä»£ç†çš„æ–¹å¼ï¼Œå‡½æ•°å¯ä»¥è¢«çœ‹ä½œæ˜¯éƒ¨ç½²å¾®æœåŠ¡çš„å›ºæ‰§çš„æ–¹å¼ã€‚æ–¹ä¾¿ã€å¿«é€Ÿã€ç®€å•ã€‚ä½†ä½¿ç”¨æœ‰çŠ¶æ€å‡½æ•°æ—¶ï¼Œè¦ç•™æ„ç”±äºå¤šä¸ªè°ƒç”¨å¯èƒ½åœ¨åŒä¸€ä¸ªè¿›ç¨‹ä¸­ç»“æŸè€Œå¯¼è‡´çš„è­¦å‘Šï¼š&lt;/p>
&lt;ul>
&lt;li>åœ¨ä¸€ä¸ªè¿›ç¨‹ä¸­ç»“æŸçš„å¹¶å‘è°ƒç”¨å¯èƒ½ä¼šè§¦å‘ä»£ç ä¸­çš„ç«äº‰æ¡ä»¶ï¼ˆä¾‹å¦‚ï¼Œä¸€ä¸ªå¸¦æœ‰å…¨å±€å˜é‡çš„ Go å‡½æ•°ï¼Œè€Œå…¨å±€å˜é‡æ²¡æœ‰é”çš„ä¿æŠ¤ï¼‰ã€‚&lt;/li>
&lt;li>åœ¨ä¸€ä¸ªè¿›ç¨‹ä¸­ç»“æŸçš„åç»­è°ƒç”¨å¯èƒ½ä¼šå¯¼è‡´äº¤å‰è°ƒç”¨æ•°æ®æ³„éœ²ï¼ˆå½“ç„¶ï¼Œå°±åƒä¼ ç»Ÿå¾®æœåŠ¡ä¸€æ ·ï¼‰ã€‚&lt;/li>
&lt;li>ç”±äºè¯¥è¿›ç¨‹åœ¨ä¸¤æ¬¡è°ƒç”¨ä¹‹é—´è¢«å¤ç”¨ï¼Œå› æ­¤ä»£ç ä¸­çš„ä»»ä½•å†…å­˜æ³„æ¼éƒ½ä¸ä¼šè¢«ç¼“è§£ã€‚&lt;/li>
&lt;/ul>
&lt;h4 id="å…¶ä»–è¿è¡Œæ—¶æ¨¡å¼">å…¶ä»–è¿è¡Œæ—¶æ¨¡å¼&lt;/h4>
&lt;p>&lt;strong>ç»å…¸&lt;strong>è¿è¡Œæ—¶æ¨¡å¼åœ¨å°†å‡½æ•°ç»“æœå‘é€å›è°ƒç”¨æ–¹ä¹‹å‰ç¼“å†²äº†å‡½æ•°çš„æ•´ä¸ªå“åº”ã€‚ä½†å¦‚æœå“åº”çš„å¤§å°è¶…å‡ºäº†å®¹å™¨çš„å†…å­˜æ€ä¹ˆåŠï¼ŸOpenFaaS æä¾›äº†&lt;/strong>å“åº”æµ&lt;/strong>&lt;a href="https://github.com/openfaas/of-watchdog/blob/a0289419078824f0a070860f84a6b383eb4f2169/README.md#3-streaming-fork-modestreaming---default">å¦ä¸€ç§è¿è¡Œæ—¶æ¨¡å¼ï¼Œè¯¥æ¨¡å¼ä»ç„¶ä¸ºæ¯ä¸ªè°ƒç”¨åˆ›å»ºè¿›ç¨‹ï¼Œä½†æ·»åŠ äº†&lt;/a>ã€‚&lt;/p>
&lt;p>å¦ä¸€ä¸ªåˆå»çš„åœºæ™¯æ˜¯ä»å‡½æ•°ä¸­æä¾›é™æ€æ–‡ä»¶æœåŠ¡ã€‚&lt;a href="https://github.com/openfaas/of-watchdog/blob/a0289419078824f0a070860f84a6b383eb4f2169/README.md#4-static-modestatic">OpenFaaS ä¹Ÿæœ‰è§£å†³æ–¹æ¡ˆ&lt;/a>ã€‚&lt;/p>
&lt;p>è¿™å¯èƒ½æ˜¯æ‰€æœ‰çš„å†…ç½®è¿è¡Œæ—¶æ¨¡å¼ã€‚ä½†å¦‚æœä»æœªæ»¡è¶³éœ€æ±‚ï¼ŒOpenFaaS æ˜¯ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼çœ‹ä¸‹ç°æœ‰çš„watchdogï¼ˆ&lt;a href="https://github.com/openfaas/classic-watchdog">1&lt;/a>Â &amp;amp;Â &lt;a href="https://github.com/openfaas/of-watchdog">2&lt;/a>ï¼‰ï¼Œç®€æ´æ˜äº†ã€‚å› æ­¤ï¼Œå¯ä»¥éšæ—¶æäº¤ PR æˆ–è€… issueï¼Œè®©æ•´ä¸ªç¤¾åŒºå› ä½ çš„è´¡çŒ®æ”¶ç›Šã€‚&lt;/p>
&lt;h3 id="ç¼–å†™å‡½æ•°">ç¼–å†™å‡½æ•°&lt;/h3>
&lt;p>æ­¤æ—¶ï¼Œæˆ‘ä»¬å·²ç»äº†è§£å‡½æ•°å¦‚ä½•åœ¨é…å¤‡äº†å‡½æ•° watchdog çš„å®¹å™¨ä¸­è¿è¡Œã€‚é‚£ä¹ˆæœ€å°çš„å‡½æ•°æ˜¯ä»€ä¹ˆæ ·å­çš„ï¼Ÿ&lt;/p>
&lt;p>ä¸‹é¢çš„ç¤ºä¾‹å°†ç®€å•çš„ shell è„šæœ¬å°è£…åˆ° OpenFaaS å‡½æ•°ä¸­ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-Dockerfile" data-lang="Dockerfile">&lt;span class="c">########################################################&lt;/span>&lt;span class="err">
&lt;/span>&lt;span class="err">&lt;/span>&lt;span class="c"># WARNING: Not for Production - No Security Hardening! #&lt;/span>&lt;span class="err">
&lt;/span>&lt;span class="err">&lt;/span>&lt;span class="c">########################################################&lt;/span>&lt;span class="err">
&lt;/span>&lt;span class="err">
&lt;/span>&lt;span class="err">&lt;/span>&lt;span class="c"># This FROM is just to get the watchdog executable.&lt;/span>&lt;span class="err">
&lt;/span>&lt;span class="err">&lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="s"> ghcr.io/openfaas/classic-watchdog:0.2.0 as watchdog&lt;/span>&lt;span class="err">
&lt;/span>&lt;span class="err">
&lt;/span>&lt;span class="err">&lt;/span>&lt;span class="c"># FROM this line the actual runtime definion starts.&lt;/span>&lt;span class="err">
&lt;/span>&lt;span class="err">&lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="s"> alpine:latest&lt;/span>&lt;span class="err">
&lt;/span>&lt;span class="err">
&lt;/span>&lt;span class="err">&lt;/span>&lt;span class="c"># Mandatory step - put the watchdog.&lt;/span>&lt;span class="err">
&lt;/span>&lt;span class="err">&lt;/span>&lt;span class="k">COPY&lt;/span> --from&lt;span class="o">=&lt;/span>watchdog /fwatchdog /usr/bin/fwatchdog&lt;span class="err">
&lt;/span>&lt;span class="err">
&lt;/span>&lt;span class="err">&lt;/span>&lt;span class="c"># Optionally - install extra packages, libs, tools, etc.&lt;/span>&lt;span class="err">
&lt;/span>&lt;span class="err">
&lt;/span>&lt;span class="err">&lt;/span>&lt;span class="c"># Function&amp;#39;s payload - script echoing its STDIN, a bit transformed.&lt;/span>&lt;span class="err">
&lt;/span>&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> &lt;span class="nb">echo&lt;/span> &lt;span class="s1">&amp;#39;#!/bin/sh&amp;#39;&lt;/span> &amp;gt; /echo.sh&lt;span class="err">
&lt;/span>&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> &lt;span class="nb">echo&lt;/span> &lt;span class="s1">&amp;#39;cat | rev | tr &amp;#34;[:lower:]&amp;#34; &amp;#34;[:upper:]&amp;#34;&amp;#39;&lt;/span> &amp;gt;&amp;gt; /echo.sh&lt;span class="err">
&lt;/span>&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> chmod +x /echo.sh&lt;span class="err">
&lt;/span>&lt;span class="err">
&lt;/span>&lt;span class="err">&lt;/span>&lt;span class="c"># Point the watchdog to the actual thingy to run.&lt;/span>&lt;span class="err">
&lt;/span>&lt;span class="err">&lt;/span>&lt;span class="k">ENV&lt;/span> &lt;span class="nv">fprocess&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;/echo.sh&amp;#34;&lt;/span>&lt;span class="err">
&lt;/span>&lt;span class="err">
&lt;/span>&lt;span class="err">&lt;/span>&lt;span class="c"># Start the watchdog server.&lt;/span>&lt;span class="err">
&lt;/span>&lt;span class="err">&lt;/span>&lt;span class="k">CMD&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;fwatchdog&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="err">
&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å½“æ„å»ºã€éƒ¨ç½²å’Œè°ƒç”¨æ—¶ï¼Œä¸Šé¢çš„å‡½æ•°ä½œä¸º &lt;em>å›æ˜¾æœåŠ¡å™¨&lt;/em>ï¼Œå€’è½¬å¹¶å¤§å†™å…¶è¾“å…¥ã€‚&lt;/p>
&lt;p>ç¨å¾®é«˜çº§ç‚¹çš„ä¾‹å­ï¼šä¸€ä¸ª Node.js &lt;em>Hello World&lt;/em> è„šæœ¬ä½œä¸ºå‡½æ•°ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-Dockerfile" data-lang="Dockerfile">&lt;span class="c">########################################################&lt;/span>&lt;span class="err">
&lt;/span>&lt;span class="err">&lt;/span>&lt;span class="c"># WARNING: Not for Production - No Security Hardening! #&lt;/span>&lt;span class="err">
&lt;/span>&lt;span class="err">&lt;/span>&lt;span class="c">########################################################&lt;/span>&lt;span class="err">
&lt;/span>&lt;span class="err">
&lt;/span>&lt;span class="err">&lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="s"> ghcr.io/openfaas/classic-watchdog:0.2.0 as watchdog&lt;/span>&lt;span class="err">
&lt;/span>&lt;span class="err">
&lt;/span>&lt;span class="err">&lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="s"> node:17-alpine&lt;/span>&lt;span class="err">
&lt;/span>&lt;span class="err">
&lt;/span>&lt;span class="err">&lt;/span>&lt;span class="k">COPY&lt;/span> --from&lt;span class="o">=&lt;/span>watchdog /fwatchdog /usr/bin/fwatchdog&lt;span class="err">
&lt;/span>&lt;span class="err">
&lt;/span>&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> &lt;span class="nb">echo&lt;/span> &lt;span class="s1">&amp;#39;console.log(&amp;#34;Hello World!&amp;#34;)&amp;#39;&lt;/span> &amp;gt; index.js&lt;span class="err">
&lt;/span>&lt;span class="err">
&lt;/span>&lt;span class="err">&lt;/span>&lt;span class="k">ENV&lt;/span> &lt;span class="nv">fprocess&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;node index.js&amp;#34;&lt;/span>&lt;span class="err">
&lt;/span>&lt;span class="err">
&lt;/span>&lt;span class="err">&lt;/span>&lt;span class="k">CMD&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;fwatchdog&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="err">
&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å› æ­¤ï¼Œè¦ç¼–å†™ä¸€ä¸ªç®€å•çš„å‡½æ•°ï¼Œåªéœ€è¦åœ¨ Dockerfile ä¸­åŠ å…¥ï¼š&lt;/p>
&lt;ul>
&lt;li>å®é™…è„šæœ¬ï¼ˆæˆ–å¯æ‰§è¡Œæ–‡ä»¶ï¼‰&lt;/li>
&lt;li>å®ƒçš„æ‰€æœ‰ä¾èµ–é¡¹â€”â€”è½¯ä»¶åŒ…ã€æ“ä½œç³»ç»Ÿåº“ç­‰&lt;/li>
&lt;li>é¦–é€‰çš„ watchdog&lt;/li>
&lt;/ul>
&lt;p>ç„¶åå°† watchdog æŒ‡å‘è¯¥è„šæœ¬ï¼ˆæˆ–å¯æ‰§è¡Œæ–‡ä»¶ï¼‰ï¼Œå¹¶å°† watchdog ä½œä¸ºå…¥å£ã€‚æœ‰ç‚¹é…·ï¼Œå› ä¸ºï¼š&lt;/p>
&lt;ul>
&lt;li>å¯ä»¥å®Œå…¨æ§åˆ¶å‡½æ•°æœªæ¥çš„è¿è¡Œæ—¶&lt;/li>
&lt;li>å¯ä»¥éƒ¨ç½²ä»»ä½•å¯ä»¥åœ¨å®¹å™¨ä¸­ä½œä¸ºå‡½æ•°è¿è¡Œçš„ä¸œè¥¿&lt;/li>
&lt;/ul>
&lt;p>ä½†ä¸Šè¿°æ–¹æ³•æœ‰ä¸ªæ˜æ˜¾çš„ç¼ºç‚¹ &amp;ndash; ä¸€ä¸ªç”Ÿäº§å°±ç»ªçš„ Dockerfile å¯èƒ½æœ‰ä¸Šç™¾è¡Œã€‚å¦‚æœæˆ‘åªæƒ³è¿è¡Œä¸€ä¸ªç®€å•çš„ Node.js/Python è„šæœ¬æˆ–è€…ä¸€ä¸ªå°çš„ Go ç¨‹åºä½œä¸ºå‡½æ•°ï¼Œè¦æ€ä¹ˆå¤„ç† Dockerfileï¼Ÿå°±ä¸èƒ½æœ‰ä¸€ä¸ªå ä½ç¬¦æ¥ç²˜è´´ä»£ç ç‰‡æ®µï¼Ÿ&lt;/p>
&lt;h4 id="åŠŸèƒ½æ¨¡æ¿">åŠŸèƒ½æ¨¡æ¿&lt;/h4>
&lt;p>OpenFaaS çš„ç¾å¦™ä¹‹å¤„åœ¨äºï¼Œæˆ‘ä»¬å¯ä»¥ä¸¤è€…å…¼è€Œæœ‰ä¹‹ â€”â€” ä½¿ç”¨ Dockerfile è¿›è¡Œä½çº§ä¿®è¡¥æˆ–ç›®æ ‡è¯­è¨€ç¼–å†™é«˜çº§è„šæœ¬ï¼å¾—ç›Šäºä¸°å¯Œçš„åŠŸèƒ½æ¨¡æ¿åº“ï¼&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-shell" data-lang="shell">$ faas-cli template store list
NAME SOURCE DESCRIPTION
csharp openfaas Classic C# template
dockerfile openfaas Classic Dockerfile template
go openfaas Classic Golang template
java8 openfaas Java &lt;span class="m">8&lt;/span> template
...
node14 openfaas HTTP-based Node &lt;span class="m">14&lt;/span> template
node12 openfaas HTTP-based Node &lt;span class="m">12&lt;/span> template
node openfaas Classic NodeJS &lt;span class="m">8&lt;/span> template
php7 openfaas Classic PHP &lt;span class="m">7&lt;/span> template
python openfaas Classic Python 2.7 template
python3 openfaas Classic Python 3.6 template
...
python3-flask openfaas Python 3.7 Flask template
python3-http openfaas Python 3.7 with Flask and HTTP
...
golang-http openfaas Golang HTTP template
...
&lt;/code>&lt;/pre>&lt;/div>&lt;p>ä¸Šè¿°åŠŸèƒ½æ¨¡æ¿ç”± OpenFaaS ä½œè€…å’Œç¤¾åŒºç²¾å¿ƒåªåšã€‚å…¸å‹çš„æ¨¡æ¿é™„å¸¦ä¸€ä¸ªå¤æ‚çš„ Dockerfileï¼ŒæŒ‡å‘è™šæ‹Ÿå¤„ç†ç¨‹åºå‡½æ•°ã€‚å½“å¼•å¯¼æ–°å‡½æ•°æ—¶ï¼Œé€šè¿‡ &lt;code>faas-cli new&lt;/code> å‘½ä»¤æ¥ä½¿ç”¨è¿™äº›æ¨¡æ¿ã€‚ä¾‹å¦‚ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-shell" data-lang="shell">$ faas-cli new --lang python my-fn
Folder: my-fn created.
Function created in folder: my-fn
Stack file written: my-fn.yml
$ cat my-fn/handler.py
def handle&lt;span class="o">(&lt;/span>req&lt;span class="o">)&lt;/span>:
&lt;span class="s2">&amp;#34;&amp;#34;&amp;#34; PUT YOUR BUSINESS LOGIC HERE &amp;#34;&amp;#34;&amp;#34;&lt;/span>
&lt;span class="k">return&lt;/span> req
&lt;/code>&lt;/pre>&lt;/div>&lt;p>å› æ­¤ï¼Œå¯¹äºæ¨¡æ¿ï¼Œç¼–å†™å‡½æ•°çš„å·¥ä½œå¯ä»¥å½’ç»“ä¸ºç®€å•åœ°å°†ä¸šåŠ¡é€»è¾‘æ”¾å…¥å“åº”çš„å¤„ç†ç¨‹åºæ–‡ä»¶ä¸­ã€‚&lt;/p>
&lt;p>ä½¿ç”¨æ¨¡æ¿æ—¶ï¼Œäº†è§£ä½¿ç”¨é‚£ç§ &lt;em>watchdog&lt;/em> å’Œ &lt;em>æ¨¡å¼&lt;/em> å¾ˆé‡è¦ï¼š&lt;/p>
&lt;ul>
&lt;li>ä½¿ç”¨&lt;strong>ç»å…¸çš„&lt;/strong>ç±»ä¼¼ CGI çš„ watchdogï¼Œå¤„ç†ç¨‹åºé€šå¸¸è¢«ç¼–å†™ä¸ºæ¥å—å’Œè¿”å›çº¯å­—ç¬¦ä¸²çš„å‡½æ•°ï¼ˆä¾‹å¦‚ï¼š&lt;a href="https://github.com/openfaas/templates/blob/d8893afe3d1072840174911859c6f5db2986e814/template/python3/function/handler.py">python3&lt;/a>ã€&lt;a href="https://github.com/openfaas/templates/blob/d8893afe3d1072840174911859c6f5db2986e814/template/php7/function/src/Handler.php">php7&lt;/a>ï¼‰&lt;/li>
&lt;li>åœ¨ &lt;strong>HTTP æ¨¡å¼ä¸‹&lt;/strong>ï¼Œä½¿ç”¨ &lt;strong>of-watchdog&lt;/strong>æ—¶ï¼Œå¤„ç†ç¨‹åºçœ‹èµ·æ¥æ›´åƒ HTTP å¤„ç†ç¨‹åºæ¥å—è¯·æ±‚å¹¶è¿”å›å“åº”ç»“æ„ï¼ˆä¾‹å¦‚ï¼š&lt;a href="https://github.com/openfaas/python-flask-template/blob/12db680950b42c7cfcc7d21ba036bd1397d62eb7/template/python3-http/function/handler.py">python3-http&lt;/a>ï¼Œ&lt;a href="https://github.com/openfaas/templates/blob/d8893afe3d1072840174911859c6f5db2986e814/template/node17/function/handler.js">node17&lt;/a>ï¼‰ã€‚&lt;/li>
&lt;/ul>
&lt;h4 id="å‡½æ•°å•†åº—">å‡½æ•°å•†åº—&lt;/h4>
&lt;p>ä½ çš„æœ€ä½³å‡½æ•°æ˜¯ä»€ä¹ˆï¼Ÿå¯¹ï¼Œä½ ä¸éœ€è¦å†™ã€‚OpenFaaS æ¥å—è¿™ç§æƒ³æ³•ï¼Œå¹¶å¸¦æ¥äº†&lt;a href="https://github.com/openfaas/store">å‡½æ•°å•†åº—&lt;/a>ï¼ˆç»è¿‡ç¤¾åŒºæµ‹è¯•å¹¶æ ¹æ®è¿‡å¾€ç»éªŒé€‰æ‹©çš„ OpenFaaS å‡½æ•°ç²¾é€‰ç´¢å¼•ï¼‰ã€‚&lt;/p>
&lt;p>è¯¥å•†åº—åŒ…å«ä¸€äº›æœ‰è¶£çš„å‡½æ•°ï¼Œå¯ä»¥ä¸€é”®éƒ¨ç½²åˆ°ç°æœ‰çš„ OpenFaaS ä¸­ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-shell" data-lang="shell">$ faas-cli store list
FUNCTION DESCRIPTION
NodeInfo Get info about the machine that you&lt;span class="s1">&amp;#39;r...
&lt;/span>&lt;span class="s1">alpine An Alpine Linux shell, set the &amp;#34;fproc...
&lt;/span>&lt;span class="s1">env Print the environment variables prese...
&lt;/span>&lt;span class="s1">sleep Simulate a 2s duration or pass an X-S...
&lt;/span>&lt;span class="s1">shasum Generate a shasum for the given input
&lt;/span>&lt;span class="s1">Figlet Generate ASCII logos with the figlet CLI
&lt;/span>&lt;span class="s1">curl Use curl for network diagnostics, pas...
&lt;/span>&lt;span class="s1">SentimentAnalysis Python function provides a rating on ...
&lt;/span>&lt;span class="s1">hey HTTP load generator, ApacheBench (ab)...
&lt;/span>&lt;span class="s1">nslookup Query the nameserver for the IP addre...
&lt;/span>&lt;span class="s1">SSL/TLS cert info Returns SSL/TLS certificate informati...
&lt;/span>&lt;span class="s1">Colorization Turn black and white photos to color ...
&lt;/span>&lt;span class="s1">Inception This is a forked version of the work ...
&lt;/span>&lt;span class="s1">Have I Been Pwned The Have I Been Pwned function lets y...
&lt;/span>&lt;span class="s1">Face Detection with Pigo Detect faces in images using the Pigo...
&lt;/span>&lt;span class="s1">Tesseract OCR This function brings OCR - Optical Ch...
&lt;/span>&lt;span class="s1">Dockerhub Stats Golang function gives the count of re...
&lt;/span>&lt;span class="s1">QR Code Generator - Go QR Code generator using Go
&lt;/span>&lt;span class="s1">Nmap Security Scanner Tool for network discovery and securi...
&lt;/span>&lt;span class="s1">ASCII Cows Generate a random ASCII cow
&lt;/span>&lt;span class="s1">YouTube Video Downloader Download YouTube videos as a function
&lt;/span>&lt;span class="s1">OpenFaaS Text-to-Speech Generate an MP3 of text using Google&amp;#39;&lt;/span>...
Docker Image Manifest Query Query an image on the Docker Hub &lt;span class="k">for&lt;/span> ...
face-detect with OpenCV Detect faces in images. Send a URL as...
Face blur by Endre Simo Blur out faces detected in JPEGs. Inv...
Left-Pad left-pad on OpenFaaS
normalisecolor Automatically fix white-balance in ph...
mememachine Turn any image into a meme.
Business Strategy Generator Generates a Business Strategy &lt;span class="o">(&lt;/span>using ...
Image EXIF Reader Reads EXIF information from an URL or...
Open NSFW Model Score images &lt;span class="k">for&lt;/span> NSFW &lt;span class="o">(&lt;/span>nudity&lt;span class="o">)&lt;/span> content.
Identicon Generator Create an identicon from a provided s...
&lt;/code>&lt;/pre>&lt;/div>&lt;p>è¿™äº›å‡½æ•°å®é™…ä¸Šæ˜¯å­˜å‚¨åœ¨ Docker Hub æˆ–è€… Quay ç­‰å…¬å…±åº“çš„å®¹å™¨é•œåƒï¼Œå¯ä»¥è‡ªç”±å¤ç”¨ã€‚&lt;/p>
&lt;p>åœºæ™¯ç¤ºä¾‹ï¼š&lt;/p>
&lt;ul>
&lt;li>ä½¿ç”¨ &lt;code>env&lt;/code> å‡½æ•°è°ƒè¯•å‡½æ•°æ¥æ”¶çš„HTTPæ ‡å¤´&lt;/li>
&lt;li>ä½¿ç”¨ &lt;code>curl&lt;/code> å‡½æ•°ä» OpenFaaS éƒ¨ç½²å†…éƒ¨æµ‹è¯•è¿æ¥&lt;/li>
&lt;li>ä»è¿è¡Œå¤šä¸ªå‰¯æœ¬çš„å‡½æ•°ä¸­ä½¿ç”¨ &lt;code>hey&lt;/code> æ¥å¢åŠ è´Ÿè½½&lt;/li>
&lt;/ul>
&lt;h3 id="å‡½æ•°çš„æ„å»ºå’Œéƒ¨ç½²">å‡½æ•°çš„æ„å»ºå’Œéƒ¨ç½²&lt;/h3>
&lt;p>ç”±äºå‡½æ•°æ˜¯åœ¨å®¹å™¨ä¸­è¿è¡Œçš„ï¼Œå› æ­¤éœ€è¦æœ‰äººä¸ºè¿™äº›å®¹å™¨æ„å»ºé•œåƒã€‚æ— è®ºä½ å–œä¸å–œæ¬¢ï¼Œè¿™éƒ½æ˜¯å¼€å‘äººå‘˜çš„äº‹æƒ…ã€‚OpenFaaS æä¾›äº†æ–¹ä¾¿çš„ &lt;code>faas-cli build&lt;/code> å‘½ä»¤ï¼Œä½†æ²¡æœ‰æœåŠ¡å™¨ç«¯æ„å»ºã€‚å› æ­¤ï¼Œè¦ä¹ˆéœ€è¦ï¼ˆåœ¨å®‰è£… Docker çš„æœºå™¨ä¸Šï¼‰æ‰‹åŠ¨è¿è¡Œ &lt;code>faas-cli build&lt;/code>ï¼Œè¦ä¹ˆä½¿ç”¨ CI/CD å®Œæˆã€‚&lt;/p>
&lt;p>æ¥ä¸‹æ¥ï¼Œæ„å»ºå¥½çš„é•œåƒéœ€è¦é€šè¿‡ &lt;code>faas-cli push&lt;/code> åˆ°ä»“åº“ã€‚æ˜¾ç„¶ï¼Œè¿™ç§ä»“åº“ä¹Ÿåº”è¯¥å¯ä»¥ä» OpenFaaS æœåŠ¡å™¨ç«¯è®¿é—®ã€‚å¦åˆ™ï¼Œä½¿ ç”¨&lt;code>faas-cli deploy&lt;/code> éƒ¨ç½²å‡½æ•°æ—¶ä¼šå¤±è´¥ã€‚&lt;/p>
&lt;p>å¼€å‘äººå‘˜çš„å·¥ä½œæµç¨‹å¦‚ä¸‹ï¼š&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/12/17/16396975427765.png" alt="">&lt;/p>
&lt;h3 id="è°ƒç”¨å‡½æ•°">è°ƒç”¨å‡½æ•°&lt;/h3>
&lt;p>å‡½æ•°éƒ¨ç½²åï¼Œå¯ä»¥é€šè¿‡å‘ &lt;code>$API_HOST:$API_PORT/function/&amp;lt;fn-name&amp;gt;&lt;/code> ç«¯ç‚¹å‘é€ GETã€POSTã€PUT æˆ–è€… DELET HTTP è¯·æ±‚æ¥è°ƒç”¨å®ƒã€‚å¸¸è§çš„è°ƒç”¨æ–¹å¼æœ‰ï¼š&lt;/p>
&lt;ul>
&lt;li>å„ç§é’©å­ï¼ˆwebhookï¼‰&lt;/li>
&lt;li>&lt;code>faas-cli invoke&lt;/code>&lt;/li>
&lt;li>&lt;strong>event connectors&lt;/strong>ï¼&lt;/li>
&lt;/ul>
&lt;p>å‰ä¸¤ä¸ªé€‰é¡¹ç›¸å½“ç®€å•ã€‚ä½¿ç”¨å‡½æ•°ä½œä¸ºä½œä¸º webhook å¤„ç†å™¨ï¼ˆGitHubã€IFTTT ç­‰ï¼‰å¾ˆæ–¹ä¾¿ï¼Œæ¯ä¸ªå‡½æ•°å¼€å‘äººå‘˜éƒ½å·²ç»å®‰è£…äº† &lt;code>faas-cli&lt;/code>ï¼Œå› æ­¤å¯ä»¥æˆä¸ºæ—¥å¸¸è„šæœ¬ç¼–å†™çš„ç»„æˆéƒ¨åˆ†ã€‚&lt;/p>
&lt;h4 id="é‚£ä»€ä¹ˆæ˜¯äº‹ä»¶è¿æ¥å™¨">é‚£ä»€ä¹ˆæ˜¯äº‹ä»¶è¿æ¥å™¨ï¼Ÿ&lt;/h4>
&lt;p>åœ¨æœ¬æ–‡å¼€å¤´æ˜¯æˆ‘å¯¹ AWS Lambda ä¸ AWS å¹³å°äº‹ä»¶ç´§å¯†é›†æˆçš„æ¸©æš–å›å¿†ã€‚è¯·è®°ä½ï¼Œå¯ä»¥åœ¨å“åº”æ–° SQS/SNS æ¶ˆæ¯ã€æ–°çš„ Kinesis è®°å½•ã€EC2 å®ä¾‹ç”Ÿå‘½å‘¨æœŸç­‰äº‹ä»¶æ—¶è°ƒç”¨ Lambdaã€‚OpenFaaS å‡½æ•°æ˜¯å¦å­˜åœ¨ç±»ä¼¼çš„ä¸œè¥¿å‘¢ï¼Ÿ&lt;/p>
&lt;p>æ˜¾ç„¶ï¼ŒOpenFaaS æ— æ³•å¼€ç®±å³ç”¨åœ°ä¸ä»»ä½•ç”Ÿæ€ç³»ç»Ÿé›†æˆã€‚ç„¶è€Œï¼Œå®ƒæä¾›äº†ä¸€ç§åä¸º&lt;a href="https://docs.openfaas.com/reference/triggers/#event-connector-pattern">&lt;strong>äº‹ä»¶è¿æ¥å™¨&lt;/strong>&lt;/a>æ¨¡å¼çš„é€šç”¨è§£å†³æ–¹æ¡ˆã€‚&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/12/17/16396992441046.png" alt="">&lt;/p>
&lt;p>å®˜æ–¹æ”¯æŒçš„è¿æ¥å™¨ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/openfaas/cron-connector">Cron connector&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/openfaas/mqtt-connector">MQTT connector&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/openfaas/nats-connector">NATS connector&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.openfaas.com/reference/triggers/#apache-kafka-openfaas-pro">Kafka connector&lt;/a>Â (éœ€è¦&lt;strong>ä¸“ä¸šç‰ˆ&lt;/strong>è®¢é˜…)&lt;/li>
&lt;/ul>
&lt;p>OpenFaaS è¿˜æä¾›äº†å¾ˆå°çš„&lt;a href="https://github.com/openfaas/connector-sdk">&lt;strong>è¿æ¥å™¨-sdk&lt;/strong>&lt;/a>åº“æ¥ç®€åŒ–è¿æ¥å™¨çš„å¼€å‘ã€‚&lt;/p>
&lt;h2 id="è¿ç»´çœ¼ä¸­çš„-openfaas">è¿ç»´çœ¼ä¸­çš„ OpenFaaS&lt;/h2>
&lt;p>å¼€å‘çœ¼ä¸­çš„ OpenFaaS æ˜¯ä¸ªé»‘ç›’ï¼Œæä¾›ç®€å•çš„ API æ¥éƒ¨ç½²å’Œè°ƒç”¨å‡½æ•°ã€‚ç„¶è€Œï¼Œä½œä¸ºè¿ç»´å¯èƒ½ä¼šä»äº†è§£ ä¸€ç‚¹ OpenFaaS å†…éƒ¨åŸç†ä¸­å—ç›Šã€‚&lt;/p>
&lt;h3 id="openfaas-é€šç”¨æ¶æ„">OpenFaaS é€šç”¨æ¶æ„&lt;/h3>
&lt;p>OpenFaaS æœ‰ä¸€ä¸ªç®€å•ä½†å¼ºå¤§çš„æ¶æ„ï¼Œå…è®¸ä½¿ç”¨ä¸åŒçš„åŸºç¡€è®¾æ–½ä½œä¸ºåç«¯ã€‚å¦‚æœå·²ç»æœ‰äº† Kubernetes é›†ç¾¤ï¼Œå¯ä»¥é€šè¿‡&lt;a href="https://docs.openfaas.com/deployment/kubernetes/">åœ¨ä¸Šé¢éƒ¨ç½² OpenFaaS&lt;/a> è½»æ¾å°†å…¶å˜æˆ &lt;a href="https://docs.openfaas.com/deployment/kubernetes/">FaaS&lt;/a> è§£å†³æ–¹æ¡ˆã€‚ä½†æ˜¯å¦‚æœæ—§çš„è™šæ‹Ÿï¼ˆæˆ–ç‰©ç†ï¼‰æœºï¼Œä»ç„¶å¯ä»¥åœ¨ä¸Šé¢å®‰è£… OpenFaaSï¼Œå¹¶è·å¾—å·®ä¸å¤šåŠŸèƒ½çš„æ›´å°çš„ FaaS è§£å†³æ–¹æ¡ˆã€‚&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/12/17/16396997846325.png" alt="">&lt;/p>
&lt;p>ä¸Šé¢çš„æ¶æ„ä¸­å”¯ä¸€é¢å‘ç”¨æˆ·çš„ç»„ä»¶æ˜¯ &lt;a href="https://github.com/openfaas/faas/tree/fe152ba69c591d584b1f183f9f5f209e29a9b049/gateway">API ç½‘å…³&lt;/a>ã€‚OpenFaaS çš„ API ç½‘å…³ï¼š&lt;/p>
&lt;ul>
&lt;li>æš´éœ² API æ¥ç®¡ç†å’Œè°ƒç”¨å‡½æ•°&lt;/li>
&lt;li>æä¾›å†…ç½®çš„ UI æ¥ç®¡ç†å‡½æ•°&lt;/li>
&lt;li>å¤„ç†å‡½æ•°çš„è‡ªåŠ¨ç¼©æ”¾&lt;/li>
&lt;li>é¢„è®¡åé¢ä¼šæœ‰å…¼å®¹çš„ OpenFaaS æä¾›å•†&lt;/li>
&lt;/ul>
&lt;p>å› æ­¤ï¼Œå½“å¼€å‘äººå‘˜è¿è¡Œ &lt;code>faas-cli deploy&lt;/code>ã€&lt;code>faas-cli list&lt;/code> æˆ–ä½¿ç”¨ &lt;code>curl $API_URL/function/foobar&lt;/code> è°ƒç”¨å‡½æ•°ç­‰å†…å®¹æ—¶ï¼Œè¯·æ±‚å°†å‘é€åˆ°ä¸Šè¿°çš„ API ç½‘å…³ã€‚&lt;/p>
&lt;p>ä¸Šå›¾ä¸­çš„å¦ä¸€ä¸ªé‡è¦ç»„æˆéƒ¨åˆ†æ˜¯ Â &lt;a href="https://github.com/openfaas/faas-provider">faas-provider&lt;/a>ã€‚å®ƒä¸æ˜¯ä¸€ä¸ªå…·ä½“çš„ç»„ä»¶ï¼Œè€Œæ›´åƒæ˜¯æ¥å£ã€‚ä»»ä½•å®ç°&lt;a href="https://github.com/openfaas/faas-provider/blob/36474d89ca995ea0a7c064493258d9edec88fe3f/serve.go#L32-L96">ï¼ˆéå¸¸ç®€æ´ï¼‰çš„æä¾›å•† API&lt;/a> çš„è½¯ä»¶éƒ½å¯ä»¥æˆä¸ºæä¾›å•†ã€‚OpenFaaS æä¾›å•†ï¼š&lt;/p>
&lt;ul>
&lt;li>ç®¡ç†åŠŸèƒ½ï¼ˆéƒ¨ç½²ã€åˆ—è¡¨ã€ç¼©æ”¾ã€åˆ é™¤ï¼‰&lt;/li>
&lt;li>è°ƒç”¨å‡½æ•°&lt;/li>
&lt;li>æš´éœ²ä¸€äº›ç³»ç»Ÿä¿¡æ¯&lt;/li>
&lt;/ul>
&lt;p>ä¸¤ä¸ªæœ€æ³¨æ˜çš„æä¾›å•†æ˜¯ &lt;a href="https://github.com/openfaas/faas-netes">faas-netes&lt;/a>ï¼ˆKubernetes ä¸Šçš„ OpenFaaSï¼‰å’Œ &lt;a href="https://github.com/openfaas/faasd">faasd&lt;/a>ï¼ˆContainerd ä¸Šçš„ OpenFaaSï¼‰ã€‚ä¸‹é¢ï¼Œå°†ä»‹ç»ä»–ä»¬çš„å®ç°ã€‚&lt;/p>
&lt;h3 id="kubernetes-ä¸Šçš„-openfaasfaas-nets">Kubernetes ä¸Šçš„ OpenFaaSï¼ˆfaas-netsï¼‰&lt;/h3>
&lt;p>&lt;a href="https://github.com/openfaas/faas-netes">å½“éƒ¨ç½²åœ¨ Kubernetes ä¸Šæ—¶&lt;/a>ï¼ŒOpenFaaS åˆ©ç”¨äº†è¯¥å¹³å°å¼€ç®±å³ç”¨çš„å¼ºå¤§åŸè¯­ã€‚&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/12/17/16397005465805.png" alt="">&lt;/p>
&lt;p>å…³é”®è¦ç‚¹ï¼š&lt;/p>
&lt;ul>
&lt;li>API ç½‘å…³æˆä¸ºæ ‡å‡†ï¼ˆéƒ¨ç½²+æœåŠ¡ï¼‰å¯¹ã€‚å› æ­¤ï¼Œå¯ä»¥éšå¿ƒæ‰€æ¬²åœ°æ‰©å±•å®ƒã€‚ä¹Ÿå¯ä»¥éšå¿ƒæ‰€æ¬²åœ°æŠŠå®ƒæš´éœ²å‡ºæ¥&lt;/li>
&lt;li>æ¯ä¸ªå‡½æ•°ä¹Ÿæˆä¸ºï¼ˆéƒ¨ç½²+æœåŠ¡ï¼‰å¯¹ã€‚å¯èƒ½ä¸ä¼šç›´æ¥å¤„ç†å‡½æ•°ï¼Œä½†å¯¹äº faas-netesï¼Œç¼©æ”¾å˜å¾—å°±åƒè°ƒæ•´ç›¸åº”çš„å‰¯æœ¬æ•°ä¸€æ ·ç®€å•&lt;/li>
&lt;li>é«˜å¯ç”¨æ€§å’Œå¼€ç®±å³ç”¨çš„æ°´å¹³ç¼©æ”¾ - åŒä¸€åŠŸèƒ½çš„ pod å¯ä»¥ï¼ˆè€Œä¸”åº”è¯¥ï¼‰è·¨å¤šä¸ªé›†ç¾¤èŠ‚ç‚¹è¿è¡Œã€‚&lt;/li>
&lt;li>Kubernetes ä½œä¸ºä¸€ä¸ªæ•°æ®åº“å·¥ä½œï¼›ä¾‹å¦‚ï¼Œå½“è¿è¡Œ &lt;code>faas-cli list&lt;/code> ç­‰å‘½ä»¤æ¥è·å–å½“å‰éƒ¨ç½²çš„å‡½æ•°åˆ—è¡¨æ—¶ï¼Œfaas-netes åªä¼šå°†å…¶è½¬æ¢ä¸ºç›¸åº”çš„ Kubernetes API æŸ¥è¯¢&lt;/li>
&lt;/ul>
&lt;h3 id="containerd-ä¸Šçš„-openfaasfaasd">Containerd ä¸Šçš„ OpenFaaSï¼ˆfaasdï¼‰&lt;/h3>
&lt;p>å¯¹äºæ²¡æœ‰ä½¿ç”¨ Kubernetes é›†ç¾¤çš„äººæ¥è¯´ï¼ŒOpenFaaS æä¾›äº†åä¸º &lt;a href="https://github.com/openfaas/faasd">faasd&lt;/a> çš„æ›¿ä»£è½»é‡çº§æä¾›å•†ã€‚å®ƒå¯ä»¥å®‰è£…åœ¨ï¼ˆè™šæ‹Ÿæˆ–ç‰©ç†ï¼‰æœåŠ¡å™¨ä¸Šï¼Œï¼Œå¹¶åˆ©ç”¨ &lt;a href="https://iximiuz.com/en/posts/containerd-command-line-clients/">containerd&lt;/a> æ¥ç®¡ç†å®¹å™¨ã€‚&lt;a href="https://iximiuz.com/en/posts/journey-from-containerization-to-orchestration-and-beyond/#containerd">æ­£å¦‚æˆ‘ä¹‹å‰å†™çš„é‚£æ ·&lt;/a>ï¼Œå®¹å™¨æ˜¯ä¸€ä¸ªåœ¨ Docker å’Œ Kubernetes ä¸‹ä½¿ç”¨çš„è¾ƒä½çº§åˆ«çš„å®¹å™¨ç®¡ç†å™¨ã€‚ç»“åˆ &lt;a href="https://github.com/containernetworking/plugins">CNI æ’ä»¶&lt;/a>ï¼Œå®ƒæˆä¸ºç¼–å†™å®¹å™¨è°ƒåº¦å™¨çš„æ„å»ºç»„ä»¶ï¼ŒOpenFaaS çš„ faasd æ˜¯ä¸ªå¾ˆå¥½çš„è®²ç©¶æ¡ˆä¾‹ï¼š&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/12/17/16397012181479.png" alt="">&lt;/p>
&lt;p>å…³é”®è¦ç‚¹ï¼š&lt;/p>
&lt;ul>
&lt;li>è¢«è®¾è®¡ä¸ºåœ¨ IoT è®¾å¤‡ä¸Šæˆ– VM ä¸­è¿è¡Œ&lt;/li>
&lt;li>ä½¿ç”¨ containerd çš„åŸç”ŸÂ &lt;code>pause&lt;/code>Â ï¼ˆé€šè¿‡&lt;em>cgroup freezers&lt;/em>ï¼‰å’Œè¶…å¿«é€Ÿå‡½æ•°å†·å¯åŠ¨å¿«é€Ÿæ‰©å±•åˆ°é›¶&lt;/li>
&lt;li>&lt;a href="https://metal.equinix.com/proximity/?wchannelid=ujj9b20qi5&amp;amp;wmediaid=hkkw4b4o5n">å®ƒå¯ä»¥åœ¨æ¯å°æœåŠ¡å™¨ä¸Šè¿è¡Œæ¯” faas-netes å¤šåå€çš„å‡½æ•°&lt;/a>ï¼Œå¹¶ä¸”å¯ä»¥æœ‰æ•ˆåœ°ä½¿ç”¨æ›´ä¾¿å®œçš„ç¡¬ä»¶ï¼ŒåŒ…æ‹¬æ ‘è“æ´¾&lt;/li>
&lt;li>containerd å’Œ faasd ä½œä¸º systemd æœåŠ¡è¿›è¡Œç®¡ç†ï¼Œå› æ­¤ä¼šè‡ªåŠ¨å¤„ç†æ—¥å¿—ã€é‡å¯ç­‰&lt;/li>
&lt;li>æ²¡æœ‰ Kubernetes DNSï¼Œä½† faasd ç¡®ä¿ DNS åœ¨å‡½æ•°ä¹‹é—´å…±äº«ä»¥ç®€åŒ–äº’æ“ä½œ&lt;/li>
&lt;li>containerd æ‰®æ¼”ç€æ•°æ®åº“çš„è§’è‰²ï¼ˆæ¯”å¦‚Â &lt;code>faas-cli list&lt;/code>Â å˜æˆäº†ç±»ä¼¼Â &lt;code>ctr container list&lt;/code>çš„æ“ä½œÂ ï¼‰ï¼Œæ‰€ä»¥å¦‚æœæœåŠ¡å™¨æŒ‚äº†ï¼Œæ‰€æœ‰çŠ¶æ€å°±ä¼šä¸¢å¤±ï¼Œæ¯ä¸ªå‡½æ•°éƒ½éœ€è¦é‡æ–°éƒ¨ç½²&lt;/li>
&lt;li>æ²¡æœ‰å¼€ç®±å³ç”¨çš„é«˜å¯ç”¨æ€§æˆ–æ°´å¹³æ‰©å±•ï¼ˆå‚è§ &lt;a href="https://github.com/openfaas/faasd/issues/225">issue/225&lt;/a>ï¼‰&lt;/li>
&lt;/ul>
&lt;h2 id="æ€»ç»“">æ€»ç»“&lt;/h2>
&lt;p>å¯¹ä½ æ‰€ä½¿ç”¨çš„è½¯ä»¶æœ‰ä¸ªå¥½çš„å¿ƒæ™ºæ¨¡å‹æ˜¯æ˜¯æœ‰ç›Šçš„ï¼Œå®ƒå¯ä»¥æé«˜å¼€å‘æ•ˆç‡ï¼Œé˜²æ­¢å•ä¾‹åœºæ™¯çš„å‘ç”Ÿï¼Œå¹¶ç®€åŒ–äº†æ•…éšœæ’æŸ¥ã€‚&lt;/p>
&lt;p>ä»¥ OpenFaaS ä¸ºä¾‹ï¼ŒåŒºåˆ†å¼€å‘äººå‘˜å’Œè¿ç»´äººå‘˜å¯¹ç³»ç»Ÿçš„çœ‹æ³•å¯èƒ½æ˜¯ä¸ªå¾ˆå¥½çš„æ€è·¯ã€‚ä»&lt;strong>å¼€å‘äººå‘˜è§’åº¦æ¥çœ‹&lt;/strong>ï¼Œè¿™æ˜¯ä¸€ä¸ªç®€å•è€Œå¼ºå¤§çš„æ— æœåŠ¡å™¨è§£å†³æ–¹æ¡ˆï¼Œä¸»è¦å…³æ³¨ FaaS åœºæ™¯ã€‚è¯¥è§£å†³æ–¹æ¡ˆç”±ä¸€ä¸ªç”¨äºç®¡ç†å’Œè°ƒç”¨å‡½æ•°çš„ç®€æ´ APIã€ä¸€ä¸ªæ¶µç›–å¼€å‘äººå‘˜å·¥ä½œæµçš„å‘½ä»¤è¡Œå·¥å…·ä»¥åŠä¸€ä¸ªå‡½æ•°æ¨¡æ¿åº“ç»„æˆã€‚æ— æœåŠ¡å™¨å‡½æ•°ä»¥ä¸åŒçš„è¿è¡Œæ—¶æ¨¡å¼ï¼ˆç±» CGIã€åå‘ä»£ç†ï¼‰åœ¨å®¹å™¨ä¸­è¿è¡Œï¼Œå¹¶æä¾›ä¸åŒçš„éš”ç¦»å’ŒçŠ¶æ€ä¿éšœã€‚&lt;/p>
&lt;p>ä»&lt;strong>è¿ç»´äººå‘˜çš„è§’åº¦æ¥çœ‹&lt;/strong>ï¼ŒOpenFaaS æ˜¯ä¸€ä¸ªå…·æœ‰çµæ´»æ¶æ„çš„æ¨¡å—åŒ–ç³»ç»Ÿï¼Œå¯ä»¥éƒ¨ç½²åœ¨ä¸åŒç±»å‹çš„åŸºç¡€è®¾æ–½ä¹‹ä¸Šï¼šä»æ ‘è“æ´¾åˆ°è£¸æœºæˆ–è™šæ‹Ÿæœºã€ä»¥åŠæˆç†Ÿçš„ Kubernetesã€OpenShift æˆ– Docker Swarm é›†ç¾¤ã€‚å½“ç„¶ï¼Œæ¯ç§é€‰æ‹©éƒ½æœ‰å…¶ä¼˜ç¼ºç‚¹ï¼Œéœ€è¦è¯¦ç»†è¯„ä¼°å–èˆã€‚ä½†å³ä½¿ç°æœ‰é€‰é¡¹éƒ½ä¸åˆé€‚ï¼Œç®€å•çš„ &lt;em>faas-provider&lt;/em> æŠ½è±¡å…è®¸å¼€å‘è‡ªå·±çš„åç«¯æ¥è¿è¡Œæ— æœåŠ¡å™¨åŠŸèƒ½ã€‚&lt;/p>
&lt;p>ä¸Šè¿°å†…å®¹ä¸»è¦é›†ä¸­åœ¨ OpenFaaS åŸºç¡€çŸ¥è¯†ä¸Šã€‚ä½†æ˜¯ OpenFaaS ä¹Ÿæœ‰ä¸€äº›é«˜çº§åŠŸèƒ½ã€‚é€šè¿‡ä»¥ä¸‹é“¾æ¥è¿›ä¸€æ­¥äº†è§£ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://docs.openfaas.com/reference/async/">ä½¿ç”¨ NATS æ¶ˆæ¯ä¼ é€’ç³»ç»Ÿçš„å¼‚æ­¥å‡½æ•°è°ƒç”¨&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.openfaas.com/architecture/autoscaling/">ä½¿ç”¨ Prometheus å’Œ AlertManager è‡ªåŠ¨ç¼©æ”¾åŠŸèƒ½&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/openfaas/faas-middleware/tree/ace4eb24749c0814850a56b23b0015232dd41c2a/concurrency-limiter">å‡½æ•°è°ƒç”¨é™åˆ¶&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://openfaas.gumroad.com/l/serverless-for-everyone-else">ä½¿ç”¨ docker-compose é€šè¿‡ faasd è¿è¡Œæœ‰çŠ¶æ€çš„å·¥ä½œè´Ÿè½½&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="èµ„æº">èµ„æº&lt;/h3>
&lt;ul>
&lt;li>&lt;a href="https://docs.openfaas.com/">OpenFaaS å®˜æ–¹æ–‡æ¡£&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://blog.alexellis.io/deploy-serverless-faasd-with-cloud-init/">ä¸€å †æ¸…æ™°çš„ OpenFaaS ç”¨ä¾‹&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://blog.alexellis.io/cli-functions-with-openfaas/">ä½¿ç”¨ OpenFaaS å°†ä»»ä½• CLI è½¬æ¢ä¸ºå‡½æ•°&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.openfaas.com/blog/introducing-faasd/">faasd ä»‹ç»ã€åŠ¨æœºã€ä¸»è¦ç”¨ä¾‹&lt;/a>&lt;/li>
&lt;li>ğŸ“–&lt;a href="https://openfaas.gumroad.com/l/serverless-for-everyone-else">é¢å‘å…¶ä»–äººçš„æ— æœåŠ¡å™¨&lt;/a>- å°½ç®¡æœ‰é€šç”¨åç§°ï¼Œä½†å®ƒæ˜¯ faasd çš„ä¸€ä¸ªéå¸¸è¯¦ç»†çš„æŒ‡å—&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>ä½œè€…ä»‹ç»ï¼š
Ivan Velichko
Software Engineer at heart, SRE at day job, Tech Storyteller at night.&lt;/p>
&lt;/blockquote></description></item><item><title>ä½å¤æ‚åº¦ - æœåŠ¡ç½‘æ ¼çš„ä¸‹ä¸€ç«™</title><link>https://atbug.com/service-mesh-unnecessary-complexity/</link><pubDate>Fri, 15 Oct 2021 07:58:25 +0800</pubDate><guid>https://atbug.com/service-mesh-unnecessary-complexity/</guid><description>
&lt;p>&lt;strong>è¯‘è€…ï¼š&lt;/strong>&lt;/p>
&lt;p>ä½œä¸ºä¸€ä¸ªæ›¾ç»åœ¨åˆ¶é€ ä¸šä¼ä¸šçš„åŸºç¡€æ¶æ„å›¢é˜Ÿä»»èŒï¼Œä¸ºæ”¯æŒå…¬å¸çš„â€œäº’è”ç½‘åŸºå› â€å’Œâ€œæ•°å­—åŒ–è½¬å‹â€è½åœ°äº†äº‘åŸç”ŸåŸºç¡€è®¾æ–½å¹³å°ï¼Œå¹¶åœ¨å°è¯•é‡‡ç”¨æœåŠ¡ç½‘æ ¼æœªæˆçš„æˆ‘æ¥è¯´ï¼Œçœ‹åˆ°è¿™ç¯‡æ–‡ç« æ·±æœ‰æ„Ÿè§¦ã€‚å°¤å…¶æ˜¯æ–‡ä¸­æ‰€è¯´çš„â€œäººå°‘ï¼Œé—®é¢˜å¤šï¼Œéœ€è¦å¿«é€Ÿè¾“å‡ºä»·å€¼â€ï¼Œç›´æˆ³åˆ°äº†ç—›å¤„ã€‚æœ‰é™çš„äººæ‰‹æœ‰é™çš„æ—¶é—´ï¼Œæˆ‘ä»¬éœ€è¦å°†å¤§éƒ¨åˆ†ç²¾åŠ›é›†ä¸­åœ¨è§£å†³æˆç†Ÿåº¦æ›²çº¿è¾ƒä½çš„åŸºæœ¬é—®é¢˜ä¸Šï¼Œè¦æƒ³å¾ˆå¥½çš„è¿è¡Œå¤æ‚çš„ç³»ç»Ÿæ˜¯éå¸¸å›°éš¾çš„ã€‚&lt;/p>
&lt;p>æœåŠ¡ç½‘æ ¼æ˜¯ä¸€ä¸ªæ–°çš„åŸºç¡€è®¾æ–½å±‚ï¼Œå¯ä»¥æ‰¿è½½å¾ˆå¤šçš„åŠŸèƒ½ï¼Œæœªæ¥è¿˜ä¼šæœ‰æ›´å¤§çš„æƒ³è±¡ç©ºé—´å’Œå…‰æ˜çš„æœªæ¥ã€‚&lt;/p>
&lt;p>ä»¥ä¸Šçš„ç§ç§åŸå› ï¼Œä¹Ÿä¿ƒä½¿æˆ‘åæ¥é€‰æ‹©è¿›å…¥ä¸€å®¶æä¾›æœåŠ¡ç½‘æ ¼çš„äº§å“ä¼ä¸šï¼Œä¹Ÿå¸Œæœ›æœåŠ¡ç½‘æ ¼å¯ä»¥è¢«æ›´ç®€å•çš„ä½¿ç”¨ã€‚&lt;/p>
&lt;p>â€œé“é˜»ä¸”é•¿ï¼Œè¡Œåˆ™å°†è‡³ï¼â€&lt;/p>
&lt;p>æœ¬æ–‡ç¿»è¯‘è‡ª Chris Campbell çš„ &lt;a href="https://www.infoq.com/articles/service-mesh-unnecessary-complexity">How Unnecessary Complexity Gave the Service Mesh a Bad Name&lt;/a>&lt;/p>
&lt;hr>
&lt;h3 id="å…³é”®è¦ç‚¹">å…³é”®è¦ç‚¹&lt;/h3>
&lt;ul>
&lt;li>é‡‡ç”¨æœåŠ¡ç½‘æ ¼æœ‰å·¨å¤§çš„ä»·å€¼ï¼Œä½†å¿…é¡»ä»¥è½»é‡çº§çš„æ–¹å¼è¿›è¡Œï¼Œä»¥é¿å…ä¸å¿…è¦çš„å¤æ‚æ€§ã€‚&lt;/li>
&lt;li>åœ¨å®æ–½æœåŠ¡ç½‘æ—¶ï¼Œè¦é‡‡å–åŠ¡å®çš„æ–¹æ³•ï¼Œä¸æŠ€æœ¯çš„æ ¸å¿ƒåŠŸèƒ½ä¿æŒä¸€è‡´ï¼Œå¹¶å°å¿ƒå¹²æ‰°ï¼ˆè¯‘è€…ï¼šæ³¨æ„åŠ›çš„åˆ†æ•£ï¼‰ã€‚&lt;/li>
&lt;li>æœåŠ¡ç½‘æ ¼çš„ä¸€äº›æ ¸å¿ƒç‰¹æ€§åŒ…æ‹¬æ ‡å‡†åŒ–ç›‘æ§ã€è‡ªåŠ¨åŠ å¯†å’Œèº«ä»½è¯†åˆ«ã€æ™ºèƒ½è·¯ç”±ã€å¯é çš„é‡è¯•å’Œç½‘ç»œå¯æ‰©å±•æ€§ã€‚&lt;/li>
&lt;li>æœåŠ¡ç½‘æ ¼å¯ä»¥æä¾›å¼ºå¤§çš„åŠŸèƒ½ï¼Œä½†è¿™äº›åŠŸèƒ½ä¼šåˆ†æ•£æœ¬åº”å¯¹æ ¸å¿ƒä¼˜åŠ¿çš„å…³æ³¨ï¼Œå¹¶ä¸”è¿™äº›åŠŸèƒ½ä¹Ÿä¸æ˜¯å®æ–½æœåŠ¡ç½‘æ ¼çš„ä¸»è¦åŸå› ã€‚&lt;/li>
&lt;li>åœ¨åˆå§‹å®æ–½æœåŠ¡ç½‘æ ¼æ—¶æ²¡æœ‰å¿…è¦å»å…³æ³¨é‚£äº›æ˜æ˜¾ä¼šåˆ†æ•£æ³¨æ„åŠ›çš„åŠŸèƒ½ï¼Œæ¯”å¦‚å¤æ‚çš„æ§åˆ¶å¹³é¢ã€å¤šé›†ç¾¤æ”¯æŒã€Envoyã€WASM å’Œ A/B æµ‹è¯•ã€‚&lt;/li>
&lt;/ul>
&lt;hr>
&lt;p>æœåŠ¡ç½‘æ ¼æ˜¯ Kubernetes ä¸–ç•Œä¸­çš„ä¸€ä¸ªçƒ­é—¨è¯é¢˜ï¼Œä½†è®¸å¤šæ½œåœ¨çš„é‡‡ç”¨è€…å·²ç»æœ‰äº›å¤±æœ›äº†ã€‚æœåŠ¡ç½‘æ ¼çš„è½åœ°å—åˆ°å‹å€’æ€§çš„å¤æ‚æ€§å’Œçœ‹ä¼¼æ— ç©·æ— å°½çš„ä¾›åº”å•†è§£å†³æ–¹æ¡ˆçš„é™åˆ¶ã€‚åœ¨æˆ‘äº²è‡ªæµè§ˆäº†è¿™ä¸ªé¢†åŸŸä¹‹åï¼Œæˆ‘å‘ç°é‡‡ç”¨æœåŠ¡ç½‘æ ¼å…·æœ‰å·¨å¤§çš„ä»·å€¼ï¼Œä½†å®ƒå¿…é¡»ä»¥è½»é‡çº§çš„æ–¹å¼å®Œæˆï¼Œä»¥é¿å…ä¸å¿…è¦çš„å¤æ‚æ€§ã€‚å°½ç®¡æ™®éå­˜åœ¨å¹»ç­æ„Ÿï¼Œä½†æœåŠ¡ç½‘æ ¼çš„æœªæ¥ä¾ç„¶å…‰æ˜ã€‚&lt;/p>
&lt;h2 id="åœ¨å·¥ä½œä¸­å­¦ä¹ ">åœ¨å·¥ä½œä¸­å­¦ä¹ &lt;/h2>
&lt;p>æˆ‘è¿›å…¥æœåŠ¡ç½‘æ ¼çš„ä¸–ç•Œå§‹äºæˆ‘åœ¨ä¸€å®¶è€ç‰Œçš„è´¢å¯Œ 500 å¼ºæŠ€æœ¯å…¬å¸æ‹…ä»»äº‘è®¡ç®—æ¶æ„å¸ˆçš„è§’è‰²ã€‚åœ¨å¼€å§‹æˆ‘ä»¬çš„æœåŠ¡ç½‘æ ¼ä¹‹æ—…æ—¶ï¼Œæˆ‘èº«è¾¹æœ‰è®¸å¤šå¼ºå¤§çš„å·¥ç¨‹å¸ˆï¼Œä½†å¤§å¤šæ•°äººå‡ ä¹æ²¡æœ‰äº‘è®¡ç®—å¼€å‘ç»éªŒã€‚æˆ‘ä»¬çš„ç»„ç»‡è¯ç”Ÿäºäº‘è®¡ç®—ä¹‹å‰ï¼Œå®Œå…¨å®ç°äº‘è®¡ç®—çš„ä»·å€¼éœ€è¦æ—¶é—´ã€‚æˆ‘ä»¬çš„ä¼ ç»Ÿä¸šåŠ¡çº¿ä¸»è¦é›†ä¸­åœ¨æŠ€æœ¯æ ˆçš„ç¡¬ä»¶å…ƒç´ ä¸Šï¼Œäº‘è®¡ç®—çš„å†³ç­–æœ€åˆæ˜¯ç”±ä¸ºè¿é€ç¡¬ä»¶æˆ–ä¸ºè¯¥ç¡¬ä»¶æä¾›å›ºä»¶å’Œé©±åŠ¨ç¨‹åºè€Œå¼€å‘çš„æµç¨‹é©±åŠ¨çš„ã€‚&lt;/p>
&lt;p>éšç€è¯¥ç»„ç»‡ç»å†å…¶â€œæ•°å­—åŒ–è½¬å‹â€ï¼Œå®ƒè¶Šæ¥è¶Šä¾èµ–äºæä¾›é«˜è´¨é‡çš„è½¯ä»¶æœåŠ¡ï¼Œå¹¶é€æ¸å¼€å‘å‡ºæ›´å¥½çš„æ–¹æ³•ã€‚ä½†ä½œä¸ºäº‘è®¡ç®—æ¶æ„å¸ˆï¼Œæˆ‘ä»åœ¨ä¸ºä¼˜å…ˆè€ƒè™‘ç¡¬ä»¶çš„ä¸šåŠ¡æµç¨‹ï¼Œä»¥åŠå…·æœ‰ä¸åŒæŠ€èƒ½ã€æµç¨‹å’Œä¿¡å¿µçš„å·¥ç¨‹å›¢é˜Ÿå¯¼èˆªã€‚éšç€æ—¶é—´çš„æ¨ç§»ï¼Œæˆ‘å’Œæˆ‘çš„å›¢é˜Ÿåœ¨å°† .NET åº”ç”¨ç¨‹åºè¿ç§»åˆ° Linuxã€é‡‡ç”¨ Dockerã€è¿ç§»åˆ° AWS ä»¥åŠä¸ä¹‹ç›¸å…³çš„æœ€ä½³å®è·µï¼ˆå¦‚æŒç»­é›†æˆã€è‡ªåŠ¨åŒ–éƒ¨ç½²ã€ä¸å¯å˜åŸºç¡€è®¾æ–½ã€åŸºç¡€è®¾æ–½å³ä»£ç ã€ç›‘æ§ç­‰ï¼‰æ–¹é¢å˜å¾—ç†Ÿç»ƒå¹¶æˆåŠŸã€‚ä½†æŒ‘æˆ˜ä¾ç„¶å­˜åœ¨ã€‚&lt;/p>
&lt;p>åœ¨æ­¤æœŸé—´ï¼Œæˆ‘ä»¬å¼€å§‹å°†æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºæ‹†åˆ†ä¸ºä¸€ç»„å¾®æœåŠ¡ã€‚èµ·åˆï¼Œè¿™æ˜¯ä¸€ä¸ªç¼“æ…¢çš„è½¬å˜ï¼Œä½†æœ€ç»ˆè¿™ç§æ–¹æ³•æµè¡Œèµ·æ¥ï¼Œå¼€å‘äººå‘˜å¼€å§‹æ›´å–œæ¬¢æ„å»ºæ–°çš„æœåŠ¡è€Œä¸æ˜¯æ·»åŠ åˆ°ç°æœ‰æœåŠ¡ã€‚æˆ‘ä»¬è¿™äº›åŸºç¡€è®¾æ–½å›¢é˜Ÿçš„äººæŠŠè¿™çœ‹ä½œæ˜¯ä¸€ç§æˆåŠŸã€‚å”¯ä¸€çš„é—®é¢˜æ˜¯ä¸ç½‘ç»œç›¸å…³çš„é—®é¢˜æ•°é‡æ¿€å¢ï¼Œå¼€å‘äººå‘˜æ­£åœ¨å‘æˆ‘ä»¬å¯»æ±‚ç­”æ¡ˆï¼Œè€Œæˆ‘ä»¬è¿˜æ²¡æœ‰å‡†å¤‡å¥½æœ‰æ•ˆåœ°åº”å¯¹è¿™ç§å†²å‡»ã€‚&lt;/p>
&lt;h2 id="æœåŠ¡ç½‘æ ¼çš„æ´æ•‘">æœåŠ¡ç½‘æ ¼çš„æ´æ•‘&lt;/h2>
&lt;p>æˆ‘ç¬¬ä¸€æ¬¡å¬è¯´æœåŠ¡ç½‘æ ¼æ˜¯åœ¨ 2015 å¹´ï¼Œå½“æ—¶æˆ‘æ­£åœ¨ç ”ç©¶æœåŠ¡å‘ç°å·¥å…·å¹¶å¯»æ‰¾ä¸ Consul é›†æˆçš„ç®€å•æ–¹æ³•ã€‚æˆ‘å–œæ¬¢å°†åº”ç”¨ç¨‹åºèŒè´£å¸è½½åˆ°â€œsidecarâ€å®¹å™¨çš„æƒ³æ³•ï¼Œå¹¶æ‰¾åˆ°äº†ä¸€äº›å¯ä»¥å¸®åŠ©åšåˆ°è¿™ä¸€ç‚¹çš„å·¥å…·ã€‚å¤§çº¦åœ¨è¿™ä¸ªæ—¶å€™ï¼ŒDocker æœ‰ä¸€ä¸ªå«åšâ€œé“¾æ¥â€çš„åŠŸèƒ½ï¼Œè®©ä½ å¯ä»¥å°†ä¸¤ä¸ªåº”ç”¨ç¨‹åºæ”¾åœ¨ä¸€ä¸ªå…±äº«çš„ç½‘ç»œç©ºé—´ä¸­ï¼Œè¿™æ ·å®ƒä»¬å°±å¯ä»¥é€šè¿‡ localhost è¿›è¡Œé€šä¿¡ã€‚æ­¤åŠŸèƒ½æä¾›äº†ç±»ä¼¼äºæˆ‘ä»¬ç°åœ¨åœ¨ Kubernetes pod ä¸­æ‰€æ‹¥æœ‰çš„ä½“éªŒï¼šä¸¤ä¸ªç‹¬ç«‹æ„å»ºçš„æœåŠ¡å¯ä»¥åœ¨éƒ¨ç½²æ—¶è¿›è¡Œç»„åˆä»¥å®ç°ä¸€äº›é™„åŠ åŠŸèƒ½ã€‚&lt;/p>
&lt;p>æˆ‘æ€»æ˜¯æŠ“ä½æœºä¼šç”¨ç®€å•çš„æ–¹æ¡ˆæ¥è§£å†³å¤§é—®é¢˜ï¼Œå› æ­¤è¿™äº›æ–°åŠŸèƒ½çš„åŠ›é‡ç«‹å³æ‰“åŠ¨äº†æˆ‘ã€‚è™½ç„¶è¿™ä¸ªå·¥å…·æ˜¯ä¸ºäº†ä¸ Consul é›†æˆè€Œæ„å»ºçš„ï¼Œä½†å®é™…ä¸Šï¼Œå®ƒå¯ä»¥åšä»»ä½•ä½ æƒ³åšçš„äº‹æƒ…ã€‚è¿™æ˜¯æˆ‘ä»¬æ‹¥æœ‰çš„åŸºç¡€è®¾æ–½å±‚ï¼Œå¯ä»¥ç”¨æ¥ä¸€æ¬¡ä¸ºæ‰€æœ‰äººè§£å†³é—®é¢˜ã€‚&lt;/p>
&lt;p>è¿™æ–¹é¢çš„ä¸€ä¸ªå…·ä½“ä¾‹å­å‡ºç°åœ¨æˆ‘ä»¬é‡‡ç”¨è¿‡ç¨‹çš„æ—©æœŸã€‚å½“æ—¶ï¼Œæˆ‘ä»¬æ­£è‡´åŠ›äºè·¨ä¸åŒæœåŠ¡çš„æ—¥å¿—æ ‡å‡†åŒ–è¾“å‡ºã€‚é€šè¿‡é‡‡ç”¨æœåŠ¡ç½‘æ ¼å’Œè¿™ç§æ–°çš„è®¾è®¡æ¨¡å¼ï¼Œæˆ‘ä»¬èƒ½å¤Ÿå°†æˆ‘ä»¬çš„äººçš„é—®é¢˜â€”â€”è®©å¼€å‘äººå‘˜æ ‡å‡†åŒ–ä»–ä»¬çš„æ—¥å¿—â€”â€”æ¢æˆæŠ€æœ¯é—®é¢˜â€”â€”å°†æ‰€æœ‰æµé‡ä¼ é€’ç»™å¯ä»¥ä¸ºä»–ä»¬è®°å½•æ—¥å¿—çš„ä»£ç†ã€‚è¿™æ˜¯æˆ‘ä»¬å›¢é˜Ÿå‘å‰è¿ˆå‡ºçš„é‡è¦ä¸€æ­¥ã€‚&lt;/p>
&lt;p>æˆ‘ä»¬å¯¹æœåŠ¡ç½‘æ ¼çš„å®ç°éå¸¸åŠ¡å®ï¼Œå¹¶ä¸”ä¸è¯¥æŠ€æœ¯çš„æ ¸å¿ƒåŠŸèƒ½éå¸¸å»åˆã€‚ç„¶è€Œï¼Œå¤§éƒ¨åˆ†è¥é”€ç‚’ä½œéƒ½é›†ä¸­åœ¨ä¸å¤ªéœ€è¦çš„è¾¹ç¼˜æ¡ˆä¾‹ä¸Šï¼Œåœ¨è¯„ä¼°æœåŠ¡ç½‘æ ¼æ˜¯å¦é€‚åˆä½ æ—¶ï¼Œèƒ½å¤Ÿè¯†åˆ«è¿™äº›å¹²æ‰°æ˜¯å¾ˆé‡è¦çš„ã€‚&lt;/p>
&lt;h1 id="æ ¸å¿ƒåŠŸèƒ½">æ ¸å¿ƒåŠŸèƒ½&lt;/h1>
&lt;p>æœåŠ¡ç½‘æ ¼å¯ä»¥æä¾›çš„æ ¸å¿ƒåŠŸèƒ½åˆ†ä¸ºå››ä¸ªå…³é”®è´£ä»»é¢†åŸŸï¼šå¯è§‚å¯Ÿæ€§ã€å®‰å…¨æ€§ã€è¿æ¥æ€§å’Œå¯é æ€§ã€‚è¿™äº›åŠŸèƒ½åŒ…æ‹¬ï¼š&lt;/p>
&lt;h2 id="æ ‡å‡†åŒ–ç›‘æ§">æ ‡å‡†åŒ–ç›‘æ§&lt;/h2>
&lt;p>æˆ‘ä»¬å–å¾—çš„æœ€å¤§èƒœåˆ©ä¹‹ä¸€ï¼Œä¹Ÿæ˜¯æœ€å®¹æ˜“é‡‡ç”¨çš„ï¼Œæ˜¯æ ‡å‡†åŒ–ç›‘æ§ã€‚å®ƒçš„è¿è¥æˆæœ¬éå¸¸ä½ï¼Œå¯ä»¥é€‚åº”ä½ ä½¿ç”¨çš„ä»»ä½•ç›‘æ§ç³»ç»Ÿã€‚å®ƒä½¿ç»„ç»‡èƒ½å¤Ÿæ•è·æ‰€æœ‰ HTTP æˆ– gRPC æŒ‡æ ‡ï¼Œå¹¶ä»¥æ ‡å‡†æ–¹å¼åœ¨æ•´ä¸ªç³»ç»Ÿä¸­å­˜å‚¨å®ƒä»¬ã€‚è¿™æ§åˆ¶äº†å¤æ‚æ€§å¹¶å‡è½»äº†åº”ç”¨ç¨‹åºå›¢é˜Ÿçš„è´Ÿæ‹…ï¼Œä»–ä»¬ä¸å†éœ€è¦å®ç° Prometheus æŒ‡æ ‡ç«¯ç‚¹æˆ–æ ‡å‡†åŒ–æ—¥å¿—æ ¼å¼ã€‚å®ƒè¿˜ä½¿ç”¨æˆ·èƒ½å¤Ÿå…¬æ­£åœ°äº†è§£å…¶åº”ç”¨ç¨‹åºçš„&lt;a href="https://sre.google/sre-book/monitoring-distributed-systems/#xref_monitoring_golden-signals">é»„é‡‘ä¿¡å·&lt;/a>ã€‚&lt;/p>
&lt;h2 id="è‡ªåŠ¨åŠ å¯†å’Œèº«ä»½è¯†åˆ«">è‡ªåŠ¨åŠ å¯†å’Œèº«ä»½è¯†åˆ«&lt;/h2>
&lt;p>è¯ä¹¦ç®¡ç†å¾ˆéš¾åšå¥½ã€‚å¦‚æœä¸€ä¸ªç»„ç»‡è¿˜æ²¡æœ‰åœ¨è¿™æ–¹é¢è¿›è¡ŒæŠ•å…¥ï¼Œä»–ä»¬åº”è¯¥æ‰¾åˆ°ä¸€ä¸ªç½‘æ ¼æ¥ä¸ºä»–ä»¬åšè¿™ä»¶äº‹ã€‚è¯ä¹¦ç®¡ç†éœ€è¦ç»´æŠ¤å…·æœ‰å·¨å¤§å®‰å…¨éšæ‚£çš„å¤æ‚åŸºç¡€è®¾æ–½ä»£ç ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œç½‘æ ¼å°†èƒ½å¤Ÿä¸ç¼–æ’ç³»ç»Ÿé›†æˆï¼Œä»¥äº†è§£å·¥ä½œè´Ÿè½½çš„èº«ä»½ï¼Œåœ¨éœ€è¦æ—¶å¯ä»¥ç”¨æ¥æ‰§è¡Œç­–ç•¥ã€‚è¿™å…è®¸æä¾›ä¸ Calico æˆ– Cilium ç­‰åŠŸèƒ½å¼ºå¤§çš„ CNI æä¾›çš„å®‰å…¨æ€åŠ¿ç›¸å½“æˆ–æ›´å¥½çš„å®‰å…¨æ€åŠ¿ã€‚&lt;/p>
&lt;h2 id="æ™ºèƒ½è·¯ç”±">æ™ºèƒ½è·¯ç”±&lt;/h2>
&lt;p>æ™ºèƒ½è·¯ç”±æ˜¯å¦ä¸€ä¸ªç‰¹æ€§ï¼Œå®ƒä½¿ç½‘æ ¼èƒ½å¤Ÿåœ¨å‘é€è¯·æ±‚æ—¶â€œåšæ­£ç¡®çš„äº‹â€ã€‚åœºæ™¯åŒ…æ‹¬ï¼š&lt;/p>
&lt;ol>
&lt;li>ä½¿ç”¨å»¶è¿ŸåŠ æƒç®—æ³•ä¼˜åŒ–æµé‡&lt;/li>
&lt;li>æ‹“æ‰‘æ„ŸçŸ¥è·¯ç”±ä»¥æé«˜æ€§èƒ½å¹¶é™ä½æˆæœ¬&lt;/li>
&lt;li>æ ¹æ®è¯·æ±‚æˆåŠŸçš„å¯èƒ½æ€§ä½¿è¯·æ±‚è¶…æ—¶&lt;/li>
&lt;li>ä¸ç¼–æ’ç³»ç»Ÿé›†æˆä»¥è¿›è¡Œ IP è§£æï¼Œè€Œä¸æ˜¯ä¾èµ– DNS&lt;/li>
&lt;li>ä¼ è¾“å‡çº§ï¼Œä¾‹å¦‚ HTTP åˆ° HTTP/2&lt;/li>
&lt;/ol>
&lt;p>è¿™äº›åŠŸèƒ½å¯èƒ½ä¸ä¼šè®©æ™®é€šäººæ„Ÿåˆ°å…´å¥‹ï¼Œä½†éšç€æ—¶é—´çš„æ¨ç§»ï¼Œå®ƒä»¬ä»æ ¹æœ¬ä¸Šå¢åŠ äº†ä»·å€¼&lt;/p>
&lt;h2 id="å¯é çš„é‡è¯•">å¯é çš„é‡è¯•&lt;/h2>
&lt;p>åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­é‡è¯•è¯·æ±‚å¯èƒ½å¾ˆéº»çƒ¦ï¼Œä½†æ˜¯å®ƒå‡ ä¹æ€»æ˜¯éœ€è¦å®ç°çš„ã€‚åˆ†å¸ƒå¼ç³»ç»Ÿé€šå¸¸ä¼šå°†ä¸€ä¸ªå®¢æˆ·ç«¯è¯·æ±‚è½¬æ¢ä¸ºæ›´å¤šä¸‹æ¸¸è¯·æ±‚ï¼Œè¿™æ„å‘³ç€â€œå°¾å·´â€åœºæ™¯çš„å¯èƒ½æ€§ä¼šå¤§å¤§å¢åŠ ï¼Œä¾‹å¦‚å‘ç”Ÿå¼‚å¸¸å¤±è´¥çš„è¯·æ±‚ã€‚å¯¹æ­¤æœ€ç®€å•çš„ç¼“è§£æªæ–½æ˜¯é‡è¯•å¤±è´¥çš„è¯·æ±‚ã€‚&lt;/p>
&lt;p>å›°éš¾æ¥è‡ªäºé¿å…â€œé‡è¯•é£æš´â€æˆ–â€œé‡è¯• DDoSâ€ï¼Œå³å½“å¤„äºé™çº§çŠ¶æ€çš„ç³»ç»Ÿè§¦å‘é‡è¯•ã€éšç€é‡è¯•å¢åŠ è€Œå¢åŠ è´Ÿè½½å¹¶è¿›ä¸€æ­¥é™ä½æ€§èƒ½æ—¶ã€‚å¤©çœŸçš„å®ç°ä¸ä¼šè€ƒè™‘è¿™ç§æƒ…å†µï¼Œå› ä¸ºå®ƒå¯èƒ½éœ€è¦ä¸ç¼“å­˜æˆ–å…¶ä»–é€šä¿¡ç³»ç»Ÿé›†æˆä»¥äº†è§£æ˜¯å¦å€¼å¾—æ‰§è¡Œé‡è¯•ã€‚æœåŠ¡ç½‘æ ¼å¯ä»¥é€šè¿‡å¯¹æ•´ä¸ªç³»ç»Ÿå…è®¸çš„é‡è¯•æ€»æ•°è¿›è¡Œé™åˆ¶æ¥å®ç°è¿™ä¸€ç‚¹ã€‚ç½‘æ ¼è¿˜å¯ä»¥åœ¨è¿™äº›é‡è¯•å‘ç”Ÿæ—¶æŠ¥å‘Šè¿™äº›é‡è¯•ï¼Œå¯èƒ½ä¼šåœ¨ä½ çš„ç”¨æˆ·æ³¨æ„åˆ°ç³»ç»Ÿé™çº§ä¹‹å‰æé†’ä½ ã€‚&lt;/p>
&lt;h2 id="ç½‘ç»œå¯æ‰©å±•æ€§">ç½‘ç»œå¯æ‰©å±•æ€§&lt;/h2>
&lt;p>ä¹Ÿè®¸æœåŠ¡ç½‘æ ¼çš„æœ€ä½³å±æ€§æ˜¯å®ƒçš„å¯æ‰©å±•æ€§ã€‚å®ƒæä¾›äº†é¢å¤–çš„é€‚åº”æ€§å±‚ï¼Œä»¥åº”å¯¹ IT ä¸‹ä¸€æ­¥æŠ•å…¥çš„ä»»ä½•äº‹æƒ…ã€‚Sidecar ä»£ç†çš„è®¾è®¡æ¨¡å¼æ˜¯å¦ä¸€ä¸ªä»¤äººå…´å¥‹å’Œå¼ºå¤§çš„åŠŸèƒ½ï¼Œå³ä½¿å®ƒæœ‰æ—¶ä¼šè¢«è¿‡åº¦å®£ä¼ å’Œè¿‡åº¦è®¾è®¡æ¥åšç”¨æˆ·å’ŒæŠ€æœ¯äººå‘˜è¿˜æ²¡æœ‰å‡†å¤‡å¥½çš„äº‹æƒ…ã€‚è™½ç„¶ç¤¾åŒºåœ¨ç­‰ç€çœ‹å“ªä¸ªæœåŠ¡ç½‘æ ¼â€œç”Ÿå‡ºâ€ï¼Œè¿™åæ˜ äº†ä¹‹å‰è¿‡åº¦ç‚’ä½œçš„ç¼–æ’æˆ˜äº‰ï¼Œä½†æœªæ¥æˆ‘ä»¬å°†ä¸å¯é¿å…åœ°çœ‹åˆ°æ›´å¤šä¸“é—¨æ„å»ºçš„ç½‘æ ¼ï¼Œå¹¶ä¸”å¯èƒ½ä¼šæœ‰æ›´å¤šçš„æœ€ç»ˆç”¨æˆ·æ„å»ºè‡ªå·±çš„æ§åˆ¶å¹³é¢å’Œä»£ç†ä»¥æ»¡è¶³ä»–ä»¬çš„åœºæ™¯ã€‚&lt;/p>
&lt;h1 id="æœåŠ¡ç½‘æ ¼å¹²æ‰°">æœåŠ¡ç½‘æ ¼å¹²æ‰°&lt;/h1>
&lt;p>å¹³å°æˆ–åŸºç¡€è®¾æ–½æ§åˆ¶å±‚çš„ä»·å€¼æ€ä¹ˆå¼ºè°ƒéƒ½ä¸ä¸ºè¿‡ã€‚ç„¶è€Œï¼Œåœ¨æœåŠ¡ç½‘æ ¼ä¸–ç•Œä¸­ï¼Œæˆ‘äº†è§£åˆ°å…¥é—¨çš„ä¸€ä¸ªä¸»è¦çš„æŒ‘æˆ˜æ˜¯ï¼ŒæœåŠ¡ç½‘æ ¼è§£å†³çš„æ ¸å¿ƒé—®é¢˜é€šå¸¸ç”šè‡³ä¸æ˜¯å¤§å¤šæ•°æœåŠ¡ç½‘æ ¼é¡¹ç›®äº¤æµçš„ç„¦ç‚¹ï¼&lt;/p>
&lt;p>ç›¸åï¼Œæ¥è‡ªæœåŠ¡ç½‘æ ¼é¡¹ç›®çš„å¤§éƒ¨åˆ†äº¤æµéƒ½å›´ç»•ç€å¬èµ·æ¥å¾ˆå¼ºå¤§æˆ–ä»¤äººå…´å¥‹ä½†æœ€ç»ˆä¼šè®©äººåˆ†å¿ƒçš„åŠŸèƒ½ã€‚è¿™åŒ…æ‹¬ï¼š&lt;/p>
&lt;h2 id="å¼ºå¤å¤§æ‚çš„æ§åˆ¶å¹³é¢">å¼ºï¼ˆå¤ï¼‰å¤§ï¼ˆæ‚ï¼‰çš„æ§åˆ¶å¹³é¢&lt;/h2>
&lt;p>è¦å¾ˆå¥½åœ°è¿è¡Œå¤æ‚çš„è½¯ä»¶æ˜¯éå¸¸å›°éš¾çš„ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆå¦‚æ­¤å¤šçš„ç»„ç»‡ä½¿ç”¨äº‘è®¡ç®—æ¥ä½¿ç”¨å®Œå…¨æ‰˜ç®¡çš„æœåŠ¡æ¥å‡è½»è¿™ä¸€ç‚¹çš„åŸå› ã€‚é‚£ä¹ˆä¸ºä»€ä¹ˆæœåŠ¡ç½‘æ ¼é¡¹ç›®ä¼šè®©æˆ‘ä»¬è´Ÿè´£æ“ä½œå¦‚æ­¤å¤æ‚çš„ç³»ç»Ÿå‘¢ï¼Ÿç³»ç»Ÿçš„å¤æ‚æ€§ä¸æ˜¯èµ„äº§ï¼Œè€Œæ˜¯è´Ÿå€ºï¼Œä½†å¤§å¤šæ•°é¡¹ç›®éƒ½åœ¨å¹æ§å®ƒä»¬çš„åŠŸèƒ½é›†å’Œå¯é…ç½®æ€§ã€‚&lt;/p>
&lt;h2 id="å¤šé›†ç¾¤æ”¯æŒ">å¤šé›†ç¾¤æ”¯æŒ&lt;/h2>
&lt;p>å¤šé›†ç¾¤ç°åœ¨æ˜¯ä¸€ä¸ªçƒ­é—¨è¯é¢˜ã€‚æœ€ç»ˆï¼Œå¤§å¤šæ•°å›¢é˜Ÿå°†è¿è¡Œå¤šä¸ª Kubernetes é›†ç¾¤ã€‚ä½†æ˜¯å¤šé›†ç¾¤çš„ä¸»è¦ç—›ç‚¹æ˜¯ä½ çš„ Kubernetes ç®¡ç†çš„ç½‘ç»œè¢«åˆ‡åˆ†ã€‚æœåŠ¡ç½‘æ ¼æœ‰åŠ©äºè§£å†³è¿™ä¸ª Kubernetes æ¨ªå‘æ‰©å±•é—®é¢˜ï¼Œä½†å®ƒæœ€ç»ˆå¹¶æ²¡æœ‰å¸¦æ¥ä»»ä½•æ–°çš„ä¸œè¥¿ã€‚æ˜¯çš„ï¼Œå¤šé›†ç¾¤æ”¯æŒæ˜¯å¿…è¦çš„ï¼Œä½†å®ƒå¯¹æœåŠ¡ç½‘æ ¼çš„æ‰¿è¯ºè¢«è¿‡åº¦å®£ä¼ äº†ã€‚&lt;/p>
&lt;h2 id="envoy">Envoy&lt;/h2>
&lt;p>Envoy æ˜¯ä¸€ä¸ªå¾ˆæ£’çš„å·¥å…·ï¼Œä½†å®ƒè¢«ä½œä¸ºæŸç§æ ‡å‡†ä»‹ç»ï¼Œè¿™æ˜¯æœ‰é—®é¢˜çš„ã€‚Envoy æ˜¯ä¼—å¤šå¼€ç®±å³ç”¨çš„ä»£ç†ä¹‹ä¸€ï¼Œä½ å¯ä»¥å°†å…¶ä½œä¸ºæœåŠ¡ç½‘æ ¼å¹³å°çš„åŸºç¡€ã€‚ä½†æ˜¯ Envoy å¹¶æ²¡æœ‰ä»€ä¹ˆå†…åœ¨çš„ç‰¹åˆ«ä¹‹å¤„ï¼Œä½¿å…¶æˆä¸ºæ­£ç¡®çš„é€‰æ‹©ã€‚é‡‡ç”¨ Envoy ä¼šç»™ä½ çš„ç»„ç»‡å¸¦æ¥ä¸€ç³»åˆ—é‡è¦é—®é¢˜ï¼ŒåŒ…æ‹¬ï¼š&lt;/p>
&lt;ul>
&lt;li>è¿è¡Œæ—¶æˆæœ¬å’Œæ€§èƒ½ï¼ˆæ‰€æœ‰è¿™äº›è¿‡æ»¤å™¨åŠ èµ·æ¥ï¼ï¼‰&lt;/li>
&lt;li>è®¡ç®—èµ„æºéœ€æ±‚ä»¥åŠå¦‚ä½•éšè´Ÿè½½æ‰©å±•&lt;/li>
&lt;li>å¦‚ä½•è°ƒè¯•é”™è¯¯æˆ–æ„å¤–è¡Œä¸º&lt;/li>
&lt;li>ä½ çš„ç½‘æ ¼å¦‚ä½•ä¸ Envoy äº¤äº’ä»¥åŠé…ç½®ç”Ÿå‘½å‘¨æœŸæ˜¯ä»€ä¹ˆ&lt;/li>
&lt;li>è¿ä½œæˆç†Ÿçš„æ—¶é—´ï¼ˆè¿™å¯èƒ½æ¯”ä½ é¢„æœŸçš„è¦é•¿ï¼‰&lt;/li>
&lt;/ul>
&lt;p>æœåŠ¡ç½‘æ ¼ä¸­ä»£ç†çš„é€‰æ‹©åº”è¯¥æ˜¯ä¸€ä¸ªå®ç°ç»†èŠ‚ï¼Œè€Œä¸æ˜¯äº§å“è¦æ±‚ã€‚&lt;/p>
&lt;h2 id="wasm">WASM&lt;/h2>
&lt;p>æˆ‘æ˜¯ Web Assembly (WASM) çš„å¿ å®æ‹¥è¶¸ï¼Œå·²ç»æˆåŠŸåœ°ä½¿ç”¨å®ƒåœ¨ &lt;a href="https://dotnet.microsoft.com/apps/aspnet/web-apps/blazor">Blazor&lt;/a> ä¸­æ„å»ºå‰ç«¯åº”ç”¨ç¨‹åºã€‚ç„¶è€Œï¼ŒWASM ä½œä¸ºå®šåˆ¶æœåŠ¡ç½‘æ ¼ä»£ç†è¡Œä¸ºçš„å·¥å…·ï¼Œè®©ä½ å¤„äºè·å¾—ä¸€ä¸ªå…¨æ–°çš„è½¯ä»¶ç”Ÿå‘½å‘¨æœŸå¼€é”€çš„å¢ƒåœ°ï¼Œè¿™ä¸ä½ ç°æœ‰çš„è½¯ä»¶ç”Ÿå‘½å‘¨æœŸå®Œå…¨æ­£äº¤ï¼å¦‚æœä½ çš„ç»„ç»‡è¿˜æ²¡æœ‰å‡†å¤‡å¥½æ„å»ºã€æµ‹è¯•ã€éƒ¨ç½²ã€ç»´æŠ¤ã€ç›‘æ§ã€å›æ»šå’Œç‰ˆæœ¬ä»£ç ï¼ˆå½±å“é€šè¿‡å…¶ç³»ç»Ÿè¿è¡Œçš„æ¯ä¸ªè¯·æ±‚ï¼‰ï¼Œé‚£ä¹ˆä½ è¿˜æ²¡æœ‰å‡†å¤‡å¥½ä½¿ç”¨ WASMã€‚&lt;/p>
&lt;h2 id="ab-æµ‹è¯•">A/B æµ‹è¯•&lt;/h2>
&lt;p>ç›´åˆ°ä¸ºæ—¶å·²æ™šï¼Œæˆ‘æ‰æ„è¯†åˆ° A/B æµ‹è¯•å®é™…ä¸Šæ˜¯ä¸€ä¸ªåº”ç”¨ç¨‹åºçº§åˆ«çš„é—®é¢˜ã€‚åœ¨åŸºç¡€è®¾æ–½å±‚æä¾›åŸè¯­æ¥å®ç°å®ƒæ˜¯å¾ˆå¥½çš„ï¼Œä½†æ˜¯æ²¡æœ‰ç®€å•çš„æ–¹æ³•æ¥å®Œå…¨è‡ªåŠ¨åŒ–å¤§å¤šæ•°ç»„ç»‡éœ€è¦çš„ A/B æµ‹è¯•æ°´å¹³ã€‚é€šå¸¸ï¼Œåº”ç”¨ç¨‹åºéœ€è¦å®šä¹‰ç‹¬ç‰¹çš„æŒ‡æ ‡æ¥å®šä¹‰æµ‹è¯•çš„ç§¯æä¿¡å·ã€‚å¦‚æœç»„ç»‡æƒ³è¦åœ¨æœåŠ¡ç½‘æ ¼çº§åˆ«æŠ•å…¥ A/B æµ‹è¯•ï¼Œé‚£ä¹ˆè§£å†³æ–¹æ¡ˆéœ€è¦æ”¯æŒä»¥ä¸‹å†…å®¹ï¼š&lt;/p>
&lt;ol>
&lt;li>å¯¹éƒ¨ç½²å’Œå›æ»šçš„ç²¾ç»†æ§åˆ¶ï¼Œå› ä¸ºå®ƒå¯èƒ½åŒæ—¶è¿›è¡Œå¤šä¸ªä¸åŒçš„â€œæµ‹è¯•â€&lt;/li>
&lt;li>èƒ½å¤Ÿæ•è·ç³»ç»ŸçŸ¥é“çš„è‡ªå®šä¹‰æŒ‡æ ‡å¹¶å¯ä»¥æ ¹æ®è¿™äº›æŒ‡æ ‡åšå‡ºå†³ç­–&lt;/li>
&lt;li>æ ¹æ®è¯·æ±‚çš„ç‰¹å¾æš´éœ²å¯¹æµé‡æ–¹å‘çš„æ§åˆ¶ï¼Œå…¶ä¸­å¯èƒ½åŒ…æ‹¬è§£ææ•´ä¸ªè¯·æ±‚æ­£æ–‡&lt;/li>
&lt;/ol>
&lt;p>è¿™éœ€è¦å®ç°å¾ˆå¤šï¼Œæ²¡æœ‰å“ªä¸ªæœåŠ¡ç½‘æ ¼æ˜¯å¼€ç®±å³ç”¨çš„ã€‚æœ€ç»ˆï¼Œæˆ‘ä»¬çš„ç»„ç»‡é€‰æ‹©äº†ç½‘æ ¼ä¹‹å¤–çš„ç‰¹å¾æ ‡è®°è§£å†³æ–¹æ¡ˆï¼Œå…¶ä»¥æœ€å°çš„åŠªåŠ›å–å¾—äº†å·¨å¤§çš„æˆåŠŸã€‚&lt;/p>
&lt;h2 id="æˆ‘ä»¬åœ¨å“ªé‡Œç»“æŸ">æˆ‘ä»¬åœ¨å“ªé‡Œç»“æŸ&lt;/h2>
&lt;p>æœ€ç»ˆï¼Œæˆ‘ä»¬é¢ä¸´çš„æŒ‘æˆ˜å¹¶ä¸æ˜¯æœåŠ¡ç½‘æ ¼ç‹¬æœ‰çš„ã€‚æˆ‘ä»¬å·¥ä½œçš„ç»„ç»‡æœ‰ä¸€ç³»åˆ—é™åˆ¶æ¡ä»¶ï¼Œè¦æ±‚æˆ‘ä»¬å¯¹è§£å†³çš„é—®é¢˜ä»¥åŠå¦‚ä½•è§£å†³é—®é¢˜é‡‡å–åŠ¡å®çš„æ€åº¦ã€‚æˆ‘ä»¬é¢ä¸´çš„é—®é¢˜åŒ…æ‹¬ï¼š&lt;/p>
&lt;ul>
&lt;li>ä¸€ä¸ªæ‹¥æœ‰å¤§é‡ä¸åŒæŠ€èƒ½çš„å¼€å‘äººå‘˜çš„å¤§å‹ç»„ç»‡&lt;/li>
&lt;li>äº‘è®¡ç®—å’Œ SaaS èƒ½åŠ›æ™®éä¸æˆç†Ÿ&lt;/li>
&lt;li>ä¸ºéäº‘è®¡ç®—è½¯ä»¶ä¼˜åŒ–çš„æµç¨‹&lt;/li>
&lt;li>ç¢ç‰‡åŒ–çš„è½¯ä»¶å·¥ç¨‹æ–¹æ³•å’Œä¿¡å¿µ&lt;/li>
&lt;li>æœ‰é™çš„èµ„æº&lt;/li>
&lt;li>æ¿€è¿›çš„æˆªæ­¢æ—¥æœŸ&lt;/li>
&lt;/ul>
&lt;p>ç®€è€Œè¨€ä¹‹ï¼Œæˆ‘ä»¬äººå°‘ï¼Œé—®é¢˜å¤šï¼Œéœ€è¦å¿«é€Ÿè¾“å‡ºä»·å€¼ã€‚æˆ‘ä»¬å¿…é¡»æ”¯æŒä¸»è¦ä¸æ˜¯ Web æˆ–äº‘è®¡ç®—çš„å¼€å‘è€…ï¼Œæˆ‘ä»¬éœ€è¦æ‰©å¤§è§„æ¨¡ä»¥æ”¯æŒæœ‰ä¸åŒæ–¹æ³•å’Œæµç¨‹çš„å¤§å‹å·¥ç¨‹ç»„ç»‡æ¥åšäº‘è®¡ç®—ã€‚æˆ‘ä»¬éœ€è¦å°†å¤§éƒ¨åˆ†ç²¾åŠ›é›†ä¸­åœ¨è§£å†³æˆç†Ÿåº¦æ›²çº¿è¾ƒä½çš„åŸºæœ¬é—®é¢˜ä¸Šã€‚&lt;/p>
&lt;p>æœ€åï¼Œå½“é¢å¯¹æˆ‘ä»¬è‡ªå·±çš„æœåŠ¡ç½‘æ ¼å†³ç­–æ—¶ï¼Œæˆ‘ä»¬å†³å®šå»ºç«‹åœ¨ &lt;a href="https://linkerd.io/">Linkerd æœåŠ¡ç½‘æ ¼&lt;/a>ä¸Šï¼Œå› ä¸ºå®ƒæœ€ç¬¦åˆæˆ‘ä»¬çš„ä¼˜å…ˆäº‹é¡¹ï¼šä½è¿è¥æˆæœ¬ï¼ˆè®¡ç®—å’ŒäººåŠ›ï¼‰ã€ä½è®¤çŸ¥å¼€é”€ã€æ”¯æŒæ€§ç¤¾åŒºä»¥åŠé€æ˜çš„ç®¡ç†â€”â€”åŒæ—¶æ»¡è¶³æˆ‘ä»¬çš„åŠŸèƒ½è¦æ±‚å’Œé¢„ç®—ã€‚åœ¨ Linkerd æŒ‡å¯¼å§”å‘˜ä¼šå·¥ä½œäº†ä¸€æ®µæ—¶é—´åï¼ˆä»–ä»¬å–œæ¬¢è¯šå®çš„åé¦ˆå’Œç¤¾åŒºå‚ä¸ï¼‰ï¼Œæˆ‘äº†è§£åˆ°å®ƒä¸æˆ‘è‡ªå·±çš„å·¥ç¨‹åŸåˆ™æœ‰å¤šä¹ˆçš„å¥‘åˆã€‚Linkerd æœ€è¿‘&lt;a href="https://www.cncf.io/announcements/2021/07/28/cloud-native-computing-foundation-announces-linkerd-graduation/">åœ¨ CNCF è¾¾åˆ°æ¯•ä¸šçŠ¶æ€&lt;/a>ï¼Œè¿™æ˜¯ä¸€ä¸ªæ¼«é•¿çš„è¿‡ç¨‹ï¼Œå¼ºè°ƒäº†è¯¥é¡¹ç›®çš„æˆç†ŸåŠå…¶å¹¿æ³›é‡‡ç”¨ã€‚&lt;/p>
&lt;h2 id="å…³äºä½œè€…">å…³äºä½œè€…&lt;/h2>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/10/15/16342274995874.jpg" alt="">&lt;/p>
&lt;p>&lt;strong>Chris Campbell&lt;/strong>Â æ‹…ä»»è½¯ä»¶å·¥ç¨‹å¸ˆå’Œæ¶æ„å¸ˆå·²æœ‰åå¤šå¹´ï¼Œä¸å¤šä¸ªå›¢é˜Ÿå’Œç»„ç»‡åˆä½œè½åœ°äº‘åŸç”ŸæŠ€æœ¯å’Œæœ€ä½³å®è·µã€‚ä»–åœ¨ä¸ä¸šåŠ¡é¢†å¯¼è€…åˆä½œé‡‡ç”¨åŠ é€Ÿä¸šåŠ¡çš„è½¯ä»¶äº¤ä»˜ç­–ç•¥å’Œä¸å·¥ç¨‹å›¢é˜Ÿåˆä½œäº¤ä»˜å¯æ‰©å±•çš„äº‘åŸºç¡€æ¶æ„ä¹‹é—´åˆ†é…æ—¶é—´ã€‚ä»–å¯¹æé«˜å¼€å‘äººå‘˜ç”Ÿäº§åŠ›å’Œä½“éªŒçš„æŠ€æœ¯æœ€æ„Ÿå…´è¶£ã€‚&lt;/p></description></item><item><title>å®¹å™¨ç¥è¯ Docker æ˜¯å¦‚ä½•ä¸€åˆ†ä¸ºäºŒçš„</title><link>https://atbug.com/how-docker-broke-in-half/</link><pubDate>Mon, 20 Sep 2021 08:01:30 +0800</pubDate><guid>https://atbug.com/how-docker-broke-in-half/</guid><description>
&lt;p>è¯‘è€…ç‚¹è¯„ï¼š&lt;/p>
&lt;p>æœ€è¿‘å¬äº†å¾ˆå¤šèµ„æ·±çš„äººå£«å…³äºå¼€æºï¼Œä»¥åŠå•†ä¸šåŒ–çš„åˆ†æã€‚å¼€æºä¸å•†ä¸šåŒ–ï¼Œå¬èµ·æ¥å°±æ˜¯ä¸€å¯¹çŸ›ç›¾çš„æ‰€åœ¨ï¼Œä¼¼ä¹å¤§å®¶éƒ½åœ¨å°è¯•åšå…¶äºŒè€…çš„å¹³è¡¡ã€‚æ˜¯å…ˆæœ‰å¼€æºï¼Œè¿˜æ˜¯å…ˆæœ‰å•†ä¸šåŒ–ï¼Ÿä¿—è¯è¯´â€œè°ˆé’±ä¸ä¼¤æ„Ÿæƒ…â€ï¼Œè¿‘å‡ å¹´èƒŒé å¼€æºçš„åˆ›ä¸šå…¬å¸å¦‚é›¨åæ˜¥ç¬‹èˆ¬æ¶Œç°ï¼Œå³ä½¿æ˜¯å¼€å‘äººå‘˜ä¹Ÿæ˜¯éœ€è¦ç”Ÿæ´»çš„ã€‚&lt;/p>
&lt;p>å®¹å™¨ç¥è¯ Docker æ›¾ç»æ— æ¯”é£å…‰ï¼Œç››æä¸€æ—¶ã€‚å³ä½¿è¿™æ ·ä¸€ä¸ªå¤‡å—ç©ç›®ï¼Œå¤§è·é£æŠ•çš„çƒ­æ§çš„ç‹¬è§’å…½ä¹Ÿæœªèƒ½å…ä¿—ï¼Œå¹¶ä»˜å‡ºäº†ä¸å°çš„ä»£ä»·ã€‚&lt;/p>
&lt;p>ä»Šå¤©è¿™ç¯‡æ–‡ç« è®²è¿°äº† Docker è¿™å®¶å…¬å¸ä»è¯ç”Ÿåˆ°å·…å³°åˆ°æ²¡è½ï¼Œè¿™ä¸€è·¯ä¸Šæ‰€åšçš„æŠ‰æ‹©ï¼Œå¹¶æœ€ç»ˆåšäº†å¼€æºä¸å•†ä¸šçš„åˆ†ç¦»ï¼Œå†ä¸€æ¬¡ä»å¼€æºè¸ä¸Šæ‰¾å¯»å•†ä¸šåŒ–ä¹‹è·¯ã€‚è¿™äº›éƒ½æ˜¯å€¼å¾—æˆ‘ä»¬å‚è€ƒå’Œæ€è€ƒçš„ï¼Œä¸ç®¡æ˜¯å·²ç»å¼€æºæˆ–è€…å‡†å¤‡ä»äº‹å¼€æºçš„ã€‚&lt;/p>
&lt;h2 id="è¿™ç¯‡æ–‡ç« ç¿»è¯‘è‡ªhow-docker-broke-in-halfhttpswwwinfoworldcomarticle3632142how-docker-broke-in-halfhtml">è¿™ç¯‡æ–‡ç« ç¿»è¯‘è‡ª&lt;a href="https://www.infoworld.com/article/3632142/how-docker-broke-in-half.html">How Docker broke in half&lt;/a>&lt;/h2>
&lt;blockquote>
&lt;p>è¿™å®¶æ”¹å˜æ¸¸æˆè§„åˆ™çš„å®¹å™¨å…¬å¸æ˜¯å…¶æ˜”æ—¥çš„å¤–è¡£ã€‚ä½œä¸ºäº‘æ—¶ä»£æœ€çƒ­é—¨çš„ä¼ä¸šæŠ€æœ¯ä¸šåŠ¡ä¹‹ä¸€çš„å®ƒåˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ&lt;/p>
&lt;/blockquote>
&lt;p>&lt;a href="https://www.infoworld.com/article/3204171/what-is-docker-the-spark-for-the-container-revolution.html">Docker å¹¶æ²¡æœ‰å‘æ˜å®¹å™¨&lt;/a>â€”â€”å°†è®¡ç®—æœºä»£ç æ‰“åŒ…æˆç´§å‡‘å•å…ƒçš„æ–¹æ³•ï¼Œå¯ä»¥è½»æ¾åœ°ä»ç¬”è®°æœ¬ç”µè„‘ç§»æ¤åˆ°æœåŠ¡å™¨â€”â€”ä½†å®ƒç¡®å®é€šè¿‡åˆ›å»ºä¸€å¥—é€šç”¨çš„å¼€æºå·¥å…·å’Œå¯é‡ç”¨çš„é•œåƒä½¿å…¶æˆä¸ºä¸»æµï¼Œè¿™ä½¿æ‰€æœ‰å¼€å‘äººå‘˜åªéœ€æ„å»ºä¸€æ¬¡è½¯ä»¶å³å¯åœ¨ä»»ä½•åœ°æ–¹è¿è¡Œã€‚&lt;/p>
&lt;p>Docker ä½¿å¼€å‘äººå‘˜èƒ½å¤Ÿè½»æ¾åœ°å°†ä»–ä»¬çš„ä»£ç â€œå®¹å™¨åŒ–â€å¹¶å°†å…¶ä»ä¸€ä¸ªç³»ç»Ÿç§»åŠ¨åˆ°å¦ä¸€ä¸ªç³»ç»Ÿï¼Œè¿…é€Ÿå°†å…¶ç¡®ç«‹ä¸ºè¡Œä¸šæ ‡å‡†ï¼Œé¢ è¦†äº†åœ¨è™šæ‹Ÿæœº (VM) ä¸Šéƒ¨ç½²åº”ç”¨ç¨‹åºçš„ä¸»è¦æ–¹å¼ï¼Œå¹¶ä½¿ Docker æˆä¸ºæ–°ä¸€ä»£æœ€å¿«è¢«é‡‡ç”¨çš„ä¼ä¸šæŠ€æœ¯ä¹‹ä¸€ã€‚&lt;/p>
&lt;p>ä»Šå¤©ï¼ŒDocker ä»ç„¶æ´»ç€ï¼Œä½†å®ƒåªæ˜¯å®ƒå¯èƒ½æˆä¸ºçš„å…¬å¸çš„ä¸€å°éƒ¨åˆ†ï¼Œä»æœªæˆåŠŸåœ°å°†è¿™ç§æŠ€æœ¯åˆ›æ–°è½¬åŒ–ä¸ºå¯æŒç»­çš„å•†ä¸šæ¨¡å¼ï¼Œæœ€ç»ˆå¯¼è‡´å…¶ä¼ä¸šä¸šåŠ¡äº &lt;a href="https://twitter.com/QuinnyPig/status/1194687851587198977?s=20">2019 å¹´ 11 æœˆå‡ºå”®ç»™ Mirantis&lt;/a>ã€‚InfoWorld é‡‡è®¿äº†åå‡ ä½å‰ä»»å’Œç°ä»» Docker å‘˜å·¥ã€å¼€æºè´¡çŒ®è€…ã€å®¢æˆ·å’Œè¡Œä¸šåˆ†æå¸ˆï¼Œäº†è§£ Docker å¦‚ä½•åˆ†å´©ç¦»æçš„æ•…äº‹ã€‚&lt;/p>
&lt;h2 id="docker-è¯ç”Ÿäº†">Docker è¯ç”Ÿäº†&lt;/h2>
&lt;p>2008 å¹´ç”± Solomon Hykes åœ¨å·´é»åˆ›ç«‹çš„ DotCloudï¼Œè¿™ä¸ªåæ¥æˆä¸º Docker çš„å…¬å¸æœ€åˆè¢«è®¾è®¡ä¸ºä¾›å¼€å‘äººå‘˜è½»æ¾æ„å»ºå’Œå‘å¸ƒä»–ä»¬çš„åº”ç”¨ç¨‹åºçš„&lt;a href="https://www.infoworld.com/article/3223434/what-is-paas-a-simpler-way-to-build-software-applications.html">å¹³å°å³æœåŠ¡ (PaaS)&lt;/a>ã€‚&lt;/p>
&lt;p>åœ¨ 2010 å¹´å¤å¤©ä¸€èµ·æ¬åˆ°ç¡…è°·&lt;a href="https://blog.ycombinator.com/solomon-hykes-docker-dotcloud-interview/">å‚åŠ è‘—åçš„ Y Combinator è®¡åˆ’&lt;/a>ä¹‹å‰ï¼ŒHykes å¾ˆå¿«å°±åŠ å…¥äº†ä»–çš„æœ‹å‹å…¼ç¨‹åºå‘˜åŒäº‹ Sebastien Pahlã€‚å·²ç»è¢«æ‹’ç»ä¸€æ¬¡çš„ Hykes å’Œ Pahl é‡æ–°ç”³è¯·ï¼ŒPahl çš„çˆ¶äº²åœ¨ä»–ä»¬é¢è¯•å‰å‡ å‘¨æŠŠå»æ—§é‡‘å±±çš„æœºç¥¨é’±æ”¾åœ¨ä»–ä»¬é¢å‰ã€‚å”‰ï¼Œè¿™å¯¹å¤«å¦‡å†æ¬¡è¢«æ‹’ç»ï¼Œç›´åˆ° YC æ ¡å‹ James Lindenbaumï¼Œä¸€å®¶åä¸º &lt;a href="https://www.infoworld.com/article/3614210/the-decline-of-heroku.html">Heroku çš„ç«äº‰å…¬å¸çš„åˆ›å§‹äºº&lt;/a>ï¼Œå‡ºé¢ä¸ºä»–ä»¬æ‹…ä¿ã€‚&lt;/p>
&lt;p>æˆ‘ä»¬æ‰€çŸ¥é“çš„ Docker äº &lt;a href="https://www.youtube.com/watch?v=362sHaO5eGU">2013 å¹´ 3 æœˆåœ¨ PyCon ä¸Šç”± Hykes é¦–æ¬¡æ¼”ç¤º&lt;/a>ï¼Œä»–è§£é‡Šè¯´å¼€å‘äººå‘˜ä¸€ç›´è¦æ±‚è®¿é—®æ”¯æŒ DotCloud å¹³å°çš„åº•å±‚æŠ€æœ¯ã€‚ä»–åœ¨é‚£æ¬¡è°ˆè¯ä¸­è¯´ï¼šâ€œæˆ‘ä»¬ä¸€ç›´è®¤ä¸ºèƒ½å¤Ÿè¯´â€œæ˜¯â€ä¼šå¾ˆé…·ï¼Œè¿™æ˜¯æˆ‘ä»¬çš„åº•å±‚éƒ¨åˆ†ï¼Œç°åœ¨ä½ å¯ä»¥å’Œæˆ‘ä»¬ä¸€èµ·åš Linux å®¹å™¨ï¼Œåšä»»ä½•ä½ æƒ³åšçš„äº‹ï¼Œå»æ„å»ºä½ çš„å¹³å°ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬æ­£åœ¨åšçš„ï¼Œâ€ã€‚&lt;/p>
&lt;p>Docker é¦–å¸­æ‰§è¡Œå®˜ Ben Golub 2013 å¹´è‡³ 2017 å¹´ä¹‹é—´ï¼Œå‘Šè¯‰ InfoWorldï¼Œâ€œè¿™å¬èµ·æ¥å¾ˆè€å¥—ï¼Œä½† Solomon å’Œæˆ‘è°ˆè®ºçš„æ˜¯é¢„å‘å¸ƒï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ‰€æœ‰é›†è£…ç®±èˆ¹è¿›å…¥å¥¥å…‹å…°æ¸¯ï¼Œæˆ‘ä»¬æ­£åœ¨è°ˆè®ºé›†è£…ç®±åœ¨èˆªè¿ç•Œçš„ä»·å€¼ã€‚äº‹å®ä¸Šï¼Œä»ä¸–ç•Œçš„ä¸€ä¾§è¿é€æ±½è½¦æ¯”å°†åº”ç”¨ç¨‹åºä»ä¸€ä¸ªæœåŠ¡å™¨å¸¦åˆ°å¦ä¸€ä¸ªæœåŠ¡å™¨æ›´å®¹æ˜“ï¼Œè¿™ä¼¼ä¹æ˜¯ä¸€ä¸ªéœ€è¦è§£å†³çš„é—®é¢˜ã€‚â€&lt;/p>
&lt;p>Docker å¼€æºé¡¹ç›®è¿…é€Ÿå´›èµ·ï¼Œå¸å¼•äº†æˆåƒä¸Šä¸‡çš„ç”¨æˆ·ï¼Œä¸&lt;a href="https://www.docker.com/blog/docker-microsoft-partnership/">å¾®è½¯&lt;/a>ã€&lt;a href="https://aws.amazon.com/blogs/apn/docker-trusted-registry-aws-marketplace/">AWS&lt;/a> å’Œ &lt;a href="https://www.eweek.com/cloud/ibm-partners-with-docker-launches-containers-service/">IBM&lt;/a> ç­‰å…¬å¸å»ºç«‹äº†å¤‡å—ç©ç›®çš„åˆä½œä¼™ä¼´å…³ç³»ï¼Œå¹¶è·å¾—äº†&lt;a href="https://www.infoworld.com/article/3622960/another-day-another-multi-billion-ipo-for-open-source.html?nsdr=true">æ»¡æ»¡ä¸€è½¦çš„é£é™©æŠ•èµ„&lt;/a>ï¼ŒåŒ…æ‹¬ Benchmark çš„ Peter Fenton å’Œ Trinity Ventures çš„ Dan Scholnick çš„æ—©æœŸæŠ•èµ„ã€‚è°ƒæ•´åçš„å…¬å¸æ›´åä¸º Dockerï¼Œå¹¶ä» Benchmarkã€Coatue Managementã€Goldman Sachs å’Œ Greylock Partners ç­‰å…¬å¸ç­¹é›†äº†è¿‘ 3 äº¿ç¾å…ƒã€‚ç„¶è€Œï¼Œä¸è®¸å¤šåŸºäºå¼€æºè½¯ä»¶çš„å…¬å¸ä¸€æ ·ï¼Œå®ƒå¾ˆéš¾æ‰¾åˆ°ä¸€ç§å¯ç›ˆåˆ©çš„å•†ä¸šæ¨¡å¼ï¼Œè€Œè¿™äº›æŠ•èµ„è€…ä»æœªå¾—åˆ°ä»–ä»¬çš„å¤§ç¬”å›æŠ¥ã€‚ã€‚&lt;/p>
&lt;p>RedMonk åˆ†æå¸ˆ James Governor è¯´ï¼Œâ€œSolomon å»ºç«‹äº†è¿‡å» 20 å¹´æ¥æœ€å¼•äººæ³¨ç›®çš„æŠ€æœ¯ä¹‹ä¸€ï¼Œå¹¶ä¸”åœ¨å°†è§‚ç‚¹æ‰“åŒ…å¹¶ä½¿å…¶å¯¹å¤§é‡å¼€å‘äººå‘˜éå¸¸æœ‰ä»·å€¼çš„ä¸šåŠ¡ä¸­ã€‚Docker æ˜¯å¦åšå‡ºäº†é”™è¯¯çš„å†³å®šï¼Ÿæ˜¾ç„¶æ˜¯çš„ï¼Œä½†é£æŠ•éƒ½ç–¯äº†ï¼Œä»–ä»¬å‘ä»–ä»¬æŠ•å…¥çš„é’±æ„å‘³ç€ä»–ä»¬ä¸€å®šè§‰å¾—ä»–ä»¬å¯ä»¥åšä»»ä½•äº‹æƒ…ï¼Œè¿™æ˜¯æœ‰é—®é¢˜çš„ã€‚â€&lt;/p>
&lt;p>å¿«è¿›åˆ° 2021 å¹´ï¼Œè¿™ä¸ªæ•…äº‹çš„ç®€ç‰ˆæ˜¯ï¼Œå¤‡å—æ¬¢è¿çš„å¼€æºå®¹å™¨ç¼–æ’å·¥å…· &lt;a href="https://www.infoworld.com/article/3268073/what-is-kubernetes-your-next-application-platform.html">Kubernetes&lt;/a> é€šè¿‡å–ä»£å…¶ä¸»è¦åˆ©æ¶¦æ¥æºï¼šä¸€ä¸ªåä¸º Docker Swarm çš„ä¼ä¸šç‰ˆå®¹å™¨ç¼–æ’å·¥å…·ï¼Œåƒæ‰äº† Dockerï¼ˆä¸šåŠ¡ï¼‰çš„åˆé¤. ç„¶è€Œï¼ŒçœŸå®çš„æ•…äº‹è¦å¤æ‚å¾—å¤šã€‚&lt;/p>
&lt;h2 id="å¼€æºå•†ä¸šåŒ–å¾ˆéš¾">å¼€æºå•†ä¸šåŒ–å¾ˆéš¾&lt;/h2>
&lt;p>å·¨é¢çš„é£é™©æŠ•èµ„ã€å¿«é€Ÿå¢é•¿çš„ç«äº‰æ ¼å±€ä»¥åŠäº‘è¡Œä¸šå·¨å¤´éƒ½æƒ³åˆ†ä¸€æ¯ç¾¹çš„é˜´å½±ï¼Œå°†è¿™å®¶å¹´è½»çš„å…¬å¸å¸¦å…¥äº†ä¸€ä¸ªçŠ¹å¦‚å‹åŠ›é”…çš„è¿è¥ç¯å¢ƒã€‚&lt;/p>
&lt;p>â€œæœ‰ä¸€ç§è¯´æ³•æ˜¯&amp;rsquo;å¤§è±¡æ‰“æ¶ï¼Œè‰è¢«è·µè¸'ï¼Œæˆ‘ä»¬å¾ˆæ¸…æ¥šè¿™ä¸ä»…æ˜¯é’ˆå¯¹ Dockerï¼Œè¿˜æœ‰äº‘ä¾›åº”å•†çš„ç›¸äº’ç«äº‰ã€‚ä»–ä»¬éƒ½æƒ³æŠŠæˆ‘ä»¬æ‹‰å‘ä¸åŒçš„æ–¹å‘ã€‚æ—¢è¦ä¿æŒæˆ‘ä»¬çš„ä»·å€¼è§‚å’Œæ ¹åŸºï¼Œåˆè¦å»ºç«‹ä¸€ä¸ªä¼ä¸šï¼Œè¿™ä¸ªæ ¹æœ¬å°±æ˜¯ä¸ªå›°å±€â€Golub è¯´ã€‚&lt;/p>
&lt;p>è¿™ä½å‰ CEO æŒ‡å‡ºï¼Œéšç€ Docker çš„å‘å±•ï¼Œæ‰€æœ‰è¿™äº›å› ç´ éƒ½é€ æˆäº†â€œè‡ªç„¶çš„ç´§å¼ å…³ç³»â€ã€‚Golub è¯´ï¼šâ€œæˆ‘ä»¬å¸Œæœ›å»ºç«‹ä¼Ÿå¤§çš„ç¤¾åŒºå¹¶é€šè¿‡å¼€å‘è€…äº§å“è·åˆ©ï¼ŒåŒæ—¶è¿˜å¸Œæœ›å»ºç«‹ä¸€ä¸ªä¼Ÿå¤§çš„è¿è¥å•†äº§å“ï¼Œè®©å®¢æˆ·èƒ½å¤Ÿå¤§è§„æ¨¡æ„å»ºå’Œéƒ¨ç½²å®¹å™¨ã€‚è¿™å°±æ˜¯æˆ‘ä»¬çš„æ„¿æ™¯ï¼Œå¾ˆå¿«æˆ‘ä»¬æ„è¯†åˆ°æˆ‘ä»¬å¿…é¡»è¿…é€Ÿæ‰©å¤§è§„æ¨¡ï¼Œè€Œä¸”æ²¡æœ‰å¤ªå¤šæ—¶é—´æ¥å¹³è¡¡ç¤¾åŒºå’Œæˆä¸ºä¸€å®¶å•†ä¸šä¼ä¸š&amp;hellip;&amp;hellip;åœ¨ä¸€å®¶åˆåˆ›å…¬å¸ï¼Œä½ æ¯å¤©è¦åšå‡º 100 ä¸ªå†³å®šï¼Œä½ å¸Œæœ› 80 ä¸ªæ˜¯å¯¹çš„ã€‚â€&lt;/p>
&lt;p>2014 å¹´å·¦å³ï¼ŒDocker å¼€å§‹è®¤çœŸè€ƒè™‘å°†å…¶åœ¨å®¹å™¨é¢†åŸŸçš„é¢†å…ˆåœ°ä½è´§å¸åŒ–çš„å•†ä¸šæˆ˜ç•¥ï¼Œå½“æ—¶è¯¥å…¬å¸å°†éƒ¨åˆ†é£é™©æŠ•èµ„èµ„é‡‘ç”¨äº &lt;a href="https://techcrunch.com/2014/10/07/docker-acquires-koality-in-engineering-talent-grab/%23:~:text=Docker%2520decided%2520to%2520use%2520some,today%2520for%2520an%2520undisclosed%2520price.">2014 å¹´ Koality çš„æ”¶è´­&lt;/a>å’Œ &lt;a href="https://www.docker.com/blog/docker-acquires-tutum/">2015 å¹´çš„ Tutum çš„æ”¶è´­&lt;/a>ï¼ŒåŒæ—¶è¿˜æ¨å‡ºäº†è‡ªå·±çš„ä¼ä¸šæ”¯æŒè®¡åˆ’çš„ç¬¬ä¸€æ¬¡è¿­ä»£ã€‚&lt;/p>
&lt;p>è¿™äº›æŠ•èµ„å‚¬ç”Ÿäº†åƒ Docker Hub è¿™æ ·çš„äº§å“â€”â€”ä½ å¯ä»¥è®¤ä¸ºå®ƒæœ‰ç‚¹åƒ Docker é•œåƒçš„ GitHubï¼ˆ&lt;a href="https://www.infoworld.com/article/3623291/github-container-registry-available-for-production-use.html">ç°åœ¨ä¹Ÿå­˜åœ¨&lt;/a>ï¼‰â€”â€” ä»¥åŠæœ€ç»ˆçš„ Docker ä¼ä¸šç‰ˆã€‚ä½†è¿™äº›äº§å“éƒ½æ²¡æœ‰çœŸæ­£å—åˆ°ä¼ä¸šå®¢æˆ·çš„æ¬¢è¿ï¼Œä»–ä»¬é€šå¸¸ä¹äºä¸æ›´æˆç†Ÿçš„åˆä½œä¼™ä¼´åˆä½œï¼Œæˆ–è€…æ„å»ºè€Œä¸æ˜¯è´­ä¹°è§£å†³æ–¹æ¡ˆï¼Œå°½ç®¡ Docker åŠªåŠ›ç”Ÿäº§å®¢æˆ·çœŸæ­£æƒ³è¦çš„ä¸€ç³»åˆ—äº§å“ã€‚&lt;/p>
&lt;p>ä»Šå¹´å¤å¤©åœ¨æ³•å›½åº¦å‡æ—¶ï¼ŒHykes å‘Šè¯‰ InfoWorldï¼šâ€œæˆ‘ä»¬ä»æœªå‘å¸ƒè¿‡å‡ºè‰²çš„å•†ä¸šäº§å“ï¼ŒåŸå› æ˜¯æˆ‘ä»¬æ²¡æœ‰é›†ä¸­æ³¨æ„åŠ›ã€‚æˆ‘ä»¬è¯•å›¾åšæ¯ä»¶äº‹çš„ä¸€ç‚¹ç‚¹ã€‚ç»´æŒå¼€å‘è€…ç¤¾åŒºçš„å¢é•¿å¹¶æ„å»ºä¸€ä¸ªä¼Ÿå¤§çš„å•†ä¸šäº§å“å·²ç»å¤Ÿéš¾çš„äº†ï¼Œæ›´ä¸ç”¨è¯´ä¸‰å››ä¸ªäº†ï¼Œè€Œä¸”åŸºæœ¬ä¸å¯èƒ½åŒæ—¶åšåˆ°ï¼Œä½†è¿™å°±æ˜¯æˆ‘ä»¬è¯•å›¾åšçš„ï¼Œæˆ‘ä»¬èŠ±äº†å¤§é‡çš„é’±æ¥åšè¿™äº›äº‹ã€‚ â€&lt;/p>
&lt;p>DockerDocker ä¸šåŠ¡å‘å±•å’ŒæŠ€æœ¯è”ç›Ÿçš„å‰å‰¯æ€»è£ã€æœ€æ—©çš„å‘˜å·¥ä¹‹ä¸€ Nick Stinemates è¯´ï¼šâ€œåœ¨å¼€æºä¹‹å¤–å‡ºç°äº†é›¶æŠ€æœ¯äº¤ä»˜ï¼Œæ ¹æœ¬æ— æ³•äº¤ä»˜å•†ä¸šè½¯ä»¶ã€‚â€&lt;/p>
&lt;p>äº‹åçœ‹æ¥ï¼ŒHykes è®¤ä¸º Docker åº”è¯¥èŠ±æ›´å°‘çš„æ—¶é—´æ¥è¿é€äº§å“ï¼Œè€Œåº”è¯¥èŠ±æ›´å¤šçš„æ—¶é—´å€¾å¬å®¢æˆ·çš„æ„è§ã€‚Hykes è¯´ï¼šâ€œæˆ‘æœ¬æ¥ä¸ä¼šæ€¥äºæ‰©å¤§å•†ä¸šäº§å“çš„è§„æ¨¡ï¼Œè€Œæ˜¯æŠ•å…¥æ›´å¤šèµ„é‡‘ä»æˆ‘ä»¬çš„ç¤¾åŒºæ”¶é›†è§è§£ï¼Œå¹¶å»ºç«‹ä¸€ä¸ªè‡´åŠ›äºäº†è§£ä»–ä»¬çš„å•†ä¸šéœ€æ±‚çš„å›¢é˜Ÿã€‚æˆ‘ä»¬åœ¨ 2014 å¹´æœ‰ä¸€ä¸ªè½¬æŠ˜ç‚¹ï¼Œå½“æ—¶æˆ‘ä»¬è§‰å¾—æˆ‘ä»¬ç­‰ä¸åŠäº†ï¼Œä½†æˆ‘è®¤ä¸ºæˆ‘ä»¬ç­‰å¾…çš„æ—¶é—´æ¯”æˆ‘ä»¬æ„è¯†åˆ°çš„è¦å¤šã€‚â€&lt;/p>
&lt;p>å…¶ä»–äººè®¤ä¸º Docker è¿‡æ—©åœ°å…è´¹æä¾›äº†å¤ªå¤šä¸œè¥¿ã€‚ä»Šå¹´æ—©äº›æ—¶å€™ï¼Œ&lt;a href="https://increment.com/containers/docker-ce-and-ee/">è°·æ­Œçš„ Kelsey Hightower å‘Šè¯‰ Increment æ‚å¿—&lt;/a>ï¼š â€œä»–ä»¬å…è´¹æ¨å‡ºäº†ä¸€äº›ä¸œè¥¿ï¼Œè¿™å°±æ˜¯æœ¬å’æ‰“ã€‚ä»–ä»¬è§£å†³äº†æ•´ä¸ªé—®é¢˜å¹¶è¾¾åˆ°äº†è¿™ä¸ªé—®é¢˜çš„å¤©èŠ±æ¿ï¼šåˆ›å»ºä¸€ä¸ªæ˜ åƒã€æ„å»ºå®ƒã€å°†å®ƒå­˜å‚¨åœ¨æŸä¸ªåœ°æ–¹ã€ç„¶åè¿è¡Œå®ƒã€‚è¿˜éœ€è¦åšä»€ä¹ˆï¼Ÿâ€&lt;/p>
&lt;p>Hykes ä¸åŒæ„è¿™ç§è¯´æ³•ã€‚ä»–è¯´ï¼šâ€œæˆ‘è®¤ä¸ºè¿™æ˜¯é”™è¯¯çš„ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œæ ¸å¿ƒå¼€æºäº§å“åˆ›é€ äº†å·¨å¤§çš„å¢é•¿ï¼Œè¿™é¦–å…ˆåˆ›é€ äº†å•†ä¸šåŒ–çš„æœºä¼šã€‚è®¸å¤šå…¬å¸æˆåŠŸåœ°å°† Docker å•†ä¸šåŒ–ï¼Œä½† Docker æ²¡æœ‰ã€‚æœ‰å¾ˆå¤šä¸œè¥¿å¯ä»¥å•†ä¸šåŒ–ï¼Œåªæ˜¯ Docker æœªèƒ½å°†å…¶å•†ä¸šåŒ–ã€‚â€&lt;/p>
&lt;p>ä¾‹å¦‚ï¼Œ&lt;a href="https://www.openshift.com/blog/red-hat-puts-docker-kubernetes-at-the-center-of-its-openshift-3-paas">çº¢å¸½&lt;/a>å’Œ &lt;a href="https://tanzu.vmware.com/content/blog/pivotal-cloud-foundry-has-supported-docker-for-a-long-time-now-pivotal-web-services-does-too">Pivotal&lt;/a>ï¼ˆç°åœ¨æ˜¯ VMware çš„ä¸€éƒ¨åˆ†ï¼‰éƒ½æ˜¯ Docker çš„æ—©æœŸåˆä½œä¼™ä¼´ï¼Œå°† Docker å®¹å™¨é›†æˆåˆ°ä»–ä»¬çš„å•†ä¸š &lt;a href="https://www.infoworld.com/article/3223434/what-is-paas-a-simpler-way-to-build-software-applications.html">PaaS&lt;/a> äº§å“ï¼ˆåˆ†åˆ«æ˜¯ OpenShift å’Œ Cloud Foundryï¼‰ä¸­ï¼Œå¹¶ä¸ºå¼€æºé¡¹ç›®åšå‡ºäº†è´¡çŒ®ã€‚&lt;/p>
&lt;p>Stinemates è¯´ï¼šâ€œå¦‚æœæˆ‘æ˜¯æ…·æ…¨çš„ï¼Œçº¢å¸½å…¬å¸æ—©æœŸçš„è´¡çŒ®è®© Solomon æœ‰ç‚¹å¤±æ§äº†ã€‚&lt;a href="https://news.ycombinator.com/threads?id=shykes">Solomon çƒ§æ‰äº†å¾ˆå¤šæ¡¥æ¢ï¼ŒHacker News ä¸Šæœ‰å…³äºä»–ä¸åå¯¹è€…äº‰åµçš„å¸–å­&lt;/a>ã€‚ä¼ä¸šåˆä½œä¼™ä¼´ä¸å¯èƒ½ä¸ Solomon ä¸€èµ·æ‹¥æœ‰è¿™äº›ã€‚â€&lt;/p>
&lt;p>ä»Šå¤©ï¼ŒHykes è¯´ä»–çŠ¯äº†æ··æ·†â€œç¤¾åŒºä¸ç”Ÿæ€ç³»ç»Ÿâ€çš„é”™è¯¯ã€‚çº¢å¸½ç‰¹åˆ«â€œä¸æ˜¯ç¤¾åŒºçš„ä¸€éƒ¨åˆ†ï¼Œä»–ä»¬ä»æ¥æ²¡æœ‰ä¸º Docker çš„æˆåŠŸè€Œç”Ÿæ ¹ï¼Œâ€ä»–è¯´ã€‚â€œæˆ‘ä»¬çš„é”™è¯¯æ˜¯éå¸¸å¸Œæœ›ä»–ä»¬æˆä¸ºç¤¾åŒºçš„ä¸€éƒ¨åˆ†ã€‚å›æƒ³èµ·æ¥ï¼Œæˆ‘ä»¬æ°¸è¿œä¸ä¼šä»è¿™ç§ä¼™ä¼´å…³ç³»ä¸­å—ç›Šã€‚â€&lt;/p>
&lt;p>å› æ­¤ï¼Œæ—…æ¸¸ç§‘æŠ€å…¬å¸ Amadeus ç­‰æ—©æœŸå®¢æˆ·åœ¨ 2015 å¹´è½¬å‘çº¢å¸½ï¼Œä»¥å¡«è¡¥ä»–ä»¬è®¤ä¸º Docker ç•™ä¸‹çš„ä¼ä¸šçº§ç©ºç™½ã€‚Amadeus çš„äº‘å¹³å°è´Ÿè´£äºº Edouard Hubin é€šè¿‡ç”µå­é‚®ä»¶å‘Šè¯‰ InfoWorldï¼šâ€œæˆ‘ä»¬ç›´æ¥ä»ä½¿ç”¨ [Docker çš„] å¼€æºç‰ˆæœ¬çš„å…ˆé©±æ¨¡å¼è½¬å˜ä¸ºä¸çº¢å¸½å»ºç«‹å¼ºå¤§çš„åˆä½œä¼™ä¼´å…³ç³»ï¼Œä»–ä»¬ä¸ºæˆ‘ä»¬æä¾›å®¹å™¨æŠ€æœ¯çš„æ”¯æŒã€‚å®¹å™¨åŒ–æ˜¯è¿œç¦»è™šæ‹ŸåŒ–çš„æŠ€æœ¯å˜é©çš„ç¬¬ä¸€æ­¥ã€‚çœŸæ­£çš„æ¸¸æˆè§„åˆ™å˜é©è€…æ˜¯å®¹å™¨ç¼–æ’è§£å†³æ–¹æ¡ˆã€‚æ˜¾ç„¶ï¼ŒDocker è¾“ç»™äº† Kubernetesï¼Œè¿™å¯¹ä»–ä»¬æ¥è¯´æ˜¯ä¸€ä¸ªéå¸¸å›°éš¾çš„å±€é¢ã€‚â€&lt;/p>
&lt;h2 id="kubernetes-çš„å†³å®š">Kubernetes çš„å†³å®š&lt;/h2>
&lt;p>Docker ä¼šåæ‚”ä¹‹å‰åšçš„ä¸€ç³»åˆ—å†³å®šï¼Œå› ä¸ºå®ƒæ‹’ç»çœŸæ­£æ¥å— Kubernetes ä½œä¸ºé¦–é€‰çš„æ–°å…´å®¹å™¨ç¼–æ’å·¥å…· â€”â€” Kubernetes å…è®¸å®¢æˆ·å¤§è§„æ¨¡ã€ä¸€è‡´åœ°è¿è¡Œå®¹å™¨é˜Ÿåˆ—â€”â€”è€Œä¸æ˜¯çŸ­è§†åœ°æ¨è¿›è‡ªå·±ä¸“æœ‰çš„ Docker Swarm ç¼–æ’å™¨ï¼ˆ&lt;a href="https://boxboat.com/2019/12/10/migrate-docker-swarm-to-kubernetes/">RIP&lt;/a>ï¼‰ã€‚&lt;/p>
&lt;p>Docker æœ€æ—©ä¹Ÿæ˜¯æœåŠ¡æ—¶é—´æœ€é•¿çš„å‘˜å·¥ä¹‹ä¸€ JÃ©rÃ´me Petazzoni è¯´ï¼šâ€œæœ€å¤§çš„é”™è¯¯æ˜¯é”™è¿‡äº† Kubernetesã€‚æˆ‘ä»¬å¤„äºé›†ä½“æ€æƒ³æ³¡æ²«ä¸­ï¼Œæˆ‘ä»¬åœ¨å†…éƒ¨è®¤ä¸º Kubernetes å¤ªå¤æ‚äº†ï¼Œè€Œ Swarm ä¼šæˆåŠŸå¾—å¤šã€‚æ²¡æœ‰æ„è¯†åˆ°è¿™ä¸€ç‚¹æ˜¯æˆ‘ä»¬çš„é›†ä½“å¤±è´¥ã€‚â€&lt;/p>
&lt;p>äº‹å®æ˜¯ï¼ŒDocker åœ¨ 2014 å¹´æœ‰æœºä¼šä¸è°·æ­Œçš„ Kubernetes å›¢é˜Ÿå¯†åˆ‡åˆä½œï¼Œå¹¶åœ¨æ­¤è¿‡ç¨‹ä¸­å¯èƒ½æ‹¥æœ‰æ•´ä¸ªå®¹å™¨ç”Ÿæ€ç³»ç»Ÿã€‚Stinemates è¯´ï¼šâ€œæˆ‘ä»¬æœ¬å¯ä»¥è®© Kubernetes æˆä¸º GitHub ä¸Š Docker æ——å¸œä¸‹çš„ä¸€æµ Docker é¡¹ç›®ã€‚äº‹åçœ‹æ¥ï¼ŒSwarm ä¸Šå¸‚å¤ªæ™šæ˜¯ä¸€ä¸ªé‡å¤§é”™è¯¯ã€‚â€&lt;/p>
&lt;p>æ®åœ¨åœºçš„å¤šåäººå£«ç§°ï¼Œè°·æ­Œæ—§é‡‘å±±åŠå…¬å®¤çš„æ—©æœŸè®¨è®ºæ˜¯æŠ€æœ¯æ€§çš„å’Œç´§å¼ çš„ï¼Œå› ä¸ºåŒæ–¹å¯¹å¦‚ä½•è¿›è¡Œå®¹å™¨ç¼–æ’æŒä¸åŒçš„æ„è§ã€‚&lt;/p>
&lt;p>Kubernetes è”åˆåˆ›å§‹äººã€ç°ä»» VMware å‰¯æ€»è£ Craig McLuckie è¡¨ç¤ºï¼Œä»–æå‡ºå°† Kubernetes æèµ ç»™ Dockerï¼Œä½†åŒæ–¹æœªèƒ½è¾¾æˆåè®®ã€‚ä»–å‘Šè¯‰ InfoWorldï¼šâ€œé‚£é‡Œæœ‰ä¸€ä¸ªç›¸äº’å‚²æ…¢çš„å› ç´ ï¼Œä»ä»–ä»¬é‚£é‡Œæˆ‘ä»¬ä¸äº†è§£å¼€å‘äººå‘˜çš„ç»éªŒï¼Œä½†ç›¸äº’çš„æ„Ÿè§‰æ˜¯è¿™äº›å¹´è½»çš„æ–°è´µçœŸçš„ä¸äº†è§£åˆ†å¸ƒå¼ç³»ç»Ÿç®¡ç†ã€‚â€å…¶ä»–äººåˆ™è¡¨ç¤ºè®¨è®ºæ›´ä¸ºéæ­£å¼ï¼Œå¹¶ä¸”ä¾§é‡äºå®¹å™¨æŠ€æœ¯çš„è”åˆå¼€å‘ã€‚æ— è®ºå“ªç§æ–¹å¼ï¼Œå›¢é˜Ÿä»æ¥æ²¡æœ‰æ„è§ä¸€è‡´å¹¶æœ€ç»ˆåˆ†é“æ‰¬é•³ï¼Œ&lt;a href="https://kubernetes.io/blog/2018/07/20/the-history-of-kubernetes-the-community-behind-it/">è°·æ­Œåœ¨ 2014 å¹´å¤å¤©æ¨å‡ºäº† Kubernetes&lt;/a>ã€‚&lt;/p>
&lt;p>Hykes å¯¹ Google å‘ Docker æä¾› Kubernetes é¡¹ç›®çš„æ‰€æœ‰æƒæå‡ºå¼‚è®®ï¼Œç§°ä»–ä»¬â€œæœ‰æœºä¼šåƒå…¶ä»–äººä¸€æ ·æˆä¸ºç”Ÿæ€ç³»ç»Ÿçš„ä¸€éƒ¨åˆ†â€ã€‚&lt;/p>
&lt;p>Hykes æ‰¿è®¤å½“æ—¶ Docker å’Œ Google å›¢é˜Ÿä¹‹é—´å¤„äºç´§å¼ å…³ç³»ã€‚Hykes è¯´ï¼šâ€œæœ‰é‚£ä¹ˆä¸€åˆ»ï¼Œè‡ªè´Ÿå äº†ä¸Šé£ã€‚è°·æ­Œçš„å¾ˆå¤šèªæ˜å’Œæœ‰ç»éªŒçš„äººéƒ½è¢« Docker çš„å®Œå…¨å±€å¤–äººè’™è”½äº†åŒçœ¼ã€‚æˆ‘ä»¬æ²¡æœ‰åœ¨è°·æ­Œå·¥ä½œï¼Œæˆ‘ä»¬æ²¡æœ‰å»æ–¯å¦ç¦ï¼Œæˆ‘ä»¬æ²¡æœ‰è®¡ç®—æœºç§‘å­¦åšå£«å­¦ä½ã€‚æœ‰äº›äººè§‰å¾—è¿™æ˜¯ä»–ä»¬çš„äº‹ï¼Œæ‰€ä»¥æœ‰ä¸€åœºè‡ªæˆ‘ä¹‹æˆ˜ã€‚ç»“æœå¹¶ä¸æ˜¯ Docker å’Œ Kubernetes å›¢é˜Ÿä¹‹é—´çš„è‰¯å¥½åˆä½œï¼Œè€Œæ­¤æ—¶åˆä½œç¡®å®æœ‰æ„ä¹‰ã€‚â€&lt;/p>
&lt;p>Stinemates è¯´ï¼šâ€œä¸€æ–¹é¢æ˜¯åŸºæœ¬çš„è‡ªæˆ‘ï¼Œå¦ä¸€æ–¹é¢æ˜¯ä¸ [Kubernetes è”åˆåˆ›å§‹äºº] Joe Bedaã€Brendan Burns å’Œ Craig McLuckie çš„ç´§å¼ å…³ç³»â€”â€”ä»–ä»¬å¯¹æœåŠ¡çº§åˆ« API çš„éœ€æ±‚æœ‰å¼ºçƒˆçš„çœ‹æ³•ï¼Œè€Œä»ç®€å•çš„è§’åº¦æ¥çœ‹ Docker åœ¨æŠ€æœ¯ä¸Šå¯¹å•ä¸ª API æœ‰è‡ªå·±çš„çœ‹æ³•ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬æ— æ³•è¾¾æˆä¸€è‡´ã€‚â€&lt;/p>
&lt;p>Hykes æ‰¿è®¤ï¼Œå½“æ—¶ Docker é¢ä¸´ç€ä¸ºæƒ³è¦æ‰©å±•å®¹å™¨ä½¿ç”¨è§„æ¨¡çš„å®¢æˆ·å¯»æ‰¾ç¼–æ’è§£å†³æ–¹æ¡ˆçš„å‹åŠ›ï¼Œä½†å½“æ—¶Kubernetes å°†æˆä¸ºè¯¥è§£å†³æ–¹æ¡ˆå¹¶ä¸æ˜ç¡®ã€‚Hykes è¯´ï¼šâ€œKubernetes å¤ªæ—©äº†ï¼Œè€Œä¸”æ˜¯å‡ åä¸ªä¸­çš„ä¸€ä¸ªï¼Œæˆ‘ä»¬å¹¶æ²¡æœ‰ç¥å¥‡åœ°çŒœæµ‹å®ƒä¼šå æ®ä¸»å¯¼åœ°ä½ï¼Œç”šè‡³ä¸æ¸…æ¥šè°·æ­Œå¯¹å®ƒçš„æ‰¿è¯ºã€‚æˆ‘é—®æˆ‘ä»¬çš„å·¥ç¨‹å¸ˆå’Œæ¶æ„å¸ˆè¯¥æ€ä¹ˆåšï¼Œä»–ä»¬å»ºè®®æˆ‘ä»¬ç»§ç»­ä½¿ç”¨ Swarmã€‚â€&lt;/p>
&lt;p>ç”šè‡³ McLuckie ä¹Ÿæ‰¿è®¤ä»–â€œä¸çŸ¥é“ Kubernetes ä¼šå˜æˆ Kubernetesã€‚å›é¡¾å†å²å¾ˆå®¹æ˜“è®¤ä¸ºè¿™æ˜¯ä¸€ä¸ªç³Ÿç³•çš„é€‰æ‹©ã€‚â€&lt;/p>
&lt;p>ä¸ç®¡å®ƒå¤±è´¥äº†ï¼ŒKubernetes æœ€ç»ˆèµ¢å¾—äº†å®¹å™¨ç¼–æ’ä¹‹æˆ˜ï¼Œå…¶ä½™çš„æˆä¸ºè½¯ä»¶è¡Œä¸šçš„åŒ†åŒ†è¿‡å®¢ã€‚&lt;/p>
&lt;p>451 Research çš„åˆ†æå¸ˆ Jay Lyman è¯´ï¼šâ€œKubernetes æ¥äº†ï¼Œå¹¶æŠ¢èµ°äº†æ‰€æœ‰çš„é£å¤´ã€‚å®ƒä»£è¡¨äº†è°·æ­Œåœ¨å¼€å‘å’Œå¼€æºæ–¹é¢å¯¹å®¹å™¨çš„ä½¿ç”¨ï¼Œè¿™åœ¨å¾ˆå¤šæ–¹é¢éƒ½è¶…è¿‡äº†å¯¹ Docker çš„å…³æ³¨ã€‚[Docker] å°† Docker Swarm è§†ä¸ºä»–ä»¬é€šè¿‡è½¯ä»¶è·åˆ©çš„æ–¹å¼ã€‚å¦‚æœä»–ä»¬å¯ä»¥å›å»ï¼Œä»–ä»¬å¯èƒ½ä¼šä»ä¸€å¼€å§‹å°±ä¸ Kubernetes æ›´ç´§å¯†åœ°é›†æˆã€‚ä»–ä»¬è¿‡äºä¸“æ³¨äºç‹¬è‡ªè¡ŒåŠ¨ã€‚â€&lt;/p>
&lt;p>McLuckie è¯´ï¼šâ€œæˆ‘æœ€æ·±åˆ‡çš„é—æ†¾ä¹‹ä¸€æ˜¯æˆ‘ä»¬æ²¡æœ‰æ‰¾åˆ°è°ˆåˆ¤çš„æ–¹æ³•ã€‚Docker æä¾›äº†ä¸€äº›éå‡¡çš„ä½“éªŒï¼Œè€Œ Kubernetes æä¾›çš„ä¸œè¥¿ï¼Œä»ä½“éªŒçš„è§’åº¦æ¥çœ‹ï¼Œå¹¶ä¸é‚£ä¹ˆå¼•äººæ³¨ç›®ã€‚â€ æˆ–è€…ï¼Œæ­£å¦‚ Docker è”åˆåˆ›å§‹äºº Sebastien Pahl æŒ‡å‡ºçš„é‚£æ ·ï¼šâ€œç®€å•å¹¶æ²¡æœ‰è·èƒœã€‚æˆ‘å–œæ¬¢ Kubernetesï¼Œä½†å®ƒ&lt;a href="https://www.infoworld.com/article/3614850/no-one-wants-to-manage-kubernetes-anymore.html">ä¸é€‚åˆæ™®é€šäºº&lt;/a>ã€‚â€&lt;/p>
&lt;h2 id="é«˜å±‚çš„ç´§å¼ æ°”æ°›">é«˜å±‚çš„ç´§å¼ æ°”æ°›&lt;/h2>
&lt;p>åœ¨ 2015 å¹´ä»¥ 10 äº¿ç¾å…ƒçš„â€œç‹¬è§’å…½â€ä¼°å€¼å®Œæˆ 9500 ä¸‡ç¾å…ƒçš„å¤§å‹ D è½®èèµ„ä¹‹åï¼ŒDocker æœ€ç»ˆè¾¾åˆ°äº†ç‚’ä½œå‘¨æœŸçš„å·…å³°ã€‚&lt;/p>
&lt;p>Steinmates è¯´ï¼šâ€œè¿™è®¾å®šäº†éå¸¸é«˜çš„æœŸæœ›ï¼Œå¹¶æš´éœ²äº†æˆ‘ä»¬ä½œä¸ºä¸€å®¶å…¬å¸å°†é¢ä¸´çš„ä¸€äº›åŸºæœ¬é—®é¢˜ã€‚æˆ‘è®¤ä¸º Ben [Golubï¼Œé¦–å¸­æ‰§è¡Œå®˜] å¯¹å…¬å¸çš„æƒ³æ³•ä¸ Solomon ä¸åŒï¼Œä¸¤äººæ²¡æœ‰æ„è§ä¸€è‡´åº”è¯¥ä¸æ˜¯ä»€ä¹ˆç§˜å¯†ã€‚è‘£äº‹ä¼šå¤§é‡æºå’ŒåŠªåŠ›è®©åˆ›å§‹äººå¼€å¿ƒï¼Œå¹¶ç»™ CEO è¶³å¤Ÿçš„å›æ—‹ä½™åœ°ï¼Œä½¿å…¬å¸å–å¾—æˆåŠŸã€‚å¦‚æœç”± Solomon å†³å®šï¼Œæˆ‘ä»¬ä¼šåšæŒä»¥ç¤¾åŒºä¸ºå¯¼å‘çš„è·¯çº¿æ¥åˆ›é€ ç—…æ¯’å¼ä¼ æ’­ã€‚å¦‚æœç”± Ben å†³å®šï¼Œæˆ‘ä»¬ä¼šæ›´æ—©åœ°è½¬å‘ä¸šåŠ¡æ–¹é¢ã€‚è¿™ç§ç´§å¼ å±€åŠ¿å¯¼è‡´æˆ‘ä»¬å¯¹ä¸¤è€…éƒ½é‡‡å–äº†åŠé€”è€ŒåºŸçš„æ–¹å¼ã€‚â€&lt;/p>
&lt;p>&lt;a href="https://increment.com/containers/docker-ce-and-ee/">è¿™ç§æ–¹æ³•æœ‰æ•ˆåœ°å‚¬ç”Ÿäº†ä¸¤ä¸ªDocker&lt;/a>ï¼šDocker ç¤¾åŒºç‰ˆï¼ˆé¢å‘å¼€å‘äººå‘˜çš„å¹¿å—æ¬¢è¿çš„å‘½ä»¤è¡Œå·¥å…·å’Œå¼€æºé¡¹ç›®ï¼‰å’Œ Docker ä¼ä¸šç‰ˆï¼ˆé¢å‘å¸Œæœ›å¤§è§„æ¨¡é‡‡ç”¨å®¹å™¨çš„ä¼ä¸šå®¢æˆ·çš„å•†ä¸šå·¥å…·å¥—ä»¶ï¼‰ã€‚ä¸å¹¸çš„æ˜¯ï¼Œå…¬å¸çš„åŠ¨ä½œå¤ªæ…¢äº†ï¼Œæ— æ³•æ­£å¼è¿›è¡Œæ‹†åˆ†å¹¶ç›¸åº”åœ°åˆ†é…èµ„æºã€‚&lt;/p>
&lt;p>Golub æ‰¿è®¤ä»–ä»¬â€œåº”è¯¥æ¯”å®é™…æ›´æ—©åœ°æ‹†åˆ†ä¸šåŠ¡â€ï¼Œè€Œ Hykes åŒæ„ Docker â€œä»æœªæ‰¾åˆ°è¿æ¥å…¬å¸è¿™ä¸¤éƒ¨åˆ†çš„æ–¹æ³•â€ã€‚&lt;/p>
&lt;p>åˆ°äº† 2018 å¹´ï¼Œè£‚ç¼å¼€å§‹æ˜¾ç°ï¼Œå› ä¸ºè¯¥å…¬å¸åŠªåŠ›åœ¨&lt;a href="https://www.techrepublic.com/article/why-doesnt-anyone-weep-for-docker/">æ—¥ç›Šä¸æ»¡çš„å¼€æºç¤¾åŒº&lt;/a>ã€å¼ºå¤§çš„åˆä½œä¼™ä¼´å’Œè¦æ±‚åœ¨ç”Ÿäº§ä¸­è¿è¡Œå®¹å™¨çš„ä¼ä¸šå®¢æˆ·ä¹‹é—´æ‰¾åˆ°å¯è¡Œçš„é“è·¯ã€‚&lt;/p>
&lt;p>ä¸ä¹…ä¹‹åï¼ŒHykes äº 2018 å¹´ 3 æœˆç¦»å¼€äº†ä»–åœ¨å…¬å¸çš„æ—¥å¸¸è§’è‰²ï¼Œä»–åœ¨ä¸€ç¯‡åšå®¢æ–‡ç« ä¸­æŒ‡å‡ºï¼Œâ€œä½œä¸ºåˆ›å§‹äººï¼Œæˆ‘å½“ç„¶æœ‰å¤æ‚çš„æƒ…ç»ªã€‚å½“ä½ åˆ›å»ºä¸€å®¶å…¬å¸æ—¶ï¼Œä½ çš„å·¥ä½œæ˜¯ç¡®ä¿å®ƒæœ‰ä¸€å¤©å¯ä»¥åœ¨æ²¡æœ‰ä½ çš„æƒ…å†µä¸‹å–å¾—æˆåŠŸã€‚ç„¶åæœ€ç»ˆæœ‰ä¸€å¤©ä¼šåˆ°æ¥ï¼Œåº†ç¥æ´»åŠ¨å¯èƒ½æ˜¯è‹¦ä¹å‚åŠã€‚å¯¹äºåˆ›å§‹äººæ¥è¯´ï¼Œæ”¾å¼ƒä¸€ç”Ÿçš„å·¥ä½œç»éæ˜“äº‹ã€‚â€&lt;/p>
&lt;p>ä»Šå¤©å›æƒ³èµ·æ¥ï¼ŒHykes æ›´ç®€å•ã€‚â€œæˆ‘æ„è¯†åˆ°æˆ‘ä¸å±äºè¿™å®¶å…¬å¸ã€‚ç•™ä¸‹å¯¹æˆ‘æ¥è¯´æ²¡æœ‰ä»»ä½•æ„ä¹‰ï¼Œæ‰€ä»¥æˆ‘ç¦»å¼€äº†&amp;hellip;&amp;hellip;æˆ‘å¤šåŠæ˜¯ä¸ªåº”è¯¥ç»§ç»­æ‹…ä»»é¦–å¸­æ‰§è¡Œå®˜æˆ–ç¦»å¼€çš„ä¸å¿«ä¹åˆ›å§‹äººã€‚â€&lt;/p>
&lt;h2 id="docker-ä¸€åˆ†ä¸ºäºŒ">Docker ä¸€åˆ†ä¸ºäºŒ&lt;/h2>
&lt;p>é¢å¯¹&lt;a href="https://www.cnbc.com/2019/09/27/docker-is-trying-to-raise-money-following-arrival-of-ceo-rob-bearden.html">æ—¥ç›Šä¸¥é‡çš„èµ„é‡‘é—®é¢˜&lt;/a>ï¼ŒDocker è½®æ¢äº†æ–°ä»» CEOï¼ŒGolub äº 2017 å¹´ 5 æœˆè®©ä½ç»™å‰ SAP æ‰§è¡Œå®˜ Steve Singhï¼Œç„¶å Singh äº 2019 å¹´ 6 æœˆè®©ä½ç»™å‰ Hortonworks é¦–å¸­æ‰§è¡Œå®˜ Rob Beardenã€‚&lt;/p>
&lt;p>æœ€ç»ˆè¦æ¥å—æ‰¹è¯„çš„æ˜¯ Beardenã€‚ä¸Šä»»åä¸ä¹…ï¼Œ&lt;a href="https://twitter.com/QuinnyPig/status/1194687851587198977?s=20">Docker äº 2019 å¹´ 11 æœˆå°†å…¶ä¼ä¸šéƒ¨åˆ†ä¸šåŠ¡å‡ºå”®ç»™ Mirantis&lt;/a>ï¼ŒDocker Enterprise å¹¶å…¥ Mirantis Kubernetes Engineã€‚&lt;/p>
&lt;p>Bearden å½“æ—¶åœ¨ä¸€ä»½æ–°é—»ç¨¿ä¸­è¯´ï¼šâ€œåœ¨ä¸ç®¡ç†å›¢é˜Ÿå’Œè‘£äº‹ä¼šè¿›è¡Œå½»åº•åˆ†æåï¼Œæˆ‘ä»¬ç¡®å®š Docker æœ‰ä¸¤ä¸ªæˆªç„¶ä¸åŒçš„ä¸šåŠ¡ï¼šä¸€ä¸ªæ˜¯æ´»è·ƒçš„å¼€å‘è€…ä¸šåŠ¡ï¼Œå¦ä¸€ä¸ªæ˜¯æˆé•¿ä¸­çš„ä¼ä¸šä¸šåŠ¡ã€‚æˆ‘ä»¬è¿˜å‘ç°äº§å“å’Œè´¢åŠ¡æ¨¡å‹å¤§ä¸ç›¸åŒã€‚â€&lt;/p>
&lt;h2 id="docker-å¦‚ä»Šåœ¨å“ªé‡Œ">Docker å¦‚ä»Šåœ¨å“ªé‡Œï¼Ÿ&lt;/h2>
&lt;p>æœ‰äº†åŸå§‹æŠ•èµ„è€… Insight Venture Partners å’Œ Benchmark Capital çš„ 3500 ä¸‡ç¾å…ƒç°é‡‘æ³¨å…¥ï¼Œå‰©ä¸‹çš„ Docker ç”±åŸå§‹ Docker Engine å®¹å™¨è¿è¡Œæ—¶ã€Docker Hub é•œåƒå­˜å‚¨åº“å’Œ Docker æ¡Œé¢åº”ç”¨ç¨‹åºæ”¯æ’‘ï¼Œåœ¨ 7 å¹´å…¬å¸èµ„æ·±äººå£« Scott Johnston çš„é¢†å¯¼ä¸‹æ´»äº†ä¸‹æ¥ã€‚&lt;/p>
&lt;p>Johnston å‘Šè¯‰ InfoWorldï¼Œä»–æ­£è¯•å›¾é€šè¿‡â€œåƒæ¿€å…‰ä¸€æ ·é‡æ–°å…³æ³¨å¼€å‘äººå‘˜çš„éœ€æ±‚â€ï¼Œè®©å…¬å¸å›å½’æœ¬æºã€‚â€œæˆ‘ä»¬è®¤ä¸ºè¯¥å…¬å¸æ¯”ä»¥å¾€ä»»ä½•æ—¶å€™éƒ½æ›´å¼ºå¤§ï¼Œå› ä¸ºä¸‰ç‚¹ï¼šä»¥å®¢æˆ·ä¸ºä¸­å¿ƒã€ç»Ÿä¸€çš„å¸‚åœºå®šä½å’Œç”Ÿæ€ç³»ç»Ÿå‹å¥½çš„å•†ä¸šæ¨¡å¼ã€‚â€&lt;/p>
&lt;p>ä¸Šå‘¨ Docker å®£å¸ƒæ›´æ”¹ Docker è½¯ä»¶çš„è®¸å¯æ¡æ¬¾ã€‚å¾ˆå¿«ï¼Œä¸ºå¤§å…¬å¸å·¥ä½œçš„ Docker Desktop ä¸“ä¸šç”¨æˆ·å°†ä¸å¾—ä¸æ³¨å†Œä»˜è´¹è®¢é˜…æ‰èƒ½ç»§ç»­ä½¿ç”¨è¯¥åº”ç”¨ç¨‹åºã€‚&lt;/p>
&lt;p>Johnston å†³å¿ƒä¸é‡è¹ˆè¦†è¾™ï¼Œä¸“æ³¨äºä¸ºå…¬å¸çš„æ ¸å¿ƒè½¯ä»¶å¼€å‘äººå‘˜å—ä¼—æä¾›ä»·å€¼ã€‚ä»–è¯´ï¼šâ€œæˆ‘ä»¬çš„é‡å¿ƒæ›´å¤§ï¼Œå› ä¸ºå¼€å‘äººå‘˜ç”Ÿæ€ç³»ç»Ÿè¦é¢å‘çš„æ˜¯ä¸–ç•Œä¸Šçš„æ¯ä¸ªå¼€å‘äººå‘˜ï¼Œè€Œä¸ä»…ä»…æ˜¯é‚£äº›ä¸æˆ‘ä»¬çš„è¿è¡Œæ—¶ä¸€è‡´çš„å¼€å‘äººå‘˜ã€‚â€&lt;/p>
&lt;p>Johnston è®¤ä¸ºâ€œDocker 2.0â€çš„å¢é•¿æœºä¼šåœ¨äºä¸ºå®‰å…¨ã€å·²éªŒè¯çš„é•œåƒæ„å»ºæ–°çš„å¼€å‘äººå‘˜å·¥å…·å’Œ&lt;a href="https://www.docker.com/press-release/docker-expands-trusted-content-offerings">å¯ä¿¡å†…å®¹&lt;/a>ï¼Œä»¥åŠæ–°å…´è®¡ç®—æ¨¡å‹ï¼ˆå¦‚&lt;a href="https://www.infoworld.com/article/3406501/what-is-serverless-serverless-computing-explained.html">æ— æœåŠ¡å™¨&lt;/a>ã€&lt;a href="https://www.infoworld.com/article/3214424/what-is-machine-learning-intelligence-derived-from-data.html">æœºå™¨å­¦ä¹ &lt;/a>å’Œ&lt;a href="https://www.networkworld.com/article/3207535/what-is-iot-the-internet-of-things-explained.html">ç‰©è”ç½‘&lt;/a> ä»¥å®¹å™¨æŠ€æœ¯ä¸ºåŸºç¡€çš„å·¥ä½œè´Ÿè½½ï¼‰èƒŒåçš„æŒç»­åŠ¨åŠ›ã€‚&lt;/p>
&lt;p>åŒæ—¶ï¼ŒDocker ä»ç„¶æ˜¯è¡Œä¸šæ ‡å‡†çš„å®¹å™¨è¿è¡Œæ—¶ï¼Œ&lt;a href="https://www.docker.com/blog/docker-index-shows-continued-massive-developer-adoption-and-activity-to-build-and-share-apps-with-docker/">å¦‚ä»Š Docker Desktop å®‰è£…åœ¨ 330 ä¸‡å°æœºå™¨ä¸Š&lt;/a>ã€‚æ­¤å¤–ï¼Œåœ¨ &lt;a href="https://insights.stackoverflow.com/survey/2021">Stack Overflow çš„ 2021 å¹´å¼€å‘è€…è°ƒæŸ¥&lt;/a>ä¸­ï¼Œ49% çš„å—è®¿è€…è¡¨ç¤ºä»–ä»¬ç»å¸¸ä½¿ç”¨è¯¥å·¥å…·ã€‚&lt;/p>
&lt;p>å°½ç®¡å¦‚æ­¤ï¼Œäººä»¬ä»ç„¶å¯¹å¯èƒ½å‘ç”Ÿçš„äº‹æƒ…æ·±æ„Ÿå¤±æœ›ã€‚Stinemates è¯´ï¼šâ€œå¦‚æœæˆ‘æƒ³è¦è½»ç‡ï¼Œæˆ‘ä¼šé—®ä»Šå¤© Docker æ˜¯å¦å­˜åœ¨ã€‚ä»èŒä¸šè§’åº¦æ¥çœ‹ï¼Œè¿™å¾ˆå¯æ‚²ã€‚æˆ‘ä»åœ¨å¯»æ‰¾ä¸€å®¶åƒ Docker ä¸€æ ·ä»¤äººå…´å¥‹å’Œå……æ»¡æ´»åŠ›çš„å…¬å¸ï¼Œå¹¶èƒ½åˆ›é€ å‡ºç«èŠ±ã€‚â€&lt;/p>
&lt;p>Hykes è¯´ï¼šâ€œå¯ä»¥å…¬å¹³åœ°è¯´ï¼ŒDocker æœªèƒ½å®ç°å…¶å•†ä¸šåŒ–çš„æ½œåŠ›â€¦â€¦åˆ°ç›®å‰ä¸ºæ­¢ã€‚æˆ‘å¾ˆé«˜å…´ Docker åœ¨è¿™ä¹ˆå¤šå¹´ä¹‹åæœ‰å†æ¬¡æœ‰å®ç°å•†ä¸šåŒ–çš„æœºä¼šã€‚è¿™æ˜¯å¯¹åŸºç¡€é¡¹ç›®å’Œå“ç‰Œçš„è¯æ˜ã€‚â€&lt;/p></description></item><item><title>å¼€æºè¯„ä¼°æ¡†æ¶</title><link>https://atbug.com/a-framework-for-open-source-evaluation/</link><pubDate>Mon, 09 Aug 2021 08:36:21 +0800</pubDate><guid>https://atbug.com/a-framework-for-open-source-evaluation/</guid><description>
&lt;p>æœ¬æ–‡ç”±æœ¬äººç¿»è¯‘è‡ª &lt;a href="">Bilgin Ibryam&lt;/a> çš„ &lt;a href="https://monetize.substack.com/p/a-framework-for-open-source-evaluation">A Framework for Open Source Evaluation&lt;/a>ï¼Œé¦–å‘åœ¨&lt;a href="https://cloudnative.to/blog/a-framework-for-open-source-evaluation/">äº‘åŸç”Ÿç¤¾åŒºåšå®¢&lt;/a>ã€‚&lt;/p>
&lt;hr>
&lt;p>å¦‚ä»Šï¼ŒçœŸ&lt;a href="https://www.linuxjournal.com/content/open-vs-fauxpen">å‡&lt;/a>å¼€æºæ— å¤„ä¸åœ¨ã€‚æœ€è¿‘å¼€æºé¡¹ç›®è½¬ä¸ºé—­æºçš„æ¡ˆä¾‹è¶Šæ¥è¶Šå¤šï¼ŒåŒæ—¶ä¹Ÿæœ‰ä¸å°‘é—­æºé¡¹ç›®ï¼ˆæŒ‰ç…§ &lt;a href="https://opensource.org/osd">OSI å®šä¹‰&lt;/a>ï¼‰åƒå¼€æºä¸€æ ·æ„å»ºç¤¾åŒºçš„ä¾‹å­ã€‚è¿™æ€ä¹ˆå¯èƒ½ï¼Œå¼€æºé¡¹ç›®ä¸åº”è¯¥å§‹ç»ˆå¦‚æ­¤å—ï¼Ÿ&lt;/p>
&lt;p>å¼€æºä¸æ˜¯éé»‘å³ç™½ï¼Œå®ƒå…·æœ‰å¼€æ”¾æ€§ã€é€æ˜ã€åä½œæ€§å’Œä¿¡ä»»æ€§çš„å¤šä¸ª&lt;a href="https://monetize.substack.com/p/a-holistic-vision-of-open-source">ç»´åº¦&lt;/a>ã€‚æœ‰äº›å¼€æºæ˜¯ Github ä¸Šçš„ä»»ä½•é¡¹ç›®ï¼Œæœ‰äº›å¿…é¡»é€šè¿‡ OSI å®šä¹‰ï¼Œæœ‰äº›æ˜¯å¿…é¡»éµå®ˆä¸æˆæ–‡ä½†æ™®éæ¥å—çš„å¼€æºè§„èŒƒã€‚è¿™é‡Œé€šè¿‡çœ‹ä¸€äº›å•†ä¸šå’ŒæŠ€æœ¯æ–¹é¢ï¼Œå†è®¨è®ºç¤¾åŒºç®¡ç†ä¹ æƒ¯ï¼Œæ¥åŒå¤§å®¶åˆ†äº«ä¸€ä¸‹æˆ‘å¯¹è¯„ä¼°å¼€æºé¡¹ç›®çš„çœ‹æ³•ã€‚&lt;/p>
&lt;h3 id="å…è´£å£°æ˜">å…è´£å£°æ˜&lt;/h3>
&lt;ul>
&lt;li>è¿™äº›æ˜¯æˆ‘çš„ä¸ªäººè§‚ç‚¹ï¼Œä¸æˆ‘çš„é›‡ä¸»æˆ–æˆ‘æ‰€å±çš„è½¯ä»¶åŸºé‡‘ä¼šå’Œé¡¹ç›®æ— å…³ã€‚&lt;/li>
&lt;li>è¿™ä¸æ˜¯æ³•å¾‹æˆ–ä¸“ä¸šæ„è§ï¼ˆæˆ‘ä¸æ˜¯å¾‹å¸ˆï¼Œä¹Ÿä¸æ˜¯ä¸“é—¨ä»äº‹ OSS è¯„ä¼°çš„ï¼‰ï¼Œè€Œæ˜¯å¤–è¡Œçš„æ„è§ã€‚
æ›´æ–°ï¼šæˆ‘æ”¶åˆ°äº†å¤šä½å¼€æºå¾‹å¸ˆçš„åé¦ˆå¹¶æ›´æ–°äº†æ–‡ç« ï¼&lt;/li>
&lt;li>è¿™ç¯‡åšæ–‡ç”±&lt;a href="https://monetize.substack.com/">è®¢é˜…&lt;/a>å’Œ&lt;a href="https://twitter.com/bibryam/status/1371045284751507463">åˆ†äº«&lt;/a>æŒ‰é’®èµåŠ©ï¼Œç‚¹å‡»è¿™äº›æŒ‰é’®è¡¨ç¤ºæ”¯æŒã€‚&lt;/li>
&lt;/ul>
&lt;h3 id="çŸ¥è¯†äº§æƒ">çŸ¥è¯†äº§æƒ&lt;/h3>
&lt;p>å…³äºâ€œå¼€æºâ€é¡¹ç›®çš„ç¬¬ä¸€ä¸ªé—®é¢˜æ˜¯å…³äºçŸ¥è¯†äº§æƒçš„æ‰€æœ‰æƒã€‚å¥½æ¶ˆæ¯æ˜¯ï¼Œå³ä½¿ä¸äº†è§£è¿™äº›æ³•å¾‹å«ä¹‰ï¼Œä½ å¯ä»¥åº”ç”¨ä¸€ä¸ªç®€å•çš„ Litmus æµ‹è¯•ã€‚è¯¥é¡¹ç›®æ˜¯å¦å±äºä½ ä¿¡ä»»çš„ä¿¡èª‰è‰¯å¥½çš„å¼€æºåŸºé‡‘ä¼šï¼Ÿä¾‹å¦‚ï¼Œ&lt;a href="https://www.fsf.org/">FSF&lt;/a> æ‹¥æœ‰å…¶æ‰˜ç®¡é¡¹ç›®çš„ç‰ˆæƒï¼Œæ›´å¤šæƒ…å†µä¸‹æ‹¥æœ‰åŸºé‡‘ä¼šï¼ˆå¦‚ &lt;a href="https://www.apache.org/foundation/">ASF&lt;/a>ã€&lt;a href="https://www.linuxfoundation.org/">LF&lt;/a>) é€šè¿‡è´¡çŒ®è€…è®¸å¯åè®®ï¼Œèšåˆå¯¹å…¶é¡¹ç›®çš„è´¡çŒ®è®¸å¯æƒã€‚åœ¨ä»»ä½•ä¸€ç§æƒ…å†µä¸‹ï¼Œä½ éƒ½å¯ä»¥ç›¸ä¿¡ä»–ä»¬å°†å……å½“è‰¯å¥½çš„å»ä¸­å¿ƒåŒ–ç®¡å®¶ï¼Œå¹¶ä¸”ä¸ä¼šåœ¨ä¸€å¤œä¹‹é—´æ”¹å˜é¡¹ç›®çš„æœªæ¥æ–¹å‘ã€‚å¦‚æœä¸€ä¸ªé¡¹ç›®ä¸å±äºä¿¡èª‰è‰¯å¥½çš„è½¯ä»¶åŸºé‡‘ä¼šï¼Œè€Œæ˜¯ç”±ä¸€å®¶å…¬å¸æä¾›æ”¯æŒï¼Œé‚£ä¹ˆé—®é¢˜æ˜¯ä½ æ˜¯å¦ä¿¡ä»»è¯¥å…¬å¸ä½œä¸ºä¾›åº”é“¾åˆä½œä¼™ä¼´ã€‚å¦‚æœè¿™äº›é—®é¢˜çš„ç­”æ¡ˆæ˜¯è‚¯å®šçš„ï¼Œè¯·è½¬åˆ°ä¸‹ä¸€éƒ¨åˆ†ã€‚å¦‚æœç­”æ¡ˆæ˜¯å¦å®šçš„ï¼Œé‚£ä¹ˆä½ æœ€å¥½è°ƒæŸ¥ä¸€ä¸‹ç‰ˆæƒæ‰€æœ‰è€…æ˜¯è°ï¼Œä»¥åŠä»–ä»¬å¯¹ä½ çš„é•¿æœŸå‰æ™¯å’Œæ½œåœ¨é£é™©æ˜¯ä»€ä¹ˆã€‚ä»Šå¤©çš„å•ä¸€ä¾›åº”å•†å¼€æºé¡¹ç›®ï¼Œæ˜å¤©å¯èƒ½ä¼šå˜æˆé—­æºã€‚&lt;/p>
&lt;h3 id="è®¸å¯">è®¸å¯&lt;/h3>
&lt;p>å•†æ ‡å‡ºç°åœ¨è®¸å¯ä¹‹å‰çš„åŸå› æ˜¯è½¯ä»¶çš„æƒåˆ©äººï¼ˆé€šå¸¸æ˜¯ä½œè€…ï¼‰é€šè¿‡è®¸å¯æˆäºˆæœ€ç»ˆç”¨æˆ·ä½¿ç”¨ä¸€ä¸ªæˆ–å¤šä¸ªè½¯ä»¶å‰¯æœ¬çš„è®¸å¯ã€‚è‡ªç”±è½¯ä»¶è®¸å¯è¯æ˜¯ä¸€ç§è¯´æ˜ï¼Œå®ƒæˆäºˆæºä»£ç æˆ–å…¶äºŒè¿›åˆ¶å½¢å¼çš„ä½¿ç”¨è€…ä¿®æ”¹å’Œé‡æ–°åˆ†å‘è¯¥è½¯ä»¶çš„æƒåˆ©ã€‚å¦‚æœæ²¡æœ‰è®¸å¯ï¼Œè¿™äº›è¡Œä¸ºå°†å—åˆ°ç‰ˆæƒæ³•çš„ç¦æ­¢ã€‚è¿™é‡Œçš„é‡ç‚¹æ˜¯æƒåˆ©äººå¯ä»¥æ”¹å˜ä¸»æ„å¹¶æ›´æ”¹è®¸å¯ã€‚æƒåˆ©æŒæœ‰äººå¯ä»¥å†³å®šåœ¨å¤šä¸ªè®¸å¯è¯ä¸‹åˆ†å‘è½¯ä»¶æˆ–éšæ—¶å°†è®¸å¯è¯æ›´æ”¹ä¸ºéå¼€æºè®¸å¯è¯ã€‚è¯¥è½¯ä»¶ä¹Ÿå¯èƒ½åœ¨&lt;a href="https://opensource.org/node/878">å…¬å…±é¢†åŸŸ&lt;/a>ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®ƒä¸å—ç‰ˆæƒæ³•çš„é™åˆ¶ã€‚å…¬å…±é¢†åŸŸå¹¶ä¸ç­‰åŒäºå¼€æºè®¸å¯è¯ï¼Œè¿™æ˜¯ä¸€ç§ä¸å¤ªæµè¡Œçš„æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿™é‡Œå¿½ç•¥ã€‚&lt;/p>
&lt;p>åŒæ ·ï¼Œå¦‚æœä¸æ˜¯å¾‹å¸ˆï¼Œè¿™æ˜¯ä¸€ä¸ªå¤–è¡Œå¯¹è®¸å¯çš„ Litmus æµ‹è¯•ï¼šè¯¥é¡¹ç›®æ˜¯å¦æ ¹æ® OSI æ‰¹å‡†çš„&lt;a href="https://opensource.org/licenses/alphabetical">è®¸å¯æ¸…å•&lt;/a>è·å¾—çš„è®¸å¯ï¼Ÿå¦‚æœç­”æ¡ˆæ˜¯è‚¯å®šçš„ï¼Œé‚£ä¹ˆä½ å¯ä»¥ä¾é è¿™äº›åŸºé‡‘ä¼šçš„å°½èŒè°ƒæŸ¥æ¥å®¡æŸ¥ã€åˆ†ç±»è®¸å¯å¹¶æŒ‡å‡ºä»»ä½•é™åˆ¶ã€‚å¦‚æœç­”æ¡ˆæ˜¯å¦å®šçš„ï¼Œè¯·è®©ä½ å…¬å¸çš„å¾‹å¸ˆæ¥æŸ¥çœ‹å’Œè§£é‡Šè®¸å¯ä¸Šçš„æ¯ä¸ªå­—ä»¥åŠå¯èƒ½çš„è®¸å¯å…¼å®¹æ€§å½±å“ã€‚&lt;/p>
&lt;h3 id="æ²»ç†">æ²»ç†&lt;/h3>
&lt;p>åœ¨ä½™ä¸‹çš„æ£€æŸ¥ä¸­ï¼Œæˆ‘ä»¬æ­£åœ¨ä»æ›´å¤šçš„å•†ä¸šå’Œæ³•å¾‹æ–¹é¢è½¬å‘æ¶‰åŠå¼€æºé¡¹ç›®é¢†åŸŸçš„æŠ€æœ¯å’Œç¤¾åŒºã€‚&lt;/p>
&lt;p>&lt;img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F7f06c148-d675-4bb7-803e-b3704f0016ef_3309x2473.png" alt="å¼€æºè¯„ä¼°æ¡†æ¶">&lt;/p>
&lt;p>å‡è®¾ä¸æ‹…å¿ƒå•†æ ‡æŒæœ‰æ–¹ï¼ˆæœªæ¥çš„åˆä½œä¼™ä¼´ï¼‰ã€è®¸å¯ï¼ˆä½¿ç”¨å¼€æºè½¯ä»¶çš„æ¡æ¬¾ï¼‰ï¼Œä¸‹ä¸€ä¸ªé—®é¢˜æ˜¯æ²»ç†ã€‚&lt;a href="https://www.oasis-open.org/policies-guidelines/open-projects-process/">æ²»ç†&lt;/a>æ˜¯é¡¹ç›®å†³å®šè°æ¥åšä»€ä¹ˆã€ä»–ä»¬åº”è¯¥å¦‚ä½•åšä»¥åŠä½•æ—¶åšçš„è§„åˆ™æˆ–ä¹ æƒ¯ã€‚å®ƒå®šä¹‰äº†ä¸ä¸åŒé¡¹ç›®è§’è‰²ç›¸å…³çš„èŒè´£ã€ç‰¹æƒå’Œæƒé™ï¼Œä»¥åŠäººä»¬å¦‚ä½•åˆ†é…åˆ°è§’è‰²å’Œä»è§’è‰²ä¸­åˆ é™¤ã€‚æ­¤å¤„çš„ç¤ºä¾‹æ˜¯å°å‹æ—¥å¸¸æ´»åŠ¨ï¼Œä¾‹å¦‚è°æœ‰æƒæ‰¹å‡†æ‹‰å–è¯·æ±‚ã€æŠ•ç¥¨ç»™å€™é€‰å‘å¸ƒã€å°±é¡¹ç›®æ¶æ„è¾¾æˆå…±è¯†ã€å®šä¹‰é¡¹ç›®è·¯çº¿å›¾ä»¥åŠé€‰ä¸¾é¡¹ç›®æ²»ç†å§”å‘˜ä¼šã€‚&lt;/p>
&lt;p>å¦‚æœä½ æ­£åœ¨è¯„ä¼°å¯¹ä½ çš„ç»„ç»‡å…·æœ‰æˆ˜ç•¥æ„ä¹‰çš„é¡¹ç›®ï¼Œä½ æƒ³çŸ¥é“è°è´Ÿè´£ã€‚ä¸ä»…å¦‚æ­¤ï¼Œä½ ç”šè‡³å¯èƒ½&lt;a href="https://hackernoon.com/reciprocity-in-open-source-e60fb98ee1cc">å¸Œæœ›&lt;/a>ä½ çš„å¼€å‘äººå‘˜å¯¹é¡¹ç›®çš„æ–¹å‘æœ‰å‘è¨€æƒã€‚&lt;/p>
&lt;p>è¿˜æœ‰ä¸€ä¸ªç®€å•çš„ Litmus æµ‹è¯•ï¼šå¯¹äºå¼€æºåŸºé‡‘ä¼šçš„é¡¹ç›®ï¼Œå¯¹äºè°å¯ä»¥å¯¹é‡è¦å†³ç­–è¿›è¡ŒæŠ•ç¥¨ï¼Œä»¥åŠå¦‚ä½•æˆä¸ºå†³ç­–å§”å‘˜ä¼šçš„ä¸€éƒ¨åˆ†ï¼Œéƒ½æœ‰æ˜ç¡®çš„è§„åˆ™ã€‚åœ¨æŸäº›åŸºé‡‘ä¼šï¼ˆä¾‹å¦‚ ASFï¼‰ä¸­ï¼Œå®ƒåŸºäºç¤¾åŒºæˆå‘˜çš„ä¸ªäººåŠŸç»©ï¼Œè€Œåœ¨æŸäº›åŸºé‡‘ä¼šï¼ˆä¾‹å¦‚&lt;a href="https://www.cncf.io/"> CNCF &lt;/a>ï¼‰ä¸­ï¼Œå®ƒä»æˆä¸ºä»˜è´¹æˆå‘˜ç»„ç»‡çš„å‘˜å·¥å¼€å§‹ã€‚åœ¨åŸºäºåŒºå—é“¾çš„å¼€æºé¡¹ç›®ä¸­ï¼Œå®ƒæ˜¯åŸºäº&lt;a href="https://bit.ly/devprtcl">ä»¤ç‰Œï¼ˆTokenï¼‰&lt;/a>çš„æŠ•ç¥¨æŒæœ‰äººã€‚å…¶ä»–åŸºé‡‘ä¼šæœ‰ä¸åŒçš„è§„åˆ™ï¼Œä½†éƒ½åŠ›æ±‚åœ¨å¤šä¸ªå‚ä¸è€…ä¹‹é—´å®ç°ä¸­ç«‹å’ŒæƒåŠ›ä¸‹æ”¾ã€‚å¦‚æœä¸€ä¸ªé¡¹ç›®ç”±ä¸€å®¶å…¬å¸æˆ–ä¸€ä¸ªäººç®¡ç†ï¼Œä½ ç›¸ä¿¡ä»–ä»¬ä¼šä¸ºé¡¹ç›®å’Œç¤¾åŒºçš„åˆ©ç›Šåšå‡ºæœ€ä½³å†³ç­–ã€‚å…¶ä¸­ä¸€äº›é¡¹ç›®å¯èƒ½å·²ç»å†™ä¸‹äº†ä»–ä»¬éµå¾ªçš„æ²»ç†è§„åˆ™ï¼Œè€Œæœ‰äº›å¯èƒ½æ ¹æœ¬æ²¡æœ‰ã€‚ç”±ä½ æ¥ç¡®å®šæ²»ç†åŠ¨æ€åŠå…¶å¯¹ä½ çš„é¡¹ç›®å‚ä¸çš„é‡è¦æ€§ã€‚é™¤äº†å…·æœ‰æ²»ç†é€æ˜åº¦å’Œå…¬å¼€å†³ç­–ä¹‹å¤–ï¼Œå¦ä¸€ä¸ªæ–¹é¢æ˜¯æ²»ç†æœºæ„çš„ä¿¡ä»»åº¦å’Œå£°èª‰ã€‚å½“ä½ æŸ¥çœ‹é¡¹ç›®çš„æ²»ç†å§”å‘˜ä¼šæ—¶ï¼Œæ˜¯å¦æœ‰ä¸€ä½æˆ–ä¸€ç»„å…·æœ‰ç»è¿‡éªŒè¯çš„æŠ€æœ¯å’Œç¤¾äº¤æŠ€èƒ½çš„é¢†å¯¼è€…ï¼Œè®©ä½ ç›¸ä¿¡ä»–ä»¬å¯ä»¥å°†é¡¹ç›®æå‡åˆ°ä¸€ä¸ªæ–°çš„æ°´å¹³ï¼Ÿæˆ–è€…ä½ æ˜¯å¦çœ‹åˆ°ä¸€ä¸ªåœ¨æ”¿æ²»æ–—äº‰ä¸­ä¸æ–­äº‰è®ºçš„å›¢ä½“ï¼Ÿè¿™äº›æ˜¯å¼€æºé¡¹ç›®æ˜¯å¦ä¼šæˆåŠŸå¹¶é•¿æœŸå‘å±•çš„ä¸€äº›æŒ‡æ ‡ï¼Œè¿˜æ˜¯å¯ä»¥é¢„æœŸçš„å¤´ç—›å’Œåœæ»ã€‚&lt;/p>
&lt;h3 id="åŸºç¡€è®¾æ–½">åŸºç¡€è®¾æ–½&lt;/h3>
&lt;p>æ‹¥æœ‰å¼€æºè®¸å¯å¯èƒ½åœ¨æŠ€æœ¯ä¸Šæœ‰èµ„æ ¼ä½œä¸ºå¼€æºé¡¹ç›®ï¼Œä½†è¿™å¹¶ä¸èƒ½è¯´æ˜é¡¹ç›®æ˜¯å¦ä»¥å¼€æºæ–¹å¼æ„å»ºã€‚æœ‰è®¸å¤šåœ¨ OSI æ‰¹å‡†çš„è®¸å¯ä¸‹å‘å¸ƒçš„è½¯ä»¶ç¤ºä¾‹ï¼Œä½†å®ƒä»¬æ˜¯åœ¨å°é—­çš„åŸºç¡€è®¾æ–½ä¹‹åå¼€å‘çš„ã€‚é€šè¿‡åŸºç¡€è®¾æ–½ï¼Œæˆ‘çš„æ„æ€æ˜¯ç”¨æˆ·å¿«é€Ÿæé—®çš„èŠå¤©é¢‘é“ã€‚è¿›è¡Œæ›´æ·±å…¥çš„å¼€å‘äººå‘˜è®¨è®ºçš„è®ºå›å’Œé‚®ä»¶åˆ—è¡¨ã€‚å®¡æŸ¥æ‹‰å–è¯·æ±‚çš„æºä»£ç ç®¡ç†ç³»ç»Ÿï¼Œä»¥åŠè¿è¡Œæµ‹è¯•å’Œæ¯æ™šåˆ›å»ºäºŒè¿›åˆ¶æ–‡ä»¶çš„æ„å»ºæœåŠ¡å™¨ã€‚&lt;/p>
&lt;p>å¯¹äºå…³æ³¨å¼€æºé¡¹ç›®çš„å•†åŠ¡äººå£«å’Œå¾‹å¸ˆæ¥è¯´ï¼Œè¿™äº›å¯èƒ½å¹¶ä¸é‡è¦ï¼Œä½†å¯¹äºå°†è¦ä½¿ç”¨å¼€æºé¡¹ç›®çš„æŠ€æœ¯äººå‘˜æ¥è¯´ï¼Œè¿™äº›æ˜¯ä¸€äº›å‡è®¾çš„å¥½å¤„ã€‚è¿™é‡Œè¦åšçš„æ£€æŸ¥æ˜¯æ¢ç´¢è½¯ä»¶æ˜¯å¦æ˜¯ä½¿ç”¨å¼€æ”¾å¼åŸºç¡€è®¾æ–½ä»¥å¼€æºæ–¹å¼å¼€å‘çš„ï¼Œè€Œä¸æ˜¯é—­é—¨é€ è½¦ã€‚ä»¥ä¸‹æ˜¯å‡ ä¸ªç¤ºä¾‹é—®é¢˜ï¼š&lt;/p>
&lt;ul>
&lt;li>ç”¨æˆ·å¯ä»¥åœ¨é¡¹ç›®èŠå¤©ä¸­æå‡ºé—®é¢˜å¹¶åœ¨æ²¡æœ‰ä¸­é—´äººçš„æƒ…å†µä¸‹ä»å¦ä¸€ä¸ªç”¨æˆ·é‚£é‡Œå¾—åˆ°ç­”æ¡ˆå—ï¼Ÿ&lt;/li>
&lt;li>å¼€å‘äººå‘˜èƒ½å¦ä¸é¡¹ç›®æäº¤è€…è”ç³»å¹¶è·å¾—æ·±å…¥çš„æŠ€æœ¯é—®é¢˜çš„ç­”æ¡ˆï¼Ÿ&lt;/li>
&lt;li>ä½ èƒ½å¦è¿è¡Œæœ€æ–°ç‰ˆæœ¬å¹¶ç¡®è®¤å·²çŸ¥çš„é”™è¯¯å·²ä¿®å¤ï¼Ÿ&lt;/li>
&lt;li>æ¶æ„å¸ˆå¯ä»¥å‚åŠ æ¯å‘¨ä¸€æ¬¡çš„ç¤¾åŒºç”µè¯ä¼šè®®å¹¶ç¡®å®šé¡¹ç›®çš„æœªæ¥æ–¹å‘å—ï¼Ÿï¼ˆåŸæ–‡ Can an architect the weekly community call and figure out the future direction of the project?Â ï¼‰&lt;/li>
&lt;/ul>
&lt;p>å¯¹äºå°é—­çš„åŸºç¡€æ¶æ„ï¼Œä½ å¿…é¡»åˆ›å»ºæ”¯æŒå·¥å•å¹¶ä»˜è´¹æ‰èƒ½è·å¾—ç±»ä¼¼é—®é¢˜çš„ç­”æ¡ˆã€‚é€šè¿‡å¼€æ”¾çš„åŸºç¡€è®¾æ–½å’Œå¼€æ”¾çš„å‚ä¸ï¼Œé‚£äº›çŸ¥é“å¦‚ä½•ä»¥å¼€æºæ–¹å¼å·¥ä½œçš„äººå¯ä»¥è·å¾—ç­”æ¡ˆã€‚&lt;/p>
&lt;h3 id="ç¤¾åŒºå’Œé‡‡ç”¨">ç¤¾åŒºå’Œé‡‡ç”¨&lt;/h3>
&lt;p>å¼€æºè½¯ä»¶çš„ä¸»è¦å¥½å¤„ä¹‹ä¸€æ˜¯å®ƒå…è®¸å¥½åˆ›æ„çš„å‘å±•å’Œä¼ æ’­ã€‚ä½ å¯èƒ½æ‹¥æœ‰æœ€å…ˆè¿›çš„æŠ€æœ¯ã€æœ€å®½æ¾çš„è®¸å¯å’Œå¼€æ”¾å¼å¼€å‘ï¼Œä½†å¦‚æœè¯¥è½¯ä»¶æ²¡æœ‰ä¸æ–­å£®å¤§çš„ç¤¾åŒºå’Œä¸æ–­æé«˜çš„é‡‡ç”¨ç‡ï¼Œé‚£å°±æ˜¯ä¸€ä¸ªå€¼å¾—è°ƒæŸ¥çš„è¿¹è±¡ã€‚ä¸åŒçš„é¡¹ç›®ä¼šæœ‰ä¸åŒçš„é‡‡ç”¨ç‡ã€‚æœ‰äº›å¯èƒ½ä¼šè¿…é€Ÿæˆé•¿ä¸ºä¸»æµæˆ–è¢«å…¶ä»–åŒç±»å‹é¡¹ç›®æ‰€å–ä»£ã€‚ä¸€äº›é¡¹ç›®å¯èƒ½æœ‰ä¸€ä¸ªå°ä½†æŒç»­çš„å¢é•¿ç‡å’Œä¸€ä¸ªæŒç»­æ•°åå¹´çš„ç”Ÿæ€ç¤¾åŒºã€‚ç¤¾åŒºè§„æ¨¡å’Œé‡‡ç”¨ç‡æ˜¯å¼€æºé¡¹ç›®çš„æœ€ç»ˆå¯¿å‘½æŒ‡æ ‡ã€‚ä»¥ä¸‹æ˜¯ä½ å¯ä»¥æå‡ºçš„ä¸€äº›ç¤ºä¾‹é—®é¢˜ï¼š&lt;/p>
&lt;ul>
&lt;li>é¡¹ç›®ä¸­æœ‰å¤šå°‘æ´»è·ƒçš„å¼€å‘äººå‘˜ï¼ˆæäº¤è€…ï¼‰ï¼Œå¹³å‡æäº¤ç‡æ˜¯å¤šå°‘ï¼Ÿ&lt;/li>
&lt;li>ä¸Šä¸ªæœˆæœ‰å¤šå°‘ç”¨æˆ·è®¢é˜…äº†ç”¨æˆ·è®ºå›ä»¥åŠæå‡ºäº†å¤šå°‘é—®é¢˜ï¼Ÿ&lt;/li>
&lt;li>è½¯ä»¶çš„æœ€æ–°ç¨³å®šç‰ˆæœ¬å·²è¢«ä¸‹è½½å¤šå°‘æ¬¡ï¼Ÿ&lt;/li>
&lt;li>è¿˜æœ‰å“ªäº›é¡¹ç›®å’ŒæœåŠ¡&lt;a href="https://libraries.io/">ä¾èµ–&lt;/a>å¹¶ä½¿ç”¨è¿™ä¸ªé¡¹ç›®ï¼Ÿ&lt;/li>
&lt;li>æœ‰å¤šå°‘å•†ä¸šç»„ç»‡æ”¯æŒè¿™ä¸ªé¡¹ç›®ï¼Ÿ&lt;/li>
&lt;li>æ˜¯å¦æœ‰å•†ä¸šç»„ç»‡å›´ç»•å®ƒæä¾›äº§å“ã€æ”¯æŒå’ŒæœåŠ¡ï¼Ÿ&lt;/li>
&lt;li>è¿™ä¸ªé¡¹ç›®æœ‰å¤šå°‘ StackOverflow é—®é¢˜ï¼Ÿ&lt;/li>
&lt;li>æœ‰å¤šå°‘ä¹¦ç±ã€ä¼šè®®æ¼”è®²å’ŒèŒä½æè¿°æåˆ°äº†è¿™ä¸ªé¡¹ç›®ï¼Ÿ&lt;/li>
&lt;/ul>
&lt;p>æ‰§è¡Œè¿™äº›é—®é¢˜ä¼šç»™ä½ ä¸€ä¸ªæŒ‡ç¤ºï¼Œå³è¯¥é¡¹ç›®æ˜¯åœ¨å¢é•¿å¹¶æˆä¸ºå…¶é¢†åŸŸçš„äº‹å®ä¸Šçš„æ ‡å‡†ï¼Œè¿˜æ˜¯åœæ»ä¸å‰å¹¶å¯èƒ½è¢«ä¸‹ä¸€ä¸ªå¤§é¡¹ç›®æ‰€å–ä»£ã€‚&lt;/p>
&lt;p>é€šå¸¸ï¼Œå¼€æºä¸å¿«èŠ‚å¥çš„å¼€å‘å’Œåˆ›æ–°æœ‰å…³ã€‚åŒæ—¶ï¼Œå¼€æºä¹Ÿæ˜¯ä¸€ç§åˆ›å»ºå¹¿æ³›é‡‡ç”¨å’Œåˆ›å»ºéå®˜æ–¹æ ‡å‡†çš„æœºåˆ¶ã€‚è®¸å¤šå¼€æºé¡¹ç›®å·²ç»å˜æˆäº†æ ‡å‡†ï¼Œä¾‹å¦‚ç”¨äºå®¹å™¨ç¼–æ’çš„ Kubernetesã€ç”¨äºæµå¤„ç†çš„ Apache Kafkaã€ç”¨äº Web æœåŠ¡å™¨çš„ Apache httpd ç­‰ã€‚è½¯ä»¶ä¸­æœ€æ˜‚è´µçš„äº‹æƒ…ä¹‹ä¸€æ˜¯æ‰¾åˆ°å…·æœ‰åˆé€‚æŠ€èƒ½çš„äººã€‚ä½¿ç”¨é‡‡ç”¨ç‡é«˜çš„å¼€æºé¡¹ç›®å°†ä½¿ä½ æœ‰æ›´å¥½çš„æœºä¼šæ‰¾åˆ°æŠ€æœ¯å¨´ç†Ÿçš„äººï¼Œå¹¶è®©ä»–ä»¬èƒ½å¤Ÿæ›´é•¿æ—¶é—´åœ°é‡å¤ä½¿ç”¨ä»–ä»¬çš„æŠ€èƒ½ã€‚&lt;/p>
&lt;h3 id="æ€»ç»“">æ€»ç»“&lt;/h3>
&lt;p>æ ¹æ®å¼€æºé¡¹ç›®çš„å…³é”®ç¨‹åº¦ï¼Œæœ‰ä¸åŒçš„é£é™©å’Œè¯„ä¼°æ ‡å‡†ã€‚å¯¹äºæˆ˜ç•¥æ€§çš„ã€éš¾ä»¥æ›¿ä»£çš„é¡¹ç›®ï¼Œè¿™å°†æ˜¯ä½ çš„ IT åŸºç¡€è®¾æ–½çš„åŸºç¡€ï¼Œä½ éœ€è¦æ˜¯å·²ç»æˆä¸ºå…¶é¢†åŸŸäº‹å®ä¸Šçš„å¼€æºæ ‡å‡†çš„å®Œå–„é¡¹ç›®ã€‚åœ¨è¿™é‡Œç¡®å®šè°æ‹¥æœ‰è¯¥é¡¹ç›®çš„å•†æ ‡ä»¥åŠè°å°†æˆä¸ºä½ çš„é•¿æœŸåˆä½œä¼™ä¼´éå¸¸é‡è¦ã€‚é€šå¸¸ï¼Œè¿™äº›åˆä½œä¼™ä¼´æ˜¯é¡¹ç›®æ‰€å±è½¯ä»¶åŸºé‡‘ä¼šçš„æˆå‘˜ç»„ç»‡æˆ–æŒæœ‰é¡¹ç›® IP çš„å•ä¸ªå…¬å¸ã€‚å¯¹äºåè€…ï¼Œä½ å¯èƒ½éœ€è¦è€ƒè™‘é•¿æœŸé£é™©ï¼Œä¾‹å¦‚æ ¸å¿ƒå¼€å‘äººå‘˜åˆ†å‰é¡¹ç›®çš„æœºä¼šã€æä¾›é¡¹ç›®å³æœåŠ¡çš„è¶…å¤§è§„æ¨¡è€…ã€å…¬å¸æ”¶è´­ç­‰ã€‚&lt;/p>
&lt;p>å¯¹äºäº¤ä»˜é€Ÿåº¦æœ€é‡è¦çš„éæˆ˜ç•¥æ€§ã€æˆ˜æœ¯æ€§ã€çŸ­æœŸé¡¹ç›®ï¼Œä½ å¯ä»¥è®©ä½ çš„å¼€å‘äººå‘˜æ ¹æ®å¼€æ”¾æ€§ã€ç¤¾åŒºåä½œå’Œçƒ­åº¦ï¼ˆå¯¹äºæŸäº›å‰ç«¯æŠ€æœ¯å¾ˆé‡è¦ï¼‰æ¥æ¨åŠ¨é€‰æ‹©å’ŒæŒ‘é€‰é¡¹ç›®ã€‚åœ¨è¿™é‡Œï¼Œå®šæœŸçš„å®‰å…¨ä¿®å¤ã€å¼€å‘äººå‘˜æ”¯æŒå’Œè®¸å¯å…¼å®¹æ€§æ£€æŸ¥ç­‰ä¸­çŸ­æœŸé£é™©å¯èƒ½å°±è¶³å¤Ÿäº†ã€‚&lt;/p>
&lt;p>åœ¨ä»»ä½•ä¸€ç§æƒ…å†µä¸‹ï¼Œéƒ½æ²¡æœ‰é€‚åˆæ‰€æœ‰æƒ…å†µçš„å•ä¸€è¯„ä¼°æ ‡å‡†ã€‚ä½ å¿…é¡»åœ¨é•¿æœŸå•†ä¸šé£é™©ã€æŠ€æœ¯ç¨³å®šæ€§ä¸æœ€æ–°çƒ­åº¦ã€åˆ›æ–°å’Œå¼€å‘äººå‘˜æ»¡æ„åº¦ä¹‹é—´å–å¾—å¹³è¡¡ã€‚è¿™é‡Œçš„æ¡†æ¶å°†ä¸ºä½ æ¦‚æ‹¬éœ€è¦æ¢ç´¢çš„é¢†åŸŸå’Œéœ€è¦è€ƒè™‘çš„ä¸€äº›é£é™©ã€‚ç¥ä½ å¥½è¿ï¼&lt;/p></description></item><item><title>Kubernetes å¿…å¤‡å·¥å…·ï¼š2021</title><link>https://atbug.com/translation-kuberletes-essential-tools-2021/</link><pubDate>Thu, 15 Jul 2021 08:10:22 +0800</pubDate><guid>https://atbug.com/translation-kuberletes-essential-tools-2021/</guid><description>
&lt;p>æœ‰åˆ«äºå‰äº›å¤©çš„æ–‡ç«  - &lt;a href="https://mp.weixin.qq.com/s/uU2zmT5yyVcKZ5XmLSRqtg">å¸¸ç”¨çš„å‡ æ¬¾å·¥å…·è®© Kubernetes é›†ç¾¤ä¸Šçš„å·¥ä½œæ›´å®¹æ˜“&lt;/a> åé‡äºå·¥å…·ç±»æ¥æå‡å·¥ä½œæ•ˆç‡ï¼Œä»Šå¤©è¿™ç¯‡æ–‡ç« æ›´åŠ é€‚åˆç”¨æ¥åšé€‰å‹æ—¶çš„å‚è€ƒã€‚&lt;/p>
&lt;p>æ–‡æ¡£ç¿»è¯‘è‡ª &lt;a href="https://itnext.io/kubernetes-essential-tools-2021-def12e84c572">Kubernetes Essential Tools: 2021&lt;/a>ï¼Œç¯‡å¹…è¾ƒé•¿ï¼Œåšäº†éƒ¨åˆ†å¢åˆ ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="ä»‹ç»">ä»‹ç»&lt;/h2>
&lt;p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†å°è¯•æ€»ç»“æˆ‘æœ€å–œæ¬¢çš„ &lt;a href="https://kubernetes.io/">Kubernetes&lt;/a> å·¥å…·ï¼Œå¹¶ç‰¹åˆ«å¼ºè°ƒæœ€æ–°çš„å’Œé²œä¸ºäººçŸ¥ä½†æˆ‘è®¤ä¸ºä¼šéå¸¸æµè¡Œçš„å·¥å…·ã€‚&lt;/p>
&lt;p>è¿™åªæ˜¯æˆ‘æ ¹æ®æˆ‘çš„ç»éªŒå¾—å‡ºçš„ä¸ªäººæ¸…å•ï¼Œä½†ä¸ºäº†é¿å…åè§ï¼Œæˆ‘è¿˜å°†å°è¯•æåŠæ¯ç§å·¥å…·çš„æ›¿ä»£æ–¹æ¡ˆï¼Œä»¥ä¾¿ä½ å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€è¦è¿›è¡Œæ¯”è¾ƒå’Œå†³å®šã€‚æˆ‘å°†å°½å¯èƒ½ç¼©çŸ­è¿™ç¯‡æ–‡ç« å¹¶æä¾›é“¾æ¥ï¼Œä»¥ä¾¿ä½ å¯ä»¥è‡ªè¡Œæ¢ç´¢æ›´å¤šå†…å®¹ã€‚æˆ‘çš„ç›®æ ‡æ˜¯å›ç­”è¿™ä¸ªé—®é¢˜ï¼šâ€œæˆ‘å¦‚ä½•åœ¨ Kubernetes ä¸­åš Xï¼Ÿâ€ é€šè¿‡æè¿°ä¸åŒè½¯ä»¶å¼€å‘ä»»åŠ¡çš„å·¥å…·ã€‚&lt;/p>
&lt;h2 id="k3d">K3D&lt;/h2>
&lt;p>&lt;a href="https://k3d.io/">K3D&lt;/a> æ˜¯æˆ‘æœ€å–œæ¬¢çš„åœ¨ç¬”è®°æœ¬ç”µè„‘ä¸Šè¿è¡Œ Kubernetes (K8s) é›†ç¾¤çš„æ–¹å¼ã€‚å®ƒéå¸¸&lt;strong>è½»å·§ä¸”&lt;/strong>é€Ÿåº¦éå¸¸å¿«ã€‚å®ƒæ˜¯ä½¿ç”¨ &lt;strong>Docker&lt;/strong> å›´ç»• &lt;a href="https://k3s.io/">K3S&lt;/a> çš„åŒ…è£…å™¨ã€‚æ‰€ä»¥ï¼Œä½ åªéœ€è¦ Docker æ¥è¿è¡Œå®ƒå¹¶ä¸”èµ„æºä½¿ç”¨ç‡éå¸¸ä½ã€‚å”¯ä¸€çš„é—®é¢˜æ˜¯&lt;strong>å®ƒä¸å®Œå…¨ç¬¦åˆ K8s æ ‡å‡†&lt;/strong>ï¼Œä½†è¿™ä¸åº”è¯¥æ˜¯æœ¬åœ°å¼€å‘çš„é—®é¢˜ã€‚å¯¹äºæµ‹è¯•ç¯å¢ƒï¼Œä½ å¯ä»¥ä½¿ç”¨å…¶ä»–è§£å†³æ–¹æ¡ˆã€‚K3D æ¯” Kind å¿«ï¼Œä½† Kind å®Œå…¨å…¼å®¹ã€‚&lt;/p>
&lt;h3 id="å¤‡é€‰">å¤‡é€‰&lt;/h3>
&lt;ul>
&lt;li>&lt;a href="https://k3s.io/">&lt;strong>K3S&lt;/strong>&lt;/a>Â ç‰©è”ç½‘æˆ–è€…è¾¹ç¼˜è®¡ç®—&lt;/li>
&lt;li>&lt;a href="https://kind.sigs.k8s.io/">&lt;strong>Kind&lt;/strong>&lt;/a> å®Œå…¨å…¼å®¹ Kubernetes çš„å¤‡é€‰&lt;/li>
&lt;li>&lt;a href="https://microk8s.io/">&lt;strong>MicroK8s&lt;/strong>&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://minikube.sigs.k8s.io/docs/">&lt;strong>MiniKube&lt;/strong>&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="krew">Krew&lt;/h2>
&lt;p>&lt;a href="https://krew.sigs.k8s.io/">Krew&lt;/a> æ˜¯ç®¡ç†çš„å¿…å¤‡å·¥å…· &lt;strong>Kubectl æ’ä»¶&lt;/strong>ï¼Œè¿™æ˜¯ä¸€ä¸ªå¿…é¡»æœ‰ä»»ä½• K8S ç”¨æˆ·ã€‚æˆ‘ä¸ä¼šè¯¦ç»†ä»‹ç»è¶…è¿‡ 145 ä¸ªå¯ç”¨&lt;a href="https://krew.sigs.k8s.io/plugins/">æ’ä»¶&lt;/a>ï¼Œä½†è‡³å°‘å®‰è£… &lt;a href="https://github.com/ahmetb/kubectx">&lt;strong>kubens&lt;/strong>&lt;/a> å’Œ &lt;a href="https://github.com/ahmetb/kubectx">&lt;strong>kubectx&lt;/strong>&lt;/a>ã€‚&lt;/p>
&lt;h2 id="lens">Lens&lt;/h2>
&lt;p>&lt;a href="https://k8slens.dev/">Lens&lt;/a> æ˜¯é€‚ç”¨äº SREã€Ops å’Œå¼€å‘äººå‘˜çš„ K8s &lt;strong>IDE&lt;/strong>ã€‚å®ƒé€‚ç”¨äºä»»ä½• Kubernetes å‘è¡Œç‰ˆï¼šæœ¬åœ°æˆ–äº‘ç«¯ã€‚å®ƒå¿«é€Ÿã€æ˜“äºä½¿ç”¨å¹¶æä¾›å®æ—¶å¯è§‚å¯Ÿæ€§ã€‚ä½¿ç”¨ Lens å¯ä»¥éå¸¸è½»æ¾åœ°ç®¡ç†å¤šä¸ªé›†ç¾¤ã€‚å¦‚æœä½ æ˜¯é›†ç¾¤æ“ä½œå‘˜ï¼Œè¿™æ˜¯å¿…é¡»çš„ã€‚&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/07/15/16263041512885.jpg" alt="">&lt;/p>
&lt;h3 id="å¤‡é€‰-1">å¤‡é€‰&lt;/h3>
&lt;ul>
&lt;li>å¯¹äºé‚£äº›å–œæ¬¢è½»é‡çº§ç»ˆç«¯æ›¿ä»£å“çš„äººæ¥è¯´ï¼Œ&lt;a href="https://k9scli.io/">K9s&lt;/a> æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©ã€‚K9s ä¼šæŒç»­è§‚å¯Ÿ Kubernetes çš„å˜åŒ–ï¼Œå¹¶æä¾›åç»­å‘½ä»¤æ¥ä¸ä½ è§‚å¯Ÿåˆ°çš„èµ„æºè¿›è¡Œäº¤äº’ã€‚&lt;/li>
&lt;/ul>
&lt;h2 id="helm">Helm&lt;/h2>
&lt;p>&lt;a href="https://helm.sh/">Helm&lt;/a> ä¸éœ€è¦ä»‹ç»ï¼Œå®ƒæ˜¯ Kubernetes æœ€è‘—åçš„åŒ…ç®¡ç†å™¨ã€‚ä½ åº”è¯¥åœ¨ K8s ä¸­ä½¿ç”¨åŒ…ç®¡ç†å™¨ï¼Œå°±åƒåœ¨ç¼–ç¨‹è¯­è¨€ä¸­ä½¿ç”¨å®ƒä¸€æ ·ã€‚Helm å…è®¸ä½ å°†åº”ç”¨ç¨‹åºæ‰“åŒ…åˆ° &lt;a href="https://artifacthub.io/">Charts&lt;/a> ä¸­ï¼Œå°†å¤æ‚çš„åº”ç”¨ç¨‹åºæŠ½è±¡ä¸ºæ˜“äºå®šä¹‰ã€å®‰è£…å’Œæ›´æ–°çš„å¯é‡ç”¨ç®€å•ç»„ä»¶ã€‚&lt;/p>
&lt;p>å®ƒè¿˜æä¾›äº†å¼ºå¤§çš„æ¨¡æ¿å¼•æ“ã€‚Helm å¾ˆæˆç†Ÿï¼Œæœ‰å¾ˆå¤šé¢„å®šä¹‰çš„ chartsï¼Œå¾ˆå¥½çš„æ”¯æŒï¼Œè€Œä¸”å¾ˆå®¹æ˜“ä½¿ç”¨ã€‚&lt;/p>
&lt;h3 id="å¤‡é€‰-2">å¤‡é€‰&lt;/h3>
&lt;ul>
&lt;li>&lt;a href="https://kustomize.io/">&lt;strong>Kustomize&lt;/strong>&lt;/a> æ˜¯ helm çš„ä¸€ä¸ªæ›´æ–°å’Œä¼Ÿå¤§çš„æ›¿ä»£å“ï¼Œå®ƒä¸ä½¿ç”¨æ¨¡æ¿å¼•æ“ï¼Œè€Œæ˜¯ä¸€ä¸ªè¦†ç›–å¼•æ“ï¼Œåœ¨å…¶ä¸­ä½ æœ‰åŸºæœ¬çš„å®šä¹‰å’Œè¦†ç›–åœ¨å®ƒä»¬ä¹‹ä¸Šã€‚&lt;/li>
&lt;/ul>
&lt;h2 id="argocd">ArgoCD&lt;/h2>
&lt;p>æˆ‘ç›¸ä¿¡ &lt;a href="https://www.gitops.tech/">GitOps&lt;/a> æ˜¯è¿‡å»åå¹´ä¸­æœ€å¥½çš„æƒ³æ³•ä¹‹ä¸€ã€‚åœ¨è½¯ä»¶å¼€å‘ä¸­ï¼Œæˆ‘ä»¬åº”è¯¥ä½¿ç”¨å•ä¸€çš„äº‹å®æ¥æºæ¥è·Ÿè¸ªæ„å»ºè½¯ä»¶æ‰€éœ€çš„æ‰€æœ‰ç§»åŠ¨éƒ¨åˆ†ï¼Œè€Œ &lt;strong>Git&lt;/strong> æ˜¯åšåˆ°è¿™ä¸€ç‚¹çš„å®Œç¾å·¥å…·ã€‚æˆ‘ä»¬çš„æƒ³æ³•æ˜¯æ‹¥æœ‰ä¸€ä¸ª Git å­˜å‚¨åº“ï¼Œå…¶ä¸­åŒ…å«åº”ç”¨ç¨‹åºä»£ç ä»¥åŠè¡¨ç¤ºæ‰€éœ€ç”Ÿäº§ç¯å¢ƒçŠ¶æ€çš„åŸºç¡€è®¾æ–½ (&lt;a href="https://en.wikipedia.org/wiki/Infrastructure_as_Code">IaC&lt;/a>) çš„å£°æ˜æ€§æè¿°ï¼›ä»¥åŠä½¿æ‰€éœ€ç¯å¢ƒä¸å­˜å‚¨åº“ä¸­æè¿°çš„çŠ¶æ€ç›¸åŒ¹é…çš„è‡ªåŠ¨åŒ–è¿‡ç¨‹ã€‚&lt;/p>
&lt;blockquote>
&lt;p>GitOps: versioned CI/CD on top of declarative infrastructure. Stop scripting and start shipping.&lt;/p>
&lt;p>â€” Kelsey Hightower&lt;/p>
&lt;/blockquote>
&lt;p>å°½ç®¡ä½¿ç”¨ &lt;a href="https://www.terraform.io/">Terraform&lt;/a> æˆ–ç±»ä¼¼å·¥å…·ï¼Œä½ å¯ä»¥å®ç°åŸºç¡€è®¾æ–½å³ä»£ç ï¼ˆ&lt;a href="https://en.wikipedia.org/wiki/Infrastructure_as_code">IaC&lt;/a>ï¼‰ï¼Œä½†è¿™è¿˜ä¸è¶³ä»¥å°†ä½ åœ¨ Git ä¸­çš„æ‰€éœ€çŠ¶æ€ä¸ç”Ÿäº§åŒæ­¥ã€‚æˆ‘ä»¬éœ€è¦ä¸€ç§æ–¹æ³•æ¥æŒç»­ç›‘æ§ç¯å¢ƒå¹¶ç¡®ä¿æ²¡æœ‰é…ç½®æ¼‚ç§»ã€‚ä½¿ç”¨ Terraformï¼Œä½ å°†ä¸å¾—ä¸ç¼–å†™è„šæœ¬æ¥è¿è¡Œ&lt;code>terraform apply&lt;/code>å¹¶æ£€æŸ¥çŠ¶æ€æ˜¯å¦ä¸ Terraform çŠ¶æ€åŒ¹é…ï¼Œä½†è¿™æ—¢ä¹å‘³åˆéš¾ä»¥ç»´æŠ¤ã€‚&lt;/p>
&lt;p>Kubernetes ä»å¤´å¼€å§‹â€‹â€‹æ„å»ºæ§åˆ¶å¾ªç¯çš„æ€æƒ³ï¼Œè¿™æ„å‘³ç€ Kubernetes ä¸€ç›´åœ¨ç›‘è§†é›†ç¾¤çš„çŠ¶æ€ä»¥ç¡®ä¿å®ƒä¸æ‰€éœ€çš„çŠ¶æ€åŒ¹é…ï¼Œä¾‹å¦‚ï¼Œè¿è¡Œçš„å‰¯æœ¬æ•°é‡ä¸æ‰€éœ€çš„æ•°é‡ç›¸åŒ¹é…å¤åˆ¶å“ã€‚GitOps çš„æƒ³æ³•æ˜¯å°†å…¶æ‰©å±•åˆ°åº”ç”¨ç¨‹åºï¼Œå› æ­¤ä½ å¯ä»¥å°†ä½ çš„æœåŠ¡å®šä¹‰ä¸ºä»£ç ï¼Œä¾‹å¦‚ï¼Œé€šè¿‡å®šä¹‰ Helm Chartsï¼Œå¹¶ä½¿ç”¨åˆ©ç”¨ K8s åŠŸèƒ½çš„å·¥å…·æ¥ç›‘æ§ä½ çš„åº”ç”¨ç¨‹åºçš„çŠ¶æ€å¹¶ç›¸åº”åœ°è°ƒæ•´é›†ç¾¤ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæ›´æ–°ä½ çš„ä»£ç å­˜å‚¨åº“æˆ–Helm Chartï¼Œç”Ÿäº§é›†ç¾¤ä¹Ÿä¼šæ›´æ–°ã€‚è¿™æ˜¯çœŸæ­£çš„&lt;a href="https://en.wikipedia.org/wiki/Continuous_deployment">æŒç»­éƒ¨ç½²&lt;/a>ã€‚æ ¸å¿ƒåŸåˆ™æ˜¯åº”ç”¨ç¨‹åºéƒ¨ç½²å’Œç”Ÿå‘½å‘¨æœŸç®¡ç†åº”è¯¥è‡ªåŠ¨åŒ–ã€å¯å®¡è®¡ä¸”æ˜“äºç†è§£ã€‚&lt;/p>
&lt;p>å¯¹æˆ‘æ¥è¯´ï¼Œè¿™ä¸ªæƒ³æ³•æ˜¯é©å‘½æ€§çš„ï¼Œå¦‚æœåšå¾—å¥½ï¼Œå°†ä½¿ç»„ç»‡èƒ½å¤Ÿæ›´å¤šåœ°å…³æ³¨åŠŸèƒ½ï¼Œè€Œä¸æ˜¯ç¼–å†™è‡ªåŠ¨åŒ–è„šæœ¬ã€‚è¿™ä¸ªæ¦‚å¿µå¯ä»¥æ‰©å±•åˆ°è½¯ä»¶å¼€å‘çš„å…¶ä»–é¢†åŸŸï¼Œä¾‹å¦‚ï¼Œä½ å¯ä»¥å°†æ–‡æ¡£å­˜å‚¨åœ¨ä»£ç ä¸­ä»¥è·Ÿè¸ªæ›´æ”¹çš„å†å²å¹¶ç¡®ä¿æ–‡æ¡£æ˜¯æœ€æ–°çš„ï¼›æˆ–ä½¿ç”¨&lt;a href="https://github.com/jamesmh/architecture_decision_record">ADR&lt;/a>è·Ÿè¸ªæ¶æ„å†³ç­–ã€‚&lt;/p>
&lt;p>åœ¨æˆ‘çœ‹æ¥ï¼Œåœ¨æœ€å¥½çš„ GitOps å·¥å…· &lt;strong>Kubernetes&lt;/strong> æ˜¯ &lt;a href="https://argoproj.github.io/argo-cd/">ArgoCD&lt;/a>ã€‚ä½ å¯ä»¥åœ¨&lt;a href="https://argoproj.github.io/argo-cd/core_concepts/">æ­¤å¤„&lt;/a>é˜…è¯»æ›´å¤šä¿¡æ¯ã€‚ArgoCD æ˜¯ &lt;strong>Argo&lt;/strong> ç”Ÿæ€ç³»ç»Ÿçš„ä¸€éƒ¨åˆ†ï¼Œå…¶ä¸­åŒ…æ‹¬ä¸€äº›å…¶ä»–å¾ˆæ£’çš„å·¥å…·ï¼Œå…¶ä¸­ä¸€äº›æˆ‘ä»¬å°†åœ¨ç¨åè®¨è®ºã€‚&lt;/p>
&lt;p>ä½¿ç”¨ &lt;strong>ArgoCD&lt;/strong>ï¼Œä½ å¯ä»¥åœ¨ä»£ç å­˜å‚¨åº“ä¸­æ‹¥æœ‰æ¯ä¸ªç¯å¢ƒï¼Œä½ å¯ä»¥åœ¨å…¶ä¸­å®šä¹‰è¯¥ç¯å¢ƒçš„æ‰€æœ‰é…ç½®ã€‚Argo CD åœ¨æŒ‡å®šçš„ç›®æ ‡ç¯å¢ƒä¸­è‡ªåŠ¨éƒ¨ç½²æ‰€éœ€çš„åº”ç”¨ç¨‹åºçŠ¶æ€ã€‚&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/07/15/16263046811430.jpg" alt="">&lt;/p>
&lt;p>ArgoCD è¢«å®ç°ä¸ºä¸€ä¸ª kubernetes æ§åˆ¶å™¨ï¼Œå®ƒæŒç»­ç›‘æ§æ­£åœ¨è¿è¡Œçš„åº”ç”¨ç¨‹åºå¹¶å°†å½“å‰çš„å®æ—¶çŠ¶æ€ä¸æ‰€éœ€çš„ç›®æ ‡çŠ¶æ€ï¼ˆå¦‚ Git å­˜å‚¨åº“ä¸­æŒ‡å®šçš„ï¼‰è¿›è¡Œæ¯”è¾ƒã€‚ArgoCD æŠ¥å‘Šå¹¶å¯è§†åŒ–å·®å¼‚ï¼Œå¹¶ä¸”å¯ä»¥è‡ªåŠ¨æˆ–æ‰‹åŠ¨å°†å®æ—¶çŠ¶æ€åŒæ­¥å›æ‰€éœ€çš„ç›®æ ‡çŠ¶æ€ã€‚&lt;/p>
&lt;h3 id="å¤‡é€‰-3">å¤‡é€‰&lt;/h3>
&lt;ul>
&lt;li>&lt;a href="https://fluxcd.io/">Flux&lt;/a> åˆšåˆšå‘å¸ƒäº†ä¸€ä¸ªå…·æœ‰è®¸å¤šæ”¹è¿›çš„æ–°ç‰ˆæœ¬ã€‚å®ƒæä¾›äº†éå¸¸ç›¸ä¼¼çš„åŠŸèƒ½ã€‚&lt;/li>
&lt;/ul>
&lt;h2 id="argo-å·¥ä½œæµworkflowså’Œ-argo-äº‹ä»¶events">Argo å·¥ä½œæµï¼ˆWorkflowsï¼‰å’Œ Argo äº‹ä»¶ï¼ˆEventsï¼‰&lt;/h2>
&lt;p>åœ¨ Kubernetes ä¸­ï¼Œä½ å¯èƒ½è¿˜éœ€è¦è¿è¡Œæ‰¹å¤„ç†ä½œä¸šæˆ–å¤æ‚çš„å·¥ä½œæµã€‚è¿™å¯èƒ½æ˜¯ä½ çš„æ•°æ®ç®¡é“ã€å¼‚æ­¥æµç¨‹ç”šè‡³ CI/CD çš„ä¸€éƒ¨åˆ†ã€‚æœ€é‡è¦çš„æ˜¯ï¼Œä½ ç”šè‡³å¯èƒ½éœ€è¦è¿è¡Œå¯¹æŸäº›äº‹ä»¶åšå‡ºååº”çš„é©±åŠ¨å¾®æœåŠ¡ï¼Œä¾‹å¦‚æ–‡ä»¶ä¸Šä¼ æˆ–æ¶ˆæ¯å‘é€åˆ°é˜Ÿåˆ—ã€‚å¯¹äºæ‰€æœ‰è¿™äº›ï¼Œæˆ‘ä»¬æœ‰ &lt;a href="https://argoproj.github.io/argo-workflows/">Argo Workflows&lt;/a> å’Œ &lt;a href="https://argoproj.github.io/argo-events/">Argo Events&lt;/a>ã€‚&lt;/p>
&lt;p>å°½ç®¡å®ƒä»¬æ˜¯ç‹¬ç«‹çš„é¡¹ç›®ï¼Œä½†å®ƒä»¬å¾€å¾€ä¼šè¢«éƒ¨ç½²åœ¨ä¸€èµ·ã€‚&lt;/p>
&lt;p>Argo Workflows æ˜¯ä¸€ä¸ªç±»ä¼¼äº &lt;a href="https://airflow.apache.org/">Apache Airflow&lt;/a> çš„ç¼–æ’å¼•æ“ï¼Œä½†å®ƒæ˜¯ Kubernetes åŸç”Ÿçš„ã€‚å®ƒä½¿ç”¨è‡ªå®šä¹‰ CRD æ¥å®šä¹‰å¤æ‚çš„å·¥ä½œæµç¨‹ï¼Œä½¿ç”¨ YAML çš„æ­¥éª¤æˆ– &lt;strong>DAG&lt;/strong>ï¼Œè¿™åœ¨ K8s ä¸­æ„Ÿè§‰æ›´è‡ªç„¶ã€‚å®ƒæœ‰ä¸€ä¸ªæ¼‚äº®çš„ UIã€é‡è¯•æœºåˆ¶ã€åŸºäº cron çš„ä½œä¸šã€è¾“å…¥å’Œè¾“å‡ºè·Ÿè¸ªç­‰ç­‰ã€‚ä½ å¯ä»¥ä½¿ç”¨å®ƒæ¥ç¼–æ’æ•°æ®ç®¡é“ã€æ‰¹å¤„ç†ä½œä¸šç­‰ç­‰ã€‚&lt;/p>
&lt;p>æœ‰æ—¶ï¼Œä½ å¯èƒ½å¸Œæœ›å°†ç®¡é“ä¸å¼‚æ­¥æœåŠ¡ï¼ˆå¦‚ &lt;strong>Kafka&lt;/strong> ç­‰æµå¼•æ“ã€é˜Ÿåˆ—ã€webhooks æˆ–æ·±åº¦å­˜å‚¨æœåŠ¡ï¼‰é›†æˆã€‚ä¾‹å¦‚ï¼Œä½ å¯èƒ½æƒ³è¦å¯¹ä¸Šä¼ åˆ° S3 çš„æ–‡ä»¶ç­‰äº‹ä»¶åšå‡ºååº”ã€‚ä¸ºæ­¤ï¼Œä½ å°†ä½¿ç”¨ &lt;a href="https://argoproj.github.io/argo-events/">Argo äº‹ä»¶ï¼ˆEventï¼‰&lt;/a>ã€‚&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/07/15/16263049343226.jpg" alt="">&lt;/p>
&lt;p>è¿™ä¸¤ä¸ªå·¥å…·ç»„åˆä¸ºä½ çš„æ‰€æœ‰ç®¡é“éœ€æ±‚æä¾›äº†ä¸€ä¸ªç®€å•è€Œå¼ºå¤§çš„è§£å†³æ–¹æ¡ˆï¼ŒåŒ…æ‹¬ CI/CD ç®¡é“ï¼Œå®ƒå…è®¸ä½ åœ¨ Kubernetes ä¸­æœ¬åœ°è¿è¡Œ CI/CD ç®¡é“ã€‚&lt;/p>
&lt;h3 id="å¤‡é€‰-4">å¤‡é€‰&lt;/h3>
&lt;ul>
&lt;li>å¯¹äº ML ç®¡é“ï¼Œä½ å¯ä»¥ä½¿ç”¨ &lt;a href="https://www.kubeflow.org/">Kubeflow&lt;/a>ã€‚&lt;/li>
&lt;li>å¯¹äº CI/CD ç®¡é“ï¼Œä½ å¯ä»¥ä½¿ç”¨ &lt;a href="https://tekton.dev/docs/pipelines/pipelines/">Tekton&lt;/a>ã€‚&lt;/li>
&lt;/ul>
&lt;h2 id="kaniko">Kaniko&lt;/h2>
&lt;p>æˆ‘ä»¬åˆšåˆšçœ‹åˆ°äº†å¦‚ä½•ä½¿ç”¨ Argo Workflows è¿è¡Œ Kubernetes åŸç”Ÿ &lt;strong>CI/CD&lt;/strong> ç®¡é“ã€‚ä¸€ä¸ªå¸¸è§çš„ä»»åŠ¡æ˜¯æ„å»º &lt;strong>Docker é•œåƒ&lt;/strong>ï¼Œè¿™åœ¨ Kubernetes ä¸­é€šå¸¸æ˜¯ä¹å‘³çš„ï¼Œå› ä¸ºæ„å»ºè¿‡ç¨‹å®é™…ä¸Šæ˜¯åœ¨å®¹å™¨æœ¬èº«ä¸Šè¿è¡Œçš„ï¼Œä½ éœ€è¦ä½¿ç”¨å˜é€šæ–¹æ³•æ¥ä½¿ç”¨ä¸»æœºçš„ Docker å¼•æ“ã€‚&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/07/15/16263050297533.jpg" alt="">&lt;/p>
&lt;p>åº•çº¿æ˜¯ä½ ä¸åº”è¯¥ä½¿ç”¨ &lt;strong>Docker&lt;/strong> æ¥æ„å»ºä½ çš„é•œåƒï¼šæ”¹ç”¨ &lt;a href="https://github.com/GoogleContainerTools/kaniko">&lt;strong>Kanico&lt;/strong>&lt;/a>ã€‚Kaniko ä¸ä¾èµ–äº Docker å®ˆæŠ¤è¿›ç¨‹ï¼Œè€Œæ˜¯å®Œå…¨åœ¨ç”¨æˆ·ç©ºé—´ä¸­æ‰§è¡Œ Dockerfile ä¸­çš„æ¯ä¸ªå‘½ä»¤ã€‚è¿™ä½¿å¾—åœ¨æ— æ³•è½»æ¾æˆ–å®‰å…¨åœ°è¿è¡Œ Docker å®ˆæŠ¤ç¨‹åºçš„ç¯å¢ƒä¸­æ„å»ºå®¹å™¨é•œåƒæˆä¸ºå¯èƒ½ï¼Œä¾‹å¦‚æ ‡å‡†çš„ Kubernetes é›†ç¾¤ã€‚è¿™æ¶ˆé™¤äº†åœ¨ K8s é›†ç¾¤ä¸­æ„å»ºé•œåƒçš„æ‰€æœ‰é—®é¢˜ã€‚&lt;/p>
&lt;h2 id="istio">Istio&lt;/h2>
&lt;p>&lt;a href="https://istio.io/">Istio&lt;/a> æ˜¯å¸‚åœºä¸Šæœ€è‘—åçš„&lt;a href="https://en.wikipedia.org/wiki/Service_mesh">æœåŠ¡ç½‘æ ¼&lt;/a>ï¼Œå®ƒæ˜¯å¼€æºçš„å¹¶ä¸”éå¸¸å—æ¬¢è¿ã€‚æˆ‘ä¸ä¼šè¯¦ç»†ä»‹ç»ä»€ä¹ˆæ˜¯æœåŠ¡ç½‘æ ¼ï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ä¸ªå·¨å¤§çš„è¯é¢˜ï¼Œä½†æ˜¯å¦‚æœä½ æ­£åœ¨æ„å»º&lt;a href="https://microservices.io/">å¾®æœåŠ¡&lt;/a>ï¼Œå¹¶ä¸”å¯èƒ½åº”è¯¥è¿™æ ·åšï¼Œé‚£ä¹ˆä½ å°†éœ€è¦ä¸€ä¸ªæœåŠ¡ç½‘æ ¼æ¥ç®¡ç†é€šä¿¡ã€å¯è§‚å¯Ÿæ€§ã€é”™è¯¯å¤„ç†ã€å®‰å…¨æ€§ã€‚ä¸å…¶ç”¨é‡å¤çš„é€»è¾‘æ±¡æŸ“æ¯ä¸ªå¾®æœåŠ¡çš„ä»£ç ï¼ˆè¯‘è€…ï¼šSDK ä¾µå…¥ï¼‰ï¼Œä¸å¦‚åˆ©ç”¨æœåŠ¡ç½‘æ ¼ä¸ºä½ åšè¿™ä»¶äº‹ã€‚&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/07/15/16263052962147.jpg" alt="">&lt;/p>
&lt;p>ç®€è€Œè¨€ä¹‹ï¼ŒæœåŠ¡ç½‘æ ¼æ˜¯ä¸€ä¸ªä¸“ç”¨çš„åŸºç¡€è®¾æ–½å±‚ï¼Œä½ å¯ä»¥å°†å…¶æ·»åŠ åˆ°ä½ çš„åº”ç”¨ç¨‹åºä¸­ã€‚å®ƒå…è®¸ä½ é€æ˜åœ°æ·»åŠ å¯è§‚å¯Ÿæ€§ã€æµé‡ç®¡ç†å’Œå®‰å…¨æ€§ç­‰åŠŸèƒ½ï¼Œè€Œæ— éœ€å°†å®ƒä»¬æ·»åŠ åˆ°ä½ è‡ªå·±çš„ä»£ç ä¸­ã€‚&lt;/p>
&lt;p>å¦‚æœ &lt;strong>Istio&lt;/strong> ç”¨äºè¿è¡Œå¾®æœåŠ¡ï¼Œå°½ç®¡ä½ å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹è¿è¡Œ Istio å¹¶ä½¿ç”¨å¾®æœåŠ¡ï¼Œä½† Kubernetes å·²è¢«ä¸€æ¬¡åˆä¸€æ¬¡åœ°è¯æ˜æ˜¯è¿è¡Œå®ƒä»¬çš„æœ€ä½³å¹³å°ã€‚&lt;strong>Istio&lt;/strong> è¿˜å¯ä»¥å°†ä½ çš„ K8s é›†ç¾¤æ‰©å±•åˆ°å…¶ä»–æœåŠ¡ï¼Œä¾‹å¦‚ VMï¼Œå…è®¸ä½ æ‹¥æœ‰åœ¨è¿ç§»åˆ° Kubernetes æ—¶éå¸¸æœ‰ç”¨çš„æ··åˆç¯å¢ƒã€‚&lt;/p>
&lt;h3 id="å¤‡é€‰-5">å¤‡é€‰&lt;/h3>
&lt;ul>
&lt;li>&lt;a href="https://linkerd.io/">&lt;strong>Linkerd&lt;/strong>&lt;/a> æ˜¯ä¸€ç§æ›´è½»å·§ä¸”å¯èƒ½æ›´å¿«çš„æœåŠ¡ç½‘æ ¼ã€‚Linkerd ä»å¤´å¼€å§‹â€‹â€‹ä¸ºå®‰å…¨æ€§è€Œæ„å»ºï¼ŒåŒ…æ‹¬&lt;a href="https://linkerd.io/2.10/features/automatic-mtls/">é»˜è®¤ mTLS&lt;/a>ã€&lt;a href="https://github.com/linkerd/linkerd2-proxy">ä½¿ç”¨ Rust æ„å»ºçš„æ•°æ®å¹³é¢&lt;/a>ã€&lt;a href="https://github.com/linkerd/linkerd2-proxy">å†…å­˜å®‰å…¨è¯­è¨€&lt;/a>å’Œ&lt;a href="https://github.com/linkerd/linkerd2/blob/main/SECURITY_AUDIT.pdf">å®šæœŸå®‰å…¨å®¡è®¡&lt;/a>ç­‰åŠŸèƒ½&lt;/li>
&lt;li>&lt;a href="https://www.consul.io/">&lt;strong>Consul&lt;/strong>&lt;/a> æ˜¯ä¸ºä»»ä½•è¿è¡Œæ—¶å’Œäº‘æä¾›å•†æ„å»ºçš„æœåŠ¡ç½‘æ ¼ï¼Œå› æ­¤å®ƒéå¸¸é€‚åˆè·¨ K8s å’Œäº‘æä¾›å•†çš„æ··åˆéƒ¨ç½²ã€‚å¦‚æœä¸æ˜¯æ‰€æœ‰çš„å·¥ä½œè´Ÿè½½éƒ½åœ¨ Kubernetes ä¸Šè¿è¡Œï¼Œè¿™æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚&lt;/li>
&lt;/ul>
&lt;h2 id="argo-rollouts">Argo Rollouts&lt;/h2>
&lt;p>æˆ‘ä»¬å·²ç»æåˆ°ï¼Œä½ å¯ä»¥ä½¿ç”¨ Kubernetes ä½¿ç”¨ Argo Workflows æˆ–ä½¿ç”¨ Kanico æ„å»ºå›¾åƒçš„ç±»ä¼¼å·¥å…·æ¥è¿è¡Œ CI/CD ç®¡é“ã€‚ä¸‹ä¸€ä¸ªåˆä¹é€»è¾‘çš„æ­¥éª¤æ˜¯ç»§ç»­å¹¶è¿›è¡ŒæŒç»­éƒ¨ç½²ã€‚ç”±äºæ¶‰åŠé«˜é£é™©ï¼Œè¿™åœ¨çœŸå®åœºæ™¯ä¸­æ˜¯æå…·æŒ‘æˆ˜æ€§çš„ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆå¤§å¤šæ•°å…¬å¸åªåšæŒç»­äº¤ä»˜ï¼Œè¿™æ„å‘³ç€ä»–ä»¬å·²ç»å®ç°äº†è‡ªåŠ¨åŒ–ï¼Œä½†ä»–ä»¬ä»ç„¶éœ€è¦æ‰‹åŠ¨æ‰¹å‡†å’ŒéªŒè¯ï¼Œè¿™ä¸ªæ‰‹åŠ¨æ­¥éª¤æ˜¯è¿™æ˜¯å› ä¸ºå›¢é˜Ÿ&lt;strong>ä¸èƒ½å®Œå…¨ä¿¡ä»»ä»–ä»¬çš„è‡ªåŠ¨åŒ–&lt;/strong>ã€‚&lt;/p>
&lt;p>é‚£ä¹ˆï¼Œä½ å¦‚ä½•å»ºç«‹è¿™ç§ä¿¡ä»»ä»¥æ‘†è„±æ‰€æœ‰è„šæœ¬å¹¶å®Œå…¨è‡ªåŠ¨åŒ–ä»æºä»£ç åˆ°ç”Ÿäº§çš„æ‰€æœ‰å†…å®¹ï¼Ÿç­”æ¡ˆæ˜¯ï¼šå¯è§‚å¯Ÿæ€§ã€‚ä½ éœ€è¦å°†èµ„æºæ›´å¤šåœ°é›†ä¸­åœ¨æŒ‡æ ‡ä¸Šï¼Œå¹¶æ”¶é›†å‡†ç¡®è¡¨ç¤ºåº”ç”¨ç¨‹åºçŠ¶æ€æ‰€éœ€çš„æ‰€æœ‰æ•°æ®ã€‚ç›®æ ‡æ˜¯ä½¿ç”¨ä¸€ç»„æŒ‡æ ‡æ¥å»ºç«‹è¿™ç§ä¿¡ä»»ã€‚å¦‚æœä½ åœ¨ &lt;a href="https://prometheus.io/">Prometheus&lt;/a> ä¸­æ‹¥æœ‰æ‰€æœ‰æ•°æ®ï¼Œé‚£ä¹ˆä½ å¯ä»¥è‡ªåŠ¨éƒ¨ç½²ï¼Œå› ä¸ºä½ å¯ä»¥æ ¹æ®è¿™äº›æŒ‡æ ‡è‡ªåŠ¨é€æ­¥æ¨å‡ºåº”ç”¨ç¨‹åºã€‚&lt;/p>
&lt;p>ç®€è€Œè¨€ä¹‹ï¼Œä½ éœ€è¦æ¯” K8s å¼€ç®±å³ç”¨çš„&lt;a href="https://www.educative.io/blog/kubernetes-deployments-strategies">&lt;strong>æ»šåŠ¨æ›´æ–°&lt;/strong>&lt;/a>æ›´é«˜çº§çš„éƒ¨ç½²æŠ€æœ¯ã€‚æˆ‘ä»¬éœ€è¦ä½¿ç”¨&lt;a href="https://semaphoreci.com/blog/what-is-canary-deployment">é‡‘ä¸é›€éƒ¨ç½²&lt;/a>è¿›è¡Œæ¸è¿›å¼äº¤ä»˜ã€‚ç›®æ ‡æ˜¯é€æ­¥å°†æµé‡è·¯ç”±åˆ°åº”ç”¨ç¨‹åºçš„æ–°ç‰ˆæœ¬ï¼Œç­‰å¾…æ”¶é›†æŒ‡æ ‡ï¼Œåˆ†æå®ƒä»¬å¹¶å°†å®ƒä»¬ä¸é¢„å®šä¹‰çš„è§„åˆ™è¿›è¡ŒåŒ¹é…ã€‚å¦‚æœä¸€åˆ‡æ­£å¸¸ï¼Œæˆ‘ä»¬å¢åŠ æµé‡ï¼›å¦‚æœæœ‰ä»»ä½•é—®é¢˜ï¼Œæˆ‘ä»¬ä¼šå›æ»šéƒ¨ç½²ã€‚
è¦åœ¨ Kubernetes ä¸­æ‰§è¡Œæ­¤æ“ä½œï¼Œä½ å¯ä»¥ä½¿ç”¨æä¾› Canary å‘å¸ƒç­‰çš„ Argo Rollouts ã€‚&lt;/p>
&lt;blockquote>
&lt;p>&lt;a href="https://kubernetes.io/docs/concepts/architecture/controller/">Argo Rollouts&lt;/a> æ˜¯ä¸€ä¸ª &lt;a href="https://kubernetes.io/docs/concepts/architecture/controller/">Kubernetes æ§åˆ¶å™¨&lt;/a>å’Œä¸€ç»„ &lt;a href="https://kubernetes.io/docs/concepts/extend-kubernetes/api-extension/custom-resources/">CRD&lt;/a>ï¼Œå¯æä¾›é«˜çº§éƒ¨ç½²åŠŸèƒ½ï¼Œä¾‹å¦‚è“ç»¿ã€é‡‘ä¸é›€ã€é‡‘ä¸é›€åˆ†æã€å®éªŒå’Œå‘ Kubernetes çš„æ¸è¿›å¼äº¤ä»˜åŠŸèƒ½ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>å°½ç®¡åƒ &lt;a href="https://istio.io/">Istio&lt;/a> è¿™æ ·çš„æœåŠ¡ç½‘æ ¼æä¾› Canary å‘å¸ƒï¼Œä½† Argo Rollouts ä½¿è¿™ä¸ªè¿‡ç¨‹å˜å¾—æ›´åŠ å®¹æ˜“å¹¶ä¸”ä»¥å¼€å‘äººå‘˜ä¸ºä¸­å¿ƒï¼Œå› ä¸ºå®ƒæ˜¯ä¸“é—¨ä¸ºæ­¤ç›®çš„è€Œæ„å»ºçš„ã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒArgo Rollouts å¯ä»¥ä¸ä»»ä½•æœåŠ¡ç½‘æ ¼é›†æˆã€‚&lt;/p>
&lt;p>Argo Rollouts åŠŸèƒ½ï¼š&lt;/p>
&lt;ul>
&lt;li>è“ç»¿æ›´æ–°ç­–ç•¥&lt;/li>
&lt;li>é‡‘ä¸é›€æ›´æ–°ç­–ç•¥&lt;/li>
&lt;li>ç»†ç²’åº¦ã€åŠ æƒçš„æµé‡è½¬ç§»&lt;/li>
&lt;li>è‡ªåŠ¨å›æ»šå’Œä¿ƒé”€æˆ–äººå·¥åˆ¤æ–­&lt;/li>
&lt;li>å¯å®šåˆ¶çš„æŒ‡æ ‡æŸ¥è¯¢å’Œä¸šåŠ¡ KPI åˆ†æ&lt;/li>
&lt;li>å…¥å£æ§åˆ¶å™¨é›†æˆï¼šNGINXã€ALB&lt;/li>
&lt;li>æœåŠ¡ç½‘æ ¼é›†æˆï¼šIstioã€Linkerdã€SMI&lt;/li>
&lt;li>æŒ‡æ ‡æä¾›è€…é›†æˆï¼šPrometheusã€Wavefrontã€Kayentaã€Webã€Kubernetes Jobs&lt;/li>
&lt;/ul>
&lt;h3 id="å¤‡é€‰-6">å¤‡é€‰&lt;/h3>
&lt;ul>
&lt;li>&lt;a href="https://istio.io/">Istio&lt;/a> ä½œä¸º Canary ç‰ˆæœ¬çš„æœåŠ¡ç½‘æ ¼ã€‚Istio ä¸ä»…ä»…æ˜¯ä¸€ä¸ªæ¸è¿›å¼äº¤ä»˜å·¥å…·ï¼Œå®ƒè¿˜æ˜¯ä¸€ä¸ªå®Œæ•´çš„æœåŠ¡ç½‘æ ¼ã€‚Istio ä¸ä¼šè‡ªåŠ¨éƒ¨ç½²ï¼ŒArgo Rollouts å¯ä»¥ä¸ Istio é›†æˆæ¥å®ç°è¿™ä¸€ç‚¹ã€‚&lt;/li>
&lt;li>&lt;a href="https://flagger.app/">Flagger&lt;/a> ä¸ Argo Rollouts éå¸¸ç›¸ä¼¼ï¼Œå¹¶ä¸”ä¸ &lt;a href="https://fluxcd.io/">Flux&lt;/a> å¾ˆå¥½åœ°é›†æˆåœ¨ä¸€èµ·ï¼Œå› æ­¤å¦‚æœä½ ä½¿ç”¨ Fluxï¼Œè¯·è€ƒè™‘ä½¿ç”¨ Flaggerã€‚&lt;/li>
&lt;li>&lt;a href="https://spinnaker.io/">Spinnaker&lt;/a> æ˜¯ Kubernetes çš„ç¬¬ä¸€ä¸ªæŒç»­äº¤ä»˜å·¥å…·ï¼Œå®ƒå…·æœ‰è®¸å¤šåŠŸèƒ½ï¼Œä½†ä½¿ç”¨å’Œè®¾ç½®èµ·æ¥æœ‰ç‚¹å¤æ‚ã€‚&lt;/li>
&lt;/ul>
&lt;h2 id="crossplane">Crossplane&lt;/h2>
&lt;p>&lt;a href="https://crossplane.io/">&lt;strong>Crossplane&lt;/strong>&lt;/a> æ˜¯æˆ‘æœ€å–œæ¬¢çš„ K8s å·¥å…·ï¼Œæˆ‘å¯¹è¿™ä¸ªé¡¹ç›®æ„Ÿåˆ°éå¸¸å…´å¥‹ï¼Œå› ä¸ºå®ƒç»™ Kubernetes å¸¦æ¥äº†ä¸€ä¸ªå…³é”®çš„ç¼ºå¤±éƒ¨åˆ†ï¼šåƒç®¡ç† K8s èµ„æºä¸€æ ·ç®¡ç†ç¬¬ä¸‰æ–¹æœåŠ¡ã€‚è¿™æ„å‘³ç€ï¼Œä½ å¯ä»¥ä½¿ç”¨ &lt;strong>YAML&lt;/strong> ä¸­å®šä¹‰çš„ K8s èµ„æºæ¥é…ç½®äº‘æä¾›å•†æ•°æ®åº“ï¼Œä¾‹å¦‚ &lt;a href="https://aws.amazon.com/rds/">&lt;strong>AWS RDS&lt;/strong>&lt;/a> æˆ– &lt;strong>GCP Cloud SQL&lt;/strong>ï¼Œå°±åƒä½ åœ¨ K8s ä¸­é…ç½®æ•°æ®åº“ä¸€æ ·ã€‚&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/07/15/16263059248680.jpg" alt="">&lt;/p>
&lt;p>ä½¿ç”¨ Crossplaneï¼Œæ— éœ€ä½¿ç”¨ä¸åŒçš„å·¥å…·å’Œæ–¹æ³•åˆ†ç¦»åŸºç¡€è®¾æ–½å’Œä»£ç ã€‚&lt;strong>ä½ å¯ä»¥ä½¿ç”¨ K8s èµ„æºå®šä¹‰ä¸€åˆ‡&lt;/strong>ã€‚è¿™æ ·ï¼Œä½ å°±æ— éœ€å­¦ä¹  &lt;a href="https://www.terraform.io/">Terraform&lt;/a> ç­‰æ–°å·¥å…·å¹¶å°†å®ƒä»¬åˆ†å¼€ä¿å­˜ã€‚&lt;/p>
&lt;blockquote>
&lt;p>Crossplane æ˜¯ä¸€ä¸ªå¼€æº Kubernetes é™„åŠ ç»„ä»¶ï¼Œå®ƒä½¿å¹³å°å›¢é˜Ÿèƒ½å¤Ÿç»„è£…æ¥è‡ªå¤šä¸ªä¾›åº”å•†çš„åŸºç¡€è®¾æ–½ï¼Œå¹¶å…¬å¼€æ›´é«˜çº§åˆ«çš„è‡ªåŠ© API ä¾›åº”ç”¨ç¨‹åºå›¢é˜Ÿä½¿ç”¨ï¼Œè€Œæ— éœ€ç¼–å†™ä»»ä½•ä»£ç ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>&lt;strong>Crossplane&lt;/strong> æ‰©å±•äº†ä½ çš„ Kubernetes é›†ç¾¤ï¼Œä¸ºä½ æä¾›é€‚ç”¨äºä»»ä½•åŸºç¡€æ¶æ„æˆ–æ‰˜ç®¡äº‘æœåŠ¡çš„ &lt;strong>CRD&lt;/strong>ã€‚æ­¤å¤–ï¼Œå®ƒå…è®¸ä½ å®Œå…¨å®ç°æŒç»­éƒ¨ç½²ï¼Œå› ä¸ºä¸ Terraform ç­‰å…¶ä»–å·¥å…·ç›¸åï¼ŒCrossplane ä½¿ç”¨ç°æœ‰çš„ K8s åŠŸèƒ½ï¼ˆä¾‹å¦‚æ§åˆ¶å¾ªç¯ï¼‰æ¥æŒç»­è§‚å¯Ÿä½ çš„é›†ç¾¤å¹¶è‡ªåŠ¨æ£€æµ‹ä»»ä½•å¯¹å…¶èµ·ä½œç”¨çš„é…ç½®æ¼‚ç§»ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ å®šä¹‰äº†ä¸€ä¸ªæ‰˜ç®¡æ•°æ®åº“å®ä¾‹å¹¶ä¸”æœ‰äººæ‰‹åŠ¨æ›´æ”¹å®ƒï¼ŒCrossplane å°†è‡ªåŠ¨æ£€æµ‹é—®é¢˜å¹¶å°†å…¶è®¾ç½®å›ä»¥å‰çš„å€¼ã€‚è¿™å°†å®æ–½åŸºç¡€è®¾æ–½å³ä»£ç å’Œ GitOps åŸåˆ™ã€‚Crossplane ä¸ ArgoCD é…åˆä½¿ç”¨æ•ˆæœå¾ˆå¥½ï¼Œå®ƒå¯ä»¥æŸ¥çœ‹æºä»£ç å¹¶ç¡®ä¿ä½ çš„ä»£ç å­˜å‚¨åº“æ˜¯å”¯ä¸€çš„çœŸå®æ¥æºï¼Œå¹¶ä¸”ä»£ç ä¸­çš„ä»»ä½•æ›´æ”¹éƒ½ä¼šä¼ æ’­åˆ°é›†ç¾¤ä»¥åŠå¤–éƒ¨äº‘æœåŠ¡ã€‚å¦‚æœæ²¡æœ‰ Crossplaneï¼Œä½ åªèƒ½åœ¨ K8s æœåŠ¡ä¸­å®ç° GitOpsï¼Œè€Œä¸èƒ½åœ¨ä¸ä½¿ç”¨å•ç‹¬è¿›ç¨‹çš„æƒ…å†µä¸‹åœ¨äº‘æœåŠ¡ä¸­å®ç°ï¼Œç°åœ¨ä½ å¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ï¼Œè¿™å¤ªæ£’äº†ã€‚&lt;/p>
&lt;h3 id="å¤‡é€‰-7">å¤‡é€‰&lt;/h3>
&lt;ul>
&lt;li>&lt;a href="https://www.terraform.io/">Terraform&lt;/a> æ˜¯æœ€è‘—åçš„ IaC å·¥å…·ï¼Œä½†å®ƒä¸æ˜¯ K8s åŸç”Ÿçš„ï¼Œéœ€è¦æ–°æŠ€èƒ½å¹¶ä¸”ä¸ä¼šè‡ªåŠ¨ç›‘è§†é…ç½®æ¼‚ç§»ã€‚&lt;/li>
&lt;li>&lt;a href="https://www.pulumi.com/">Pulumi&lt;/a> æ˜¯ä¸€ç§ Terraform æ›¿ä»£å“ï¼Œå®ƒä½¿ç”¨å¼€å‘äººå‘˜å¯ä»¥æµ‹è¯•å’Œç†è§£çš„ç¼–ç¨‹è¯­è¨€å·¥ä½œã€‚&lt;/li>
&lt;/ul>
&lt;h2 id="knative">Knative&lt;/h2>
&lt;p>å¦‚æœä½ åœ¨äº‘ä¸­å¼€å‘åº”ç”¨ç¨‹åºï¼Œä½ å¯èƒ½å·²ç»ä½¿ç”¨äº†ä¸€äº›æ— æœåŠ¡å™¨æŠ€æœ¯ï¼Œä¾‹å¦‚ &lt;a href="https://aws.amazon.com/lambda/">AWS Lambda &lt;/a>ï¼Œå®ƒæ˜¯ä¸€ç§ç§°ä¸º &lt;a href="https://en.wikipedia.org/wiki/Function_as_a_service">FaaS&lt;/a> çš„äº‹ä»¶é©±åŠ¨èŒƒä¾‹ã€‚&lt;/p>
&lt;p>æˆ‘è¿‡å»å·²ç»è®¨è®ºè¿‡ &lt;a href="https://en.wikipedia.org/wiki/Serverless_computing">Serverless&lt;/a>ï¼Œå› æ­¤è¯·æŸ¥çœ‹æˆ‘&lt;a href="https://itnext.io/scaling-my-app-serverless-vs-kubernetes-cdb8adf446e1">ä¹‹å‰çš„æ–‡ç« &lt;/a>ä»¥äº†è§£æ›´å¤šä¿¡æ¯ã€‚Serverless çš„é—®é¢˜åœ¨äºå®ƒä¸äº‘æä¾›å•†ç´§å¯†è€¦åˆï¼Œå› ä¸ºæä¾›å•†å¯ä»¥ä¸ºäº‹ä»¶é©±åŠ¨çš„åº”ç”¨ç¨‹åºåˆ›å»ºä¸€ä¸ªå¾ˆå¥½çš„ç”Ÿæ€ç³»ç»Ÿã€‚&lt;/p>
&lt;p>å¯¹äº Kubernetesï¼Œå¦‚æœä½ å¸Œæœ›å°†å‡½æ•°ä½œä¸ºä»£ç è¿è¡Œå¹¶ä½¿ç”¨äº‹ä»¶é©±åŠ¨æ¶æ„ï¼Œé‚£ä¹ˆä½ æœ€å¥½çš„é€‰æ‹©æ˜¯ &lt;a href="https://itnext.io/scaling-my-app-serverless-vs-kubernetes-cdb8adf446e1">Knative&lt;/a>ã€‚Knative æ—¨åœ¨åœ¨ Kubernetes ä¸Šè¿è¡Œå‡½æ•°ï¼Œåœ¨ Pod ä¹‹ä¸Šåˆ›å»ºä¸€ä¸ªæŠ½è±¡ã€‚&lt;/p>
&lt;p>ç‰¹ç‚¹ï¼š&lt;/p>
&lt;ul>
&lt;li>é’ˆå¯¹å¸¸è§åº”ç”¨ç¨‹åºç”¨ä¾‹çš„å…·æœ‰æ›´é«˜çº§åˆ«æŠ½è±¡çš„é‡ç‚¹ APIã€‚&lt;/li>
&lt;li>åœ¨å‡ ç§’é’Ÿå†…å»ºç«‹ä¸€ä¸ªå¯æ‰©å±•ã€å®‰å…¨ã€æ— çŠ¶æ€çš„æœåŠ¡ã€‚&lt;/li>
&lt;li>æ¾æ•£è€¦åˆçš„åŠŸèƒ½è®©ä½ å¯ä»¥ä½¿ç”¨æ‰€éœ€çš„éƒ¨åˆ†ã€‚&lt;/li>
&lt;li>å¯æ’æ‹”ç»„ä»¶è®©ä½ å¯ä»¥ä½¿ç”¨è‡ªå·±çš„æ—¥å¿—è®°å½•å’Œç›‘æ§ã€ç½‘ç»œå’ŒæœåŠ¡ç½‘æ ¼ã€‚&lt;/li>
&lt;li>Knative æ˜¯å¯ç§»æ¤çš„ï¼šåœ¨ Kubernetes è¿è¡Œçš„ä»»ä½•åœ°æ–¹è¿è¡Œå®ƒï¼Œä¸ç”¨æ‹…å¿ƒä¾›åº”å•†é”å®šã€‚&lt;/li>
&lt;li>æƒ¯ç”¨çš„å¼€å‘è€…ä½“éªŒï¼Œæ”¯æŒ GitOpsã€DockerOpsã€ManualOps ç­‰å¸¸ç”¨æ¨¡å¼ã€‚&lt;/li>
&lt;li>Knative å¯ä»¥ä¸å¸¸è§çš„å·¥å…·å’Œæ¡†æ¶ä¸€èµ·ä½¿ç”¨ï¼Œä¾‹å¦‚ Djangoã€Ruby on Railsã€Spring ç­‰ç­‰ã€‚&lt;/li>
&lt;/ul>
&lt;h3 id="å¤‡é€‰-8">å¤‡é€‰&lt;/h3>
&lt;ul>
&lt;li>&lt;a href="https://argoproj.github.io/argo-events/">Argo Events&lt;/a> ä¸º Kubernetes æä¾›äº†ä¸€ä¸ªäº‹ä»¶é©±åŠ¨çš„å·¥ä½œæµå¼•æ“ï¼Œå¯ä»¥ä¸ AWS Lambda ç­‰äº‘å¼•æ“é›†æˆã€‚å®ƒä¸æ˜¯ FaaSï¼Œè€Œæ˜¯ä¸º Kubernetes æä¾›äº†ä¸€ä¸ªäº‹ä»¶é©±åŠ¨çš„æ¶æ„ã€‚&lt;/li>
&lt;li>&lt;a href="https://www.openfaas.com/">OpenFaas&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="kyverno">Kyverno&lt;/h2>
&lt;p>Kubernetes æä¾›äº†æå¤§çš„çµæ´»æ€§ï¼Œä»¥èµ‹äºˆæ•æ·çš„è‡ªæ²»å›¢é˜ŸæƒåŠ›ï¼Œä½†èƒ½åŠ›è¶Šå¤§ï¼Œè´£ä»»è¶Šå¤§ã€‚å¿…é¡»æœ‰ä¸€ç»„&lt;strong>æœ€ä½³å®è·µå’Œè§„åˆ™&lt;/strong>ï¼Œä»¥ç¡®ä¿ä»¥ä¸€è‡´ä¸”æœ‰å‡èšåŠ›çš„æ–¹å¼æ¥éƒ¨ç½²å’Œç®¡ç†ç¬¦åˆå…¬å¸æ”¿ç­–å’Œå®‰å…¨è¦æ±‚çš„å·¥ä½œè´Ÿè½½ã€‚&lt;/p>
&lt;p>æœ‰å‡ ç§å·¥å…·å¯ä»¥å®ç°è¿™ä¸€ç‚¹ï¼Œä½†æ²¡æœ‰ä¸€ä¸ªæ˜¯ Kubernetes åŸç”Ÿçš„â€¦â€¦ ç›´åˆ°ç°åœ¨ã€‚&lt;a href="https://kyverno.io/">Kyverno&lt;/a> æ˜¯ä¸º Kubernetes è®¾è®¡çš„ç­–ç•¥å¼•æ“ï¼Œç­–ç•¥ä½œä¸º Kubernetes èµ„æºè¿›è¡Œç®¡ç†ï¼Œå¹¶ä¸”ä¸éœ€è¦æ–°çš„è¯­è¨€æ¥ç¼–å†™ç­–ç•¥ã€‚Kyverno ç­–ç•¥å¯ä»¥éªŒè¯ã€æ”¹å˜å’Œç”Ÿæˆ Kubernetes èµ„æºã€‚&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/07/15/16263062593080.jpg" alt="">&lt;/p>
&lt;p>ä½ å¯ä»¥åº”ç”¨æœ‰å…³æœ€ä½³å®è·µã€ç½‘ç»œæˆ–å®‰å…¨æ€§çš„ä»»ä½•ç±»å‹çš„ç­–ç•¥ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥å¼ºåˆ¶æ‰€æœ‰æœåŠ¡éƒ½æœ‰æ ‡ç­¾æˆ–æ‰€æœ‰å®¹å™¨éƒ½ä»¥é root èº«ä»½è¿è¡Œã€‚ä½ å¯ä»¥åœ¨&lt;a href="https://github.com/kyverno/policies/">æ­¤å¤„&lt;/a>æŸ¥çœ‹ä¸€äº›æ”¿ç­–ç¤ºä¾‹ã€‚ç­–ç•¥å¯ä»¥åº”ç”¨äºæ•´ä¸ªé›†ç¾¤æˆ–ç»™å®šçš„å‘½åç©ºé—´ã€‚ä½ è¿˜å¯ä»¥é€‰æ‹©æ˜¯åªæƒ³å®¡æ ¸ç­–ç•¥è¿˜æ˜¯å¼ºåˆ¶æ‰§è¡Œå®ƒä»¬ä»¥é˜»æ­¢ç”¨æˆ·éƒ¨ç½²èµ„æºã€‚&lt;/p>
&lt;h3 id="å¤‡é€‰-9">å¤‡é€‰&lt;/h3>
&lt;ul>
&lt;li>&lt;a href="https://www.openpolicyagent.org/">Open Policy Agent&lt;/a> æ˜¯è‘—åçš„äº‘åŸç”ŸåŸºäºç­–ç•¥çš„æ§åˆ¶å¼•æ“ã€‚å®ƒä½¿ç”¨è‡ªå·±çš„å£°æ˜æ€§è¯­è¨€ï¼Œå¹¶ä¸”å¯ä»¥åœ¨è®¸å¤šç¯å¢ƒä¸­è¿è¡Œï¼Œè€Œä¸ä»…ä»…æ˜¯åœ¨ Kubernetes ä¸Šã€‚å®ƒæ¯” &lt;a href="https://kyverno.io/">Kyverno&lt;/a> æ›´éš¾ç®¡ç†ï¼Œä½†æ›´å¼ºå¤§ã€‚&lt;/li>
&lt;/ul>
&lt;h2 id="kubevela">Kubevela&lt;/h2>
&lt;p>Kubernetes çš„ä¸€ä¸ªé—®é¢˜æ˜¯å¼€å‘äººå‘˜éœ€è¦éå¸¸äº†è§£å’Œç†è§£å¹³å°å’Œé›†ç¾¤é…ç½®ã€‚è®¸å¤šäººä¼šäº‰è¾©è¯´ &lt;strong>K8s çš„æŠ½è±¡çº§åˆ«å¤ªä½&lt;/strong>ï¼Œè¿™ä¼šç»™åªæƒ³ä¸“æ³¨äºç¼–å†™å’Œäº¤ä»˜åº”ç”¨ç¨‹åºçš„å¼€å‘äººå‘˜å¸¦æ¥å¾ˆå¤šæ‘©æ“¦ã€‚&lt;/p>
&lt;p>åœ¨å¼€æ”¾å¼åº”ç”¨ç¨‹åºæ¨¡å‹ï¼ˆ&lt;a href="https://oam.dev/">OAM&lt;/a>ï¼‰çš„è®¾ç«‹æ˜¯ä¸ºäº†å…‹æœè¿™ä¸ªé—®é¢˜ã€‚è¿™ä¸ªæƒ³æ³•æ˜¯å›´ç»•åº”ç”¨ç¨‹åºåˆ›å»ºæ›´é«˜çº§åˆ«çš„æŠ½è±¡ï¼Œå®ƒç‹¬ç«‹äºåº•å±‚è¿è¡Œæ—¶ã€‚ä½ å¯ä»¥åœ¨æ­¤å¤„é˜…è¯»è§„èŒƒã€‚&lt;/p>
&lt;blockquote>
&lt;p>ä¸“æ³¨äºåº”ç”¨ç¨‹åºè€Œä¸æ˜¯å®¹å™¨æˆ–åè°ƒå™¨ï¼Œå¼€æ”¾åº”ç”¨ç¨‹åºæ¨¡å‹ [OAM] å¸¦æ¥äº†æ¨¡å—åŒ–ã€å¯æ‰©å±•å’Œå¯ç§»æ¤çš„è®¾è®¡ï¼Œç”¨äºä½¿ç”¨æ›´é«˜çº§åˆ«ä½†ä¸€è‡´çš„ API å¯¹åº”ç”¨ç¨‹åºéƒ¨ç½²è¿›è¡Œå»ºæ¨¡ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>&lt;a href="https://kubevela.io/">Kubevela&lt;/a> æ˜¯ OAM æ¨¡å‹çš„ä¸€ä¸ªå®ç°ã€‚KubeVela ä¸è¿è¡Œæ—¶æ— å…³ï¼Œå¯æœ¬åœ°æ‰©å±•ï¼Œä½†æœ€é‡è¦çš„æ˜¯ï¼Œä»¥åº”ç”¨ç¨‹åºä¸ºä¸­å¿ƒ ã€‚åœ¨ Kubevela ä¸­ï¼Œåº”ç”¨ç¨‹åºæ˜¯ä½œä¸º Kubernetes èµ„æºå®ç°çš„ä¸€ç­‰å…¬æ°‘ã€‚**é›†ç¾¤è¿è¥å•†ï¼ˆPlatform Teamï¼‰å’Œå¼€å‘è€…ï¼ˆApplication Teamï¼‰**æ˜¯æœ‰åŒºåˆ«çš„ã€‚é›†ç¾¤æ“ä½œå‘˜é€šè¿‡å®šä¹‰ç»„ä»¶ï¼ˆç»„æˆåº”ç”¨ç¨‹åºçš„å¯éƒ¨ç½²/å¯é…ç½®å®ä½“ï¼Œå¦‚ Helm Chartï¼‰å’Œç‰¹å¾æ¥ç®¡ç†é›†ç¾¤å’Œä¸åŒçš„ç¯å¢ƒã€‚å¼€å‘äººå‘˜é€šè¿‡ç»„è£…ç»„ä»¶å’Œç‰¹å¾æ¥å®šä¹‰åº”ç”¨ç¨‹åºã€‚&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/07/15/16263064905339.jpg" alt="">&lt;/p>
&lt;p>KubeVela æ˜¯ä¸€ä¸ª&lt;a href="https://cncf.io/">äº‘åŸç”Ÿè®¡ç®—åŸºé‡‘ä¼š&lt;/a>æ²™ç®±é¡¹ç›®ï¼Œè™½ç„¶å®ƒä»å¤„äºèµ·æ­¥é˜¶æ®µï¼Œä½†å®ƒå¯ä»¥åœ¨ä¸ä¹…çš„å°†æ¥æ”¹å˜æˆ‘ä»¬ä½¿ç”¨ Kubernetes çš„æ–¹å¼ï¼Œè®©å¼€å‘äººå‘˜æ— éœ€æˆä¸º Kubernetes ä¸“å®¶å³å¯ä¸“æ³¨äºåº”ç”¨ç¨‹åºã€‚ä½†æ˜¯ï¼Œæˆ‘ç¡®å®å¯¹ &lt;strong>OAM&lt;/strong> åœ¨ç°å®ä¸–ç•Œä¸­çš„é€‚ç”¨æ€§æœ‰ä¸€äº›æ‹…å¿§ï¼Œå› ä¸ºç³»ç»Ÿåº”ç”¨ç¨‹åºã€ML æˆ–å¤§æ•°æ®è¿‡ç¨‹ç­‰ä¸€äº›æœåŠ¡åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šä¾èµ–äºä½çº§ç»†èŠ‚ï¼Œè¿™äº›ç»†èŠ‚å¯èƒ½å¾ˆéš¾èå…¥ OAM æ¨¡å‹ä¸­ã€‚&lt;/p>
&lt;h3 id="å¤‡é€‰-10">å¤‡é€‰&lt;/h3>
&lt;ul>
&lt;li>&lt;a href="https://www.shipa.io/getting-started/">Shipa&lt;/a> éµå¾ªç±»ä¼¼çš„æ–¹æ³•ï¼Œä½¿å¹³å°å’Œå¼€å‘å›¢é˜Ÿèƒ½å¤ŸååŒå·¥ä½œï¼Œè½»æ¾å°†åº”ç”¨ç¨‹åºéƒ¨ç½²åˆ° Kubernetesã€‚&lt;/li>
&lt;/ul>
&lt;h2 id="snyk">Snyk&lt;/h2>
&lt;p>ä»»ä½•å¼€å‘è¿‡ç¨‹ä¸­ä¸€ä¸ªéå¸¸é‡è¦çš„æ–¹é¢æ˜¯å®‰å…¨æ€§ï¼Œè¿™ä¸€ç›´æ˜¯ Kubernetes çš„ä¸€ä¸ªé—®é¢˜ï¼Œå› ä¸ºæƒ³è¦è¿ç§»åˆ° Kubernetes çš„å…¬å¸æ— æ³•è½»æ¾å®ç°å…¶å½“å‰çš„å®‰å…¨åŸåˆ™ã€‚&lt;/p>
&lt;p>&lt;a href="https://snyk.io/">Snyk&lt;/a> è¯•å›¾é€šè¿‡æä¾›ä¸€ä¸ªå¯ä»¥è½»æ¾ä¸ Kubernetes é›†æˆçš„å®‰å…¨æ¡†æ¶æ¥ç¼“è§£è¿™ç§æƒ…å†µã€‚å®ƒå¯ä»¥æ£€æµ‹å®¹å™¨æ˜ åƒã€ä½ çš„ä»£ç ã€å¼€æºé¡¹ç›®ç­‰ä¸­çš„æ¼æ´ã€‚&lt;/p>
&lt;h3 id="å¤‡é€‰-11">å¤‡é€‰&lt;/h3>
&lt;ul>
&lt;li>&lt;a href="https://falco.org/">Falco&lt;/a> æ˜¯ Kubernetes çš„è¿è¡Œæ—¶å®‰å…¨çº¿ç¨‹æ£€æµ‹å·¥å…·ã€‚&lt;/li>
&lt;/ul>
&lt;h2 id="velero">Velero&lt;/h2>
&lt;p>å¦‚æœä½ åœ¨ Kubernetes ä¸­è¿è¡Œå·¥ä½œè´Ÿè½½å¹¶ä½¿ç”¨å·æ¥å­˜å‚¨æ•°æ®ï¼Œåˆ™éœ€è¦åˆ›å»ºå’Œç®¡ç†å¤‡ä»½ã€‚&lt;a href="https://velero.io/">Velero&lt;/a> æä¾›ç®€å•çš„å¤‡ä»½/æ¢å¤è¿‡ç¨‹ã€ç¾éš¾æ¢å¤æœºåˆ¶å’Œæ•°æ®è¿ç§»ã€‚&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/07/15/16263066379840.jpg" alt="">&lt;/p>
&lt;p>ä¸å…¶ä»–ç›´æ¥è®¿é—® Kubernetes etcd æ•°æ®åº“æ‰§è¡Œå¤‡ä»½å’Œæ¢å¤çš„å·¥å…·ä¸åŒï¼ŒVelero ä½¿ç”¨ Kubernetes API æ¥æ•è·é›†ç¾¤èµ„æºçš„çŠ¶æ€å¹¶åœ¨å¿…è¦æ—¶æ¢å¤å®ƒä»¬ã€‚æ­¤å¤–ï¼ŒVelero ä½¿ä½ èƒ½å¤Ÿåœ¨é…ç½®çš„åŒæ—¶å¤‡ä»½å’Œæ¢å¤ä½ çš„åº”ç”¨ç¨‹åºæŒä¹…æ•°æ®ã€‚&lt;/p>
&lt;h2 id="schema-hero">Schema Hero&lt;/h2>
&lt;p>è½¯ä»¶å¼€å‘ä¸­çš„å¦ä¸€ä¸ªå¸¸è§è¿‡ç¨‹æ˜¯åœ¨ä½¿ç”¨å…³ç³»æ•°æ®åº“æ—¶ç®¡ç†&lt;strong>æ¨¡å¼æ¼”å˜&lt;/strong>ã€‚&lt;/p>
&lt;p>&lt;a href="https://schemahero.io/">SchemaHero&lt;/a> æ˜¯ä¸€ç§å¼€æºæ•°æ®åº“æ¶æ„è¿ç§»å·¥å…·ï¼Œå¯å°†æ¶æ„å®šä¹‰è½¬æ¢ä¸ºå¯åº”ç”¨äºä»»ä½•ç¯å¢ƒçš„è¿ç§»è„šæœ¬ã€‚å®ƒä½¿ç”¨ Kubernetes å£°æ˜æ€§æ¥ç®¡ç†æ•°æ®åº“æ¨¡å¼è¿ç§»ã€‚ä½ åªéœ€æŒ‡å®šæ‰€éœ€çš„çŠ¶æ€ï¼Œç„¶å &lt;strong>SchemaHero&lt;/strong> ç®¡ç†å…¶ä½™çš„ã€‚&lt;/p>
&lt;h3 id="å¤‡é€‰-12">å¤‡é€‰&lt;/h3>
&lt;ul>
&lt;li>&lt;a href="https://www.liquibase.org/">LiquidBase&lt;/a> æ˜¯æœ€è‘—åçš„æ›¿ä»£å“ã€‚å®ƒæ›´éš¾ä½¿ç”¨ï¼Œä¸”ä¸æ˜¯ Kubernetes åŸç”Ÿçš„ï¼Œä½†å®ƒå…·æœ‰æ›´å¤šåŠŸèƒ½ã€‚&lt;/li>
&lt;/ul>
&lt;h2 id="bitnami-sealed-secrets">Bitnami Sealed Secrets&lt;/h2>
&lt;p>æˆ‘ä»¬å·²ç»ä»‹ç»äº†è®¸å¤š &lt;strong>GitOps&lt;/strong> å·¥å…·ï¼Œä¾‹å¦‚ &lt;a href="https://argoproj.github.io/argo-cd/">ArgoCD&lt;/a>ã€‚æˆ‘ä»¬çš„ç›®æ ‡æ˜¯å°†æ‰€æœ‰å†…å®¹ä¿ç•™åœ¨ Git ä¸­ï¼Œå¹¶ä½¿ç”¨ Kubernetes å£°æ˜æ€§æ¥ä¿æŒç¯å¢ƒåŒæ­¥ã€‚æˆ‘ä»¬åˆšåˆšçœ‹åˆ°æˆ‘ä»¬å¦‚ä½•ï¼ˆå¹¶ä¸”åº”è¯¥ï¼‰åœ¨ Git ä¸­ä¿ç•™çœŸå®æ¥æºï¼Œå¹¶è®©è‡ªåŠ¨åŒ–æµç¨‹å¤„ç†é…ç½®æ›´æ”¹ã€‚&lt;/p>
&lt;p>åœ¨ Git ä¸­é€šå¸¸å¾ˆéš¾ä¿ç•™çš„ä¸€ä»¶äº‹æ˜¯è¯¸å¦‚æ•°æ®åº“å¯†ç æˆ– API å¯†é’¥ä¹‹ç±»çš„ç§˜å¯†ï¼Œè¿™æ˜¯å› ä¸ºä½ æ°¸è¿œä¸åº”è¯¥åœ¨ä»£ç å­˜å‚¨åº“ä¸­å­˜å‚¨ç§˜å¯†ã€‚ä¸€ç§å¸¸è§çš„è§£å†³æ–¹æ¡ˆæ˜¯ä½¿ç”¨å¤–éƒ¨ä¿ç®¡åº“ï¼ˆä¾‹å¦‚ &lt;a href="https://aws.amazon.com/secrets-manager/">AWS Secret Manager&lt;/a> æˆ– &lt;a href="https://www.vaultproject.io/">HashiCorp Vault&lt;/a>ï¼‰æ¥å­˜å‚¨æœºå¯†ï¼Œä½†è¿™ä¼šäº§ç”Ÿå¾ˆå¤šæ‘©æ“¦ï¼Œå› ä¸ºä½ éœ€è¦æœ‰ä¸€ä¸ªå•ç‹¬çš„æµç¨‹æ¥å¤„ç†æœºå¯†ã€‚ç†æƒ³æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¸Œæœ›æœ‰ä¸€ç§æ–¹æ³•å¯ä»¥åƒä»»ä½•å…¶ä»–èµ„æºä¸€æ ·å®‰å…¨åœ°åœ¨ Git ä¸­å­˜å‚¨æœºå¯†ã€‚&lt;/p>
&lt;p>&lt;a href="https://github.com/bitnami-labs/sealed-secrets">&lt;strong>Sealed Secrets&lt;/strong>&lt;/a> æ—¨åœ¨å…‹æœè¿™ä¸ªé—®é¢˜ï¼Œå…è®¸ä½ ä½¿ç”¨å¼ºåŠ å¯†å°†æ•æ„Ÿæ•°æ®å­˜å‚¨åœ¨ Git ä¸­ã€‚Bitnami &lt;strong>Sealed Secrets&lt;/strong> æœ¬åœ°é›†æˆåœ¨ Kubernetes ä¸­ï¼Œå…è®¸ä½ ä»…é€šè¿‡åœ¨ Kubernetes ä¸­è¿è¡Œçš„ Kubernetes æ§åˆ¶å™¨è€Œä¸æ˜¯å…¶ä»–ä»»ä½•äººæ¥è§£å¯†å¯†é’¥ã€‚æ§åˆ¶å™¨å°†è§£å¯†æ•°æ®å¹¶åˆ›å»ºå®‰å…¨å­˜å‚¨çš„åŸç”Ÿ K8s æœºå¯†ã€‚è¿™ä½¿æˆ‘ä»¬èƒ½å¤Ÿå°†æ‰€æœ‰å†…å®¹ä½œä¸ºä»£ç å­˜å‚¨åœ¨æˆ‘ä»¬çš„ repo ä¸­ï¼Œä»è€Œå…è®¸æˆ‘ä»¬å®‰å…¨åœ°æ‰§è¡ŒæŒç»­éƒ¨ç½²ï¼Œè€Œæ— éœ€ä»»ä½•å¤–éƒ¨ä¾èµ–ã€‚&lt;/p>
&lt;p>Sealed Secrets ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼š&lt;/p>
&lt;ul>
&lt;li>é›†ç¾¤ç«¯æ§åˆ¶å™¨&lt;/li>
&lt;li>å®¢æˆ·ç«¯å®ç”¨ç¨‹åºï¼š&lt;code>kubeseal&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>è¯¥ &lt;code>kubeseal&lt;/code> å®ç”¨ç¨‹åºä½¿ç”¨éå¯¹ç§°åŠ å¯†æ¥åŠ å¯†åªæœ‰æ§åˆ¶å™¨æ‰èƒ½è§£å¯†çš„æœºå¯†ã€‚è¿™äº›åŠ å¯†çš„ç§˜å¯†è¢«ç¼–ç åœ¨ä¸€ä¸ª &lt;code>SealedSecret&lt;/code> K8s èµ„æºä¸­ï¼Œä½ å¯ä»¥å°†å…¶å­˜å‚¨åœ¨ Git ä¸­ã€‚&lt;/p>
&lt;h3 id="å¤‡é€‰-13">å¤‡é€‰&lt;/h3>
&lt;ul>
&lt;li>&lt;a href="https://aws.amazon.com/secrets-manager/">AWS Secret Manager&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.vaultproject.io/">HashiCorp Vault&lt;/a>ï¼‰&lt;/li>
&lt;/ul>
&lt;h2 id="capsule">Capsule&lt;/h2>
&lt;p>è®¸å¤šå…¬å¸ä½¿ç”¨&lt;strong>å¤šç§Ÿæˆ·&lt;/strong>æ¥ç®¡ç†ä¸åŒçš„å®¢æˆ·ã€‚è¿™åœ¨è½¯ä»¶å¼€å‘ä¸­å¾ˆå¸¸è§ï¼Œä½†åœ¨ Kubernetes ä¸­å¾ˆéš¾å®ç°ã€‚&lt;strong>å‘½åç©ºé—´&lt;/strong>æ˜¯å°†é›†ç¾¤çš„é€»è¾‘åˆ†åŒºåˆ›å»ºä¸ºéš”ç¦»åˆ‡ç‰‡çš„å¥½æ–¹æ³•ï¼Œä½†è¿™ä¸è¶³ä»¥å®‰å…¨åœ°éš”ç¦»å®¢æˆ·ï¼Œæˆ‘ä»¬éœ€è¦å¼ºåˆ¶æ‰§è¡Œç½‘ç»œç­–ç•¥ã€é…é¢ç­‰ã€‚ä½ å¯ä»¥ä¸ºæ¯ä¸ªåç§°ç©ºé—´åˆ›å»ºç½‘ç»œç­–ç•¥å’Œè§„åˆ™ï¼Œä½†è¿™æ˜¯ä¸€ä¸ªéš¾ä»¥æ‰©å±•çš„ä¹å‘³è¿‡ç¨‹ã€‚æ­¤å¤–ï¼Œç§Ÿæˆ·å°†ä¸èƒ½ä½¿ç”¨å¤šä¸ªå‘½åç©ºé—´ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„é™åˆ¶ã€‚&lt;/p>
&lt;p>åˆ›å»º&lt;strong>åˆ†å±‚å‘½åç©ºé—´&lt;/strong>æ˜¯ä¸ºäº†å…‹æœå…¶ä¸­ä¸€äº›é—®é¢˜ã€‚è¿™ä¸ªæƒ³æ³•æ˜¯ä¸ºæ¯ä¸ªç§Ÿæˆ·æ‹¥æœ‰ä¸€ä¸ªçˆ¶å‘½åç©ºé—´ï¼Œä¸ºç§Ÿæˆ·æä¾›å…¬å…±ç½‘ç»œç­–ç•¥å’Œé…é¢ï¼Œå¹¶å…è®¸åˆ›å»ºå­å‘½åç©ºé—´ã€‚è¿™æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„æ”¹è¿›ï¼Œä½†å®ƒåœ¨å®‰å…¨å’Œæ²»ç†æ–¹é¢æ²¡æœ‰å¯¹ç§Ÿæˆ·çš„æœ¬åœ°æ”¯æŒã€‚æ­¤å¤–ï¼Œå®ƒè¿˜æ²¡æœ‰è¾¾åˆ°ç”Ÿäº§çŠ¶æ€ï¼Œä½† 1.0 ç‰ˆé¢„è®¡å°†åœ¨æœªæ¥å‡ ä¸ªæœˆå†…å‘å¸ƒã€‚&lt;/p>
&lt;p>å½“å‰è§£å†³æ­¤é—®é¢˜çš„å¸¸ç”¨æ–¹æ³•æ˜¯ä¸ºæ¯ä¸ªå®¢æˆ·åˆ›å»ºä¸€ä¸ªé›†ç¾¤ï¼Œè¿™æ˜¯å®‰å…¨çš„å¹¶æä¾›ç§Ÿæˆ·æ‰€éœ€çš„ä¸€åˆ‡ï¼Œä½†è¿™å¾ˆéš¾ç®¡ç†ä¸”éå¸¸æ˜‚è´µã€‚&lt;/p>
&lt;p>&lt;a href="https://github.com/clastix/capsule">&lt;strong>Capsule&lt;/strong>&lt;/a> æ˜¯ä¸€ç§ä¸ºå•ä¸ªé›†ç¾¤ä¸­çš„å¤šä¸ªç§Ÿæˆ·æä¾›åŸç”Ÿ Kubernetes æ”¯æŒçš„å·¥å…·ã€‚ä½¿ç”¨ Capsuleï¼Œä½ å¯ä»¥ä¸ºæ‰€æœ‰ç§Ÿæˆ·æ‹¥æœ‰ä¸€ä¸ªé›†ç¾¤ã€‚Capsule å°†ä¸ºç§Ÿæˆ·æä¾› â€œå‡ ä¹â€ åŸç”Ÿä½“éªŒï¼ˆæœ‰ä¸€äº›å°é™åˆ¶ï¼‰ï¼Œä»–ä»¬å°†èƒ½å¤Ÿåˆ›å»ºå¤šä¸ªå‘½åç©ºé—´å¹¶ä½¿ç”¨é›†ç¾¤ï¼Œå› ä¸ºå®ƒä»¬å®Œå…¨å¯ç”¨ï¼Œéšè—äº†é›†ç¾¤å®é™…ä¸Šæ˜¯å…±äº«çš„äº‹å®ã€‚&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/07/15/16263070902872.jpg" alt="Capsule æ¶æ„">&lt;/p>
&lt;p>åœ¨å•ä¸ªé›†ç¾¤ä¸­ï¼ŒCapsule Controller åœ¨ç§°ä¸º &lt;strong>Tenant&lt;/strong> çš„è½»é‡çº§ Kubernetes æŠ½è±¡ä¸­èšåˆå¤šä¸ªå‘½åç©ºé—´ï¼Œè¿™æ˜¯ä¸€ç»„ Kubernetes å‘½åç©ºé—´ã€‚åœ¨æ¯ä¸ªç§Ÿæˆ·å†…ï¼Œç”¨æˆ·å¯ä»¥è‡ªç”±åˆ›å»ºä»–ä»¬çš„å‘½åç©ºé—´å¹¶å…±äº«æ‰€æœ‰åˆ†é…çš„èµ„æºï¼Œè€Œç­–ç•¥å¼•æ“åˆ™ä½¿ä¸åŒçš„ç§Ÿæˆ·å½¼æ­¤éš”ç¦»ã€‚&lt;/p>
&lt;p>ç§Ÿæˆ·çº§åˆ«å®šä¹‰çš„ç½‘ç»œå’Œå®‰å…¨ç­–ç•¥ã€èµ„æºé…é¢ã€é™åˆ¶èŒƒå›´ã€RBAC å’Œå…¶ä»–ç­–ç•¥ç”±ç§Ÿæˆ·ä¸­çš„æ‰€æœ‰å‘½åç©ºé—´è‡ªåŠ¨ç»§æ‰¿ï¼Œç±»ä¼¼äºåˆ†å±‚å‘½åç©ºé—´ã€‚ç„¶åç”¨æˆ·å¯ä»¥è‡ªç”±åœ°è‡ªæ²»æ“ä½œä»–ä»¬çš„ç§Ÿæˆ·ï¼Œè€Œæ— éœ€é›†ç¾¤ç®¡ç†å‘˜çš„å¹²é¢„ã€‚
Capsule æ˜¯ GitOps å°±ç»ªçš„ï¼Œå› ä¸ºå®ƒæ˜¯å£°æ˜æ€§çš„ï¼Œå¹¶ä¸”æ‰€æœ‰é…ç½®éƒ½å¯ä»¥å­˜å‚¨åœ¨ Git ä¸­ã€‚&lt;/p>
&lt;h2 id="vcluster">vCluster&lt;/h2>
&lt;p>&lt;a href="https://www.vcluster.com/">vCluster&lt;/a> åœ¨å¤šç§Ÿæˆ·æ–¹é¢æ›´è¿›äº†ä¸€æ­¥ï¼Œå®ƒåœ¨ Kubernetes é›†ç¾¤å†…æä¾›äº†è™šæ‹Ÿé›†ç¾¤ã€‚æ¯ä¸ªé›†ç¾¤éƒ½åœ¨ä¸€ä¸ªå¸¸è§„å‘½åç©ºé—´ä¸Šè¿è¡Œï¼Œå¹¶ä¸”æ˜¯å®Œå…¨éš”ç¦»çš„ã€‚è™šæ‹Ÿé›†ç¾¤æœ‰è‡ªå·±çš„ API æœåŠ¡å™¨å’Œç‹¬ç«‹çš„æ•°æ®å­˜å‚¨ï¼Œæ‰€ä»¥ä½ åœ¨ vCluster ä¸­åˆ›å»ºçš„æ¯ä¸ª Kubernetes å¯¹è±¡éƒ½åªå­˜åœ¨äº vcluster å†…éƒ¨ã€‚æ­¤å¤–ï¼Œæ‚¨å¯ä»¥å°† kube ä¸Šä¸‹æ–‡ä¸è™šæ‹Ÿé›†ç¾¤ä¸€èµ·ä½¿ç”¨ï¼Œä»¥åƒä½¿ç”¨å¸¸è§„é›†ç¾¤ä¸€æ ·ä½¿ç”¨å®ƒä»¬ã€‚&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/07/15/16263071651487.jpg" alt="">&lt;/p>
&lt;p>åªè¦æ‚¨å¯ä»¥åœ¨å•ä¸ªå‘½åç©ºé—´å†…åˆ›å»ºéƒ¨ç½²ï¼Œæ‚¨å°±å¯ä»¥åˆ›å»ºè™šæ‹Ÿé›†ç¾¤å¹¶æˆä¸ºè¯¥è™šæ‹Ÿé›†ç¾¤çš„ç®¡ç†å‘˜ï¼Œç§Ÿæˆ·å¯ä»¥åˆ›å»ºå‘½åç©ºé—´ã€å®‰è£… CRDã€é…ç½®æƒé™ç­‰ç­‰ã€‚&lt;/p>
&lt;p>&lt;strong>vCluster&lt;/strong> ä½¿ç”¨ &lt;a href="https://k3s.io/">&lt;strong>k3s&lt;/strong>&lt;/a> ä½œä¸ºå…¶ API æœåŠ¡å™¨ï¼Œä½¿è™šæ‹Ÿé›†ç¾¤è¶…è½»é‡çº§ä¸”ç»æµé«˜æ•ˆï¼›ç”±äº k3s é›†ç¾¤ 100% åˆè§„ï¼Œè™šæ‹Ÿé›†ç¾¤ä¹Ÿ 100% åˆè§„ã€‚&lt;strong>vClusters&lt;/strong> æ˜¯è¶…è½»é‡çº§çš„ï¼ˆ1 ä¸ª podï¼‰ï¼Œæ¶ˆè€—å¾ˆå°‘çš„èµ„æºå¹¶ä¸”å¯ä»¥åœ¨ä»»ä½• Kubernetes é›†ç¾¤ä¸Šè¿è¡Œï¼Œè€Œæ— éœ€å¯¹åº•å±‚é›†ç¾¤è¿›è¡Œç‰¹æƒè®¿é—®ã€‚ä¸ &lt;strong>Capsule&lt;/strong> ç›¸æ¯”ï¼Œå®ƒç¡®å®ä½¿ç”¨äº†æ›´å¤šçš„èµ„æºï¼Œä½†å®ƒæä¾›äº†æ›´å¤šçš„çµæ´»æ€§ï¼Œå› ä¸ºå¤šç§Ÿæˆ·åªæ˜¯ç”¨ä¾‹ä¹‹ä¸€ã€‚&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/07/15/16263072079021.jpg" alt="">&lt;/p>
&lt;h2 id="å…¶ä»–å·¥å…·">å…¶ä»–å·¥å…·&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://github.com/cloud-bulldozer/kube-burner">kube-burner&lt;/a> ç”¨äº&lt;strong>å‹åŠ›æµ‹è¯•&lt;/strong>ã€‚å®ƒæä¾›æŒ‡æ ‡å’Œè­¦æŠ¥ã€‚&lt;/li>
&lt;li>æ··æ²Œå·¥ç¨‹çš„ &lt;a href="https://github.com/litmuschaos/litmus">Litmus&lt;/a>ã€‚&lt;/li>
&lt;li>&lt;a href="https://github.com/bitnami-labs/kubewatch">kubewatch&lt;/a> ç”¨äºç›‘æ§ï¼Œä½†ä¸»è¦å…³æ³¨åŸºäº Kubernetes äº‹ä»¶ï¼ˆå¦‚èµ„æºåˆ›å»ºæˆ–åˆ é™¤ï¼‰çš„æ¨é€é€šçŸ¥ã€‚å®ƒå¯ä»¥ä¸ Slack ç­‰è®¸å¤šå·¥å…·é›†æˆã€‚&lt;/li>
&lt;li>&lt;a href="https://www.botkube.io/">BotKube&lt;/a> æ˜¯ä¸€ä¸ªæ¶ˆæ¯æœºå™¨äººï¼Œç”¨äºç›‘æ§å’Œè°ƒè¯• Kubernetes é›†ç¾¤ã€‚ä¸ kubewatch ç±»ä¼¼ï¼Œä½†æ›´æ–°å¹¶å…·æœ‰æ›´å¤šåŠŸèƒ½ã€‚&lt;/li>
&lt;li>&lt;a href="https://getmizu.io/">Mizu&lt;/a> æ˜¯ä¸€ä¸ª API æµé‡æŸ¥çœ‹å™¨å’Œè°ƒè¯•å™¨ã€‚&lt;/li>
&lt;li>&lt;a href="https://github.com/senthilrch/kube-fledged">kube-fledged&lt;/a> æ˜¯ä¸€ä¸ª Kubernetes æ’ä»¶ï¼Œç”¨äºç›´æ¥åœ¨ Kubernetes é›†ç¾¤çš„å·¥ä½œèŠ‚ç‚¹ä¸Šåˆ›å»ºå’Œç®¡ç†å®¹å™¨é•œåƒçš„ç¼“å­˜ã€‚å› æ­¤ï¼Œ&lt;strong>åº”ç”¨ç¨‹åº pod å‡ ä¹ç«‹å³å¯åŠ¨&lt;/strong>ï¼Œå› ä¸ºä¸éœ€è¦ä»æ³¨å†Œè¡¨ä¸­æå–å›¾åƒã€‚&lt;/li>
&lt;/ul>
&lt;h2 id="ç»“è®º">ç»“è®º&lt;/h2>
&lt;p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å›é¡¾äº†æˆ‘æœ€å–œæ¬¢çš„ Kubernetes å·¥å…·ã€‚æˆ‘ä¸“æ³¨äºå¯ä»¥åˆå¹¶åˆ°ä»»ä½• Kubernetes å‘è¡Œç‰ˆä¸­çš„å¼€æºé¡¹ç›®ã€‚æˆ‘æ²¡æœ‰æ¶µç›–è¯¸å¦‚ &lt;a href="https://www.openshift.com/">OpenShift&lt;/a> æˆ– Cloud Providers Add-Ons ä¹‹ç±»çš„å•†ä¸šè§£å†³æ–¹æ¡ˆï¼Œå› ä¸ºæˆ‘æƒ³è®©å®ƒä¿æŒé€šç”¨æ€§ï¼Œä½†æˆ‘é¼“åŠ±æ‚¨æ¢ç´¢å¦‚æœæ‚¨åœ¨äº‘ä¸Šè¿è¡Œ Kubernetes æˆ–ä½¿ç”¨å•†ä¸šå·¥å…·ï¼Œæ‚¨çš„äº‘æä¾›å•†å¯ä»¥ä¸ºæ‚¨æä¾›ä»€ä¹ˆã€‚&lt;/p>
&lt;p>æˆ‘çš„ç›®æ ‡æ˜¯å‘æ‚¨å±•ç¤ºæ‚¨å¯ä»¥åœ¨ &lt;strong>Kubernetes&lt;/strong> ä¸­å®Œæˆæ‚¨åœ¨æœ¬åœ°æ‰€åšçš„ä¸€åˆ‡ã€‚æˆ‘è¿˜æ›´å¤šåœ°å…³æ³¨é²œä¸ºäººçŸ¥çš„å·¥å…·ï¼Œæˆ‘è®¤ä¸ºè¿™äº›å·¥å…·å¯èƒ½å…·æœ‰å¾ˆå¤§çš„æ½œåŠ›ï¼Œä¾‹å¦‚ &lt;a href="https://crossplane.io/">Crossplane&lt;/a>ã€&lt;a href="https://kubevela.io/">Argo Rollouts&lt;/a>æˆ– &lt;a href="https://kubevela.io/">Kubevela&lt;/a>ã€‚æˆ‘æ›´æ„Ÿå…´è¶£çš„å·¥å…·æ˜¯ &lt;a href="https://www.vcluster.com/">vCluster&lt;/a>ã€&lt;a href="https://crossplane.io/">Crossplane&lt;/a> å’Œ ArgoCD/Workflowsã€‚&lt;/p></description></item><item><title>Kubernetes çš„é­”åŠ›åœ¨äºä¼ä¸šæ ‡å‡†åŒ–ï¼Œè€Œä¸æ˜¯åº”ç”¨ç¨‹åºçš„å¯ç§»æ¤æ€§</title><link>https://atbug.com/translation-kubernetes-magic-is-in-enterprise-standardization-not-app-portability/</link><pubDate>Sun, 11 Jul 2021 08:05:42 +0800</pubDate><guid>https://atbug.com/translation-kubernetes-magic-is-in-enterprise-standardization-not-app-portability/</guid><description>
&lt;p>ç¬”è€…ï¼šKubernetes æŠ½è±¡äº†èµ„æºå’Œå·¥ä½œè´Ÿè½½çš„æ“ä½œæ¨¡å¼ï¼Œç»Ÿä¸€äº†å·¥å…·é›†ï¼Œå®ç°äººæœºæ¥å£çš„æ ‡å‡†åŒ–ã€‚æ­£å¦‚ç±» Docker å·¥å…·æä¾›äº†åº”ç”¨è¿è¡Œæ—¶çš„æ“ä½œæ¨¡å¼ï¼›Spring Framework æä¾›äº† Java åº”ç”¨çš„å¼€å‘æ¨¡å¼ã€‚&lt;/p>
&lt;blockquote>
&lt;p>Kubernetes æ˜¯å…³äºè·¨äº‘çš„æŠ€èƒ½ã€å·¥å…·å’Œå®è·µçš„å¯ç§»æ¤æ€§ã€‚ä¸æ˜¯å·¥ä½œè´Ÿè½½çš„å¯ç§»æ¤æ€§ã€‚ &amp;ndash; Bilgin Lbryam @bibryam&lt;/p>
&lt;/blockquote>
&lt;p>æœ¬æ–‡ç¿»è¯‘è‡ª &lt;a href="https://www.techrepublic.com/google-amp/article/kubernetes-magic-is-in-enterprise-standardization-not-app-portability">Kubernetes magic is in enterprise standardization, not app portability&lt;/a>&lt;/p>
&lt;hr>
&lt;blockquote>
&lt;p>Kubernetes ä¸ä¼šç¥å¥‡åœ°ä½¿ä½ çš„åº”ç”¨ç¨‹åºå…·æœ‰å¯ç§»æ¤æ€§ï¼Œä½†å®ƒå¯èƒ½ä¼šç»™ä½ å¸¦æ¥æ›´å¥½çš„ä¸œè¥¿ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>äº‘ä¸ºä¼ä¸šæä¾›äº†çœ‹ä¼¼æ— é™çš„é€‰æ‹©ã€‚ç„¶è€Œï¼Œæ ¹æ® &lt;a href="https://juju.is/cloud-native-kubernetes-usage-report-2021">Canonical-sponsored çš„ä¸€é¡¹è°ƒæŸ¥&lt;/a>ï¼Œè¿™å¹¶ä¸æ˜¯å¤§å¤šæ•°ä¼ä¸šé‡‡ç”¨ &lt;a href="https://www.techrepublic.com/article/kubernetes-the-smart-persons-guide/">Kubernetes&lt;/a> ç­‰äº‘å‹å¥½æŠ€æœ¯çš„åŸå› ã€‚ç›¸åï¼ŒKubernetes çš„ä¸»è¦ç›®æ ‡æ˜¯æ ‡å‡†åŒ–â€”â€”å¤–è§‚å’Œæ“ä½œä¸å…¶ä»–äººä¸€æ ·ã€‚&lt;/p>
&lt;h2 id="å¯ç§»æ¤æ€§ä¸æ˜¯ç›®æ ‡">å¯ç§»æ¤æ€§ä¸æ˜¯ç›®æ ‡&lt;/h2>
&lt;p>æˆ‘ä¹‹å‰å·²ç»è®¨è®ºè¿‡è¿™ä¸ªé—®é¢˜ï¼Œå‚è€ƒäº† Gartner å…³äº Kubernetes å’Œå¯ç§»æ¤æ€§çš„æŒ‡å—ã€‚è®¸å¤šäººè®¤ä¸º Kubernetesï¼ˆå’Œ&lt;a href="https://www.techrepublic.com/article/containers-the-smart-persons-guide">å®¹å™¨&lt;/a>ï¼‰å¯ä»¥è®©ä»–ä»¬åœ¨äº‘ä¹‹é—´è½»æ¾ç§»æ¤ï¼Œä½†äº‹å®è¯æ˜å¹¶ä¸æ˜¯è¿™æ ·çš„ã€‚æ­£å¦‚ Gartner åˆ†æå¸ˆ &lt;a href="https://blogs.gartner.com/marco-meinardi/2020/09/04/adopting-kubernetes-application-portability-not-good-idea/">Marco Meinardi æ‰€å†™&lt;/a>ï¼Œå½“è¢«é—®åŠå…¬å¸æ˜¯å¦åº”è¯¥é‡‡ç”¨â€œKubernetes ä½¿ä»–ä»¬çš„åº”ç”¨ç¨‹åºå¯ç§»æ¤&amp;hellip;&amp;hellip;ç­”æ¡ˆæ˜¯ï¼šä¸ã€‚â€ å†è¯´ä¸€æ¬¡ï¼Ÿ&lt;/p>
&lt;blockquote>
&lt;p>è°ƒæŸ¥æ˜¾ç¤ºï¼Œ[åœ¨äº‘æä¾›å•†ä¹‹é—´ç§»åŠ¨åº”ç”¨ç¨‹åº] çš„å¯èƒ½æ€§å®é™…ä¸Šéå¸¸ä½ã€‚ä¸€æ—¦éƒ¨ç½²åœ¨ä¾›åº”å•†ä¸­ï¼Œåº”ç”¨ç¨‹åºå¾€å¾€ä¼šç•™åœ¨é‚£é‡Œã€‚è¿™æ˜¯å› ä¸ºæ•°æ®æ¹–éš¾ä»¥ç§»æ¤ä¸”æˆæœ¬é«˜æ˜‚ï¼Œå› æ­¤æœ€ç»ˆæˆä¸ºè¿ç§»çš„é‡å¿ƒã€‚&lt;/p>
&lt;/blockquote>
&lt;p>å› æ­¤ Kubernetes é€šå¸¸ä¸ä¼šè¢«å…¬å¸æ¥å—ï¼Œä»¥å¢å¼ºåº”ç”¨ç¨‹åºçš„å¯ç§»æ¤æ€§ï¼›ç›¸åï¼Œè°ˆè®ºäººå‘˜å¯ç§»æ¤æ€§æˆ–æ¢è¨€ä¹‹ï¼ŒæŠ€èƒ½å¯ç§»æ¤æ€§æ›´æ¥è¿‘äº‹å®ã€‚Weaveworks é¦–å¸­æ‰§è¡Œå®˜äºšå†å…‹è¥¿æ–¯Â·ç†æŸ¥æ£®ï¼ˆAlexis Richardsonï¼‰&lt;a href="https://twitter.com/monadic/status/1302257531025264642">å°†è¿™ä¸ªä¸»é¢˜æ‰“å›å®¶&lt;/a>ï¼š&lt;/p>
&lt;blockquote>
&lt;p>é‡ç‚¹æ˜¯â€œæŠ€èƒ½å¯ç§»æ¤æ€§â€ï¼Œå› ä¸ºä½¿ç”¨æ ‡å‡†æ“ä½œæ¨¡å‹å’Œå·¥å…·é“¾ã€‚å¤§å‹ç»„ç»‡å¸Œæœ›å¼€å‘äººå‘˜ä½¿ç”¨æ ‡å‡†çš„å·¥ä½œæ–¹å¼ï¼Œå› ä¸ºè¿™å¯ä»¥é™ä½åŸ¹è®­æˆæœ¬ï¼Œå¹¶æ¶ˆé™¤å‘˜å·¥åœ¨ä¸åŒé¡¹ç›®ä¹‹é—´è½¬ç§»çš„éšœç¢ã€‚å¦‚æœä½ çš„â€œå¹³å°â€ï¼ˆæˆ–å¤šä¸ªå¹³å°ï¼‰åŸºäºç›¸åŒçš„æ ¸å¿ƒäº‘åŸç”Ÿå·¥å…·é›†ï¼Œé‚£ä¹ˆå®ƒä¹Ÿå¯ä»¥æ›´è½»æ¾ã€æ›´ä¾¿å®œåœ°åº”ç”¨ç­–ç•¥ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>è¿™è®©æˆ‘ä»¬å›åˆ°è§„èŒƒè°ƒæŸ¥ã€‚&lt;/p>
&lt;h2 id="samesies">Samesies&lt;/h2>
&lt;p>å½“è¢«é—®åŠç¡®å®šä¸é‡‡ç”¨ Kubernetes ç­‰äº‘åŸç”ŸæŠ€æœ¯ç›¸å…³çš„æŠ€æœ¯ç›®æ ‡æ—¶ï¼Œè°ƒæŸ¥å—è®¿è€…å°†å¯ç§»æ¤æ€§æ’åœ¨æœ€åï¼Œå°†æ›´ç›´æ¥çš„é—®é¢˜æ’åœ¨ç¬¬ä¸€ä½ï¼š&lt;/p>
&lt;ul>
&lt;li>æ”¹è¿›ç»´æŠ¤ã€ç›‘æ§å’Œè‡ªåŠ¨åŒ– - 64.6%ã€‚&lt;/li>
&lt;li>åŸºç¡€è®¾æ–½ç°ä»£åŒ– - 46.4%ã€‚&lt;/li>
&lt;li>æ›´å¿«çš„ä¸Šçº¿æ—¶é—´ - 26.5%ã€‚&lt;/li>
&lt;li>åˆ é™¤ä¾›åº”å•†ä¾èµ–é¡¹ - 12.8%ã€‚&lt;/li>
&lt;li>å…¨çƒè¦†ç›–ç‡ - 12.5%ã€‚&lt;/li>
&lt;li>å›´ç»•æµé‡é«˜å³°çš„æ•æ·æ€§ - 9.2%ã€‚&lt;/li>
&lt;li>ç¡®ä¿ä¾¿æºæ€§ - 8.9%&lt;/li>
&lt;/ul>
&lt;p>æˆ‘å–œæ¬¢ Google Cloud çš„å¼€å‘è€…å€¡å¯¼è€… Kelsey Hightower åœ¨è°ƒæŸ¥æŠ¥å‘Šä¸­è¯„è®ºè¿™äº›ç»“æœçš„æ–¹å¼ï¼š&lt;/p>
&lt;blockquote>
&lt;p>å¾ˆå¤šäººè®¤ä¸ºç»„ç»‡è½¬å‘ Kubernetes æ˜¯å› ä¸ºè§„æ¨¡ï¼Œæˆ–è€…å› ä¸ºä»–ä»¬æƒ³æˆä¸ºè¶…å¤§è§„æ¨¡è€…ï¼Œæˆ–è€…ä¸ Twitter æ‹¥æœ‰ç›¸åŒçš„æµé‡æ°´å¹³ã€‚å¯¹äºå¤§å¤šæ•°ç»„ç»‡è€Œè¨€ï¼Œæƒ…å†µå¹¶éä¸€å®šå¦‚æ­¤ã€‚å¾ˆå¤šäººéƒ½å–œæ¬¢ K8s ä¸­å†…ç½®äº†è®¸å¤šå†³ç­–ï¼Œä¾‹å¦‚æ—¥å¿—è®°å½•ã€ç›‘æ§å’Œè´Ÿè½½å¹³è¡¡ã€‚&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>äººä»¬å¾€å¾€ä¼šå¿˜è®°äº‹æƒ…æœ‰å¤šä¹ˆå¤æ‚ï¼Œåªæ˜¯ä¸ºäº†æ„å»ºä¸€ä¸ªæ²¡æœ‰æ‰€æœ‰è‡ªåŠ¨åŒ–çš„åº”ç”¨ç¨‹åºã€‚å¦‚æœä½ åœ¨å…¬æœ‰äº‘ä¸Šï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸€äº›æœ¬æœºé›†æˆå’Œå·¥å…·ã€‚ä½†æ˜¯ï¼Œå¦‚æœä½ åœ¨æœ¬åœ°ï¼Œé‚£ä¸æ˜¯ç»™å®šçš„â€”â€”ä½ å¿…é¡»è‡ªå·±å°†è§£å†³æ–¹æ¡ˆç²˜åˆåœ¨ä¸€èµ·ã€‚ä½¿ç”¨ Kubernetesï¼Œä½ å‡ ä¹å°† 25 ç§ä¸åŒçš„å·¥å…·åˆäºŒä¸ºä¸€ã€‚&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>è¿™å°±æ˜¯äººä»¬æ‰€è¯´çš„â€œç°ä»£åŸºç¡€è®¾æ–½â€çš„æ„æ€â€”â€”ä»–ä»¬å¹¶ä¸æ˜¯åœ¨è°ˆè®ºåšä¸€äº›ä»¥å‰ä»æœªåšè¿‡çš„äº‹æƒ…ã€‚ä»–ä»¬è°ˆè®ºçš„æ˜¯è¿‡å» 10 å¹´æˆ– 15 å¹´ä¸€ç›´åœ¨ç”Ÿäº§çš„ä¸œè¥¿ã€‚Kubernetes æ˜¯å½“ä»Šæ‰€æœ‰â€œç°ä»£æ¨¡å¼â€çš„æ£€æŸ¥ç«™ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>æ¢å¥è¯è¯´ï¼Œäººä»¬çœŸæ­£æƒ³è¦ä» Kubernetes è·å¾—çš„æ˜¯ä¸€ç§æ ‡å‡†çš„åŸºç¡€è®¾æ–½æ€è€ƒæ–¹å¼ã€‚å›åˆ° Richardson ä¹‹å‰çš„è§‚ç‚¹ï¼Œè™½ç„¶ Kubernetes å’Œäº‘åŸç”ŸæŠ€æœ¯ä½¿å…¬å¸èƒ½å¤Ÿä»¥æ›´é«˜çš„é€Ÿåº¦è¿è¥ï¼Œä½†æœ€å¤§çš„å¥½å¤„å¯èƒ½æ˜¯ä½¿æŠ€èƒ½åœ¨ç»„ç»‡ä¹‹é—´å¯ä»¥äº’æ¢â€”â€”è¿™ä¸ºé›‡ä¸»å’Œå‘˜å·¥éƒ½åˆ›é€ äº†å·¨å¤§çš„ç»©æ•ˆæ”¶ç›Šã€‚è¿™æ˜¯ä¼ä¸šä¸æ–­å¢åŠ å¯¹ Kubernetes æŠ•èµ„çš„å¦ä¸€ä¸ªåŸå› ã€‚&lt;/p>
&lt;p>&lt;em>å£°æ˜ï¼šæˆ‘ä¸º AWS å·¥ä½œï¼Œä½†æ­¤å¤„è¡¨è¾¾çš„è§‚ç‚¹æ˜¯æˆ‘çš„ã€‚&lt;/em>&lt;/p></description></item><item><title>Kubernetes çš„è‡ªåŠ¨ä¼¸ç¼©ä½ ç”¨å¯¹äº†å—ï¼Ÿ</title><link>https://atbug.com/auto-scaling-best-practice-in-kubernetes/</link><pubDate>Wed, 09 Jun 2021 00:34:25 +0800</pubDate><guid>https://atbug.com/auto-scaling-best-practice-in-kubernetes/</guid><description>
&lt;p>æœ¬æ–‡ç¿»è¯‘è‡ª learnk8s çš„ &lt;a href="https://learnk8s.io/kubernetes-autoscaling-strategies#when-autoscaling-pods-goes-wrong">Architecting Kubernetes clusters â€” choosing the best autoscaling strategy&lt;/a>ï¼Œ&lt;!-- raw HTML omitted -->æœ‰å¢åˆ éƒ¨åˆ†å†…å®¹&lt;!-- raw HTML omitted -->ã€‚&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/06/09/cleanshot-20210608-at-2159402x.png" alt="">&lt;/p>
&lt;p>TL;DR: åœ¨é»˜è®¤è®¾ç½®ä¸‹ï¼Œæ‰©å±• Kubernetes é›†ç¾¤ä¸­çš„ pod å’ŒèŠ‚ç‚¹å¯èƒ½éœ€è¦å‡ åˆ†é’Ÿæ—¶é—´ã€‚äº†è§£å¦‚ä½•è°ƒæ•´é›†ç¾¤èŠ‚ç‚¹çš„å¤§å°ã€é…ç½®æ°´å¹³å’Œé›†ç¾¤è‡ªåŠ¨ç¼©æ”¾å™¨ä»¥åŠè¿‡åº¦é…ç½®é›†ç¾¤ä»¥åŠ å¿«æ‰©å±•é€Ÿåº¦ã€‚&lt;/p>
&lt;h2 id="è‡ªåŠ¨æ‰©å±•å™¨">è‡ªåŠ¨æ‰©å±•å™¨&lt;/h2>
&lt;p>åœ¨ Kubernetes ä¸­ï¼Œå¸¸è¯´çš„â€œè‡ªç”¨æ‰©å±•â€æœ‰ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://kubernetes.io/docs/tasks/run-application/horizontal-pod-autoscale/">HPAï¼šPod æ°´å¹³ç¼©æ”¾å™¨&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/kubernetes/autoscaler/tree/master/vertical-pod-autoscaler">VPAï¼šPod å‚ç›´ç¼©æ”¾å™¨&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/kubernetes/autoscaler/tree/master/cluster-autoscaler">CAï¼šé›†ç¾¤è‡ªåŠ¨ç¼©æ”¾å™¨&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>ä¸åŒç±»å‹çš„è‡ªåŠ¨ç¼©æ”¾å™¨ï¼Œä½¿ç”¨çš„åœºæ™¯ä¸ä¸€æ ·ã€‚&lt;/p>
&lt;h3 id="hpa">HPA&lt;/h3>
&lt;p>HPA å®šæœŸæ£€æŸ¥å†…å­˜å’Œ CPU ç­‰æŒ‡æ ‡ï¼Œè‡ªåŠ¨è°ƒæ•´ Deployment ä¸­çš„å‰¯æœ¬æ•°ï¼Œæ¯”å¦‚æµé‡å˜åŒ–ï¼š&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/06/09/cleanshot-20210608-at-2206552x.png" alt="è°ƒæ•´å‰">&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/06/09/cleanshot-20210608-at-2207122x.png" alt="è°ƒæ•´å">&lt;/p>
&lt;h3 id="vpa">VPA&lt;/h3>
&lt;p>æœ‰äº›æ—¶å€™æ— æ³•é€šè¿‡å¢åŠ  Pod æ•°æ¥æ‰©å®¹ï¼Œæ¯”å¦‚æ•°æ®åº“ã€‚è¿™æ—¶å€™å¯ä»¥é€šè¿‡ VPA å¢åŠ  Pod çš„å¤§å°ï¼Œæ¯”å¦‚è°ƒæ•´ Pod çš„ CPU å’Œå†…å­˜ï¼š&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/06/09/cleanshot-20210608-at-2212162x.png" alt="è°ƒæ•´å‰">&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/06/09/cleanshot-20210608-at-2212342x.png" alt="è°ƒæ•´å">&lt;/p>
&lt;h3 id="ca">CA&lt;/h3>
&lt;p>å½“é›†ç¾¤èµ„æºä¸è¶³æ—¶ï¼ŒCA ä¼šè‡ªåŠ¨é…ç½®æ–°çš„è®¡ç®—èµ„æºå¹¶æ·»åŠ åˆ°é›†ç¾¤ä¸­ï¼š&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/06/09/cleanshot-20210608-at-2213392x.png" alt="è°ƒæ•´å‰">&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/06/09/cleanshot-20210608-at-2214182x.png" alt="è°ƒæ•´å">&lt;/p>
&lt;h2 id="è‡ªåŠ¨ç¼©æ”¾-pod-å‡ºé”™æ—¶">è‡ªåŠ¨ç¼©æ”¾ Pod å‡ºé”™æ—¶&lt;/h2>
&lt;p>æ¯”å¦‚ä¸€ä¸ªåº”ç”¨éœ€è¦ 1.5 GB å†…å­˜å’Œ 0.25 ä¸ª vCPUã€‚ä¸€ä¸ª 8GB å’Œ 2 ä¸ª vCPU çš„èŠ‚ç‚¹ï¼Œå¯ä»¥å®¹çº³ 4 ä¸ªè¿™æ ·çš„ Podï¼Œå®Œç¾ï¼&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/06/09/cleanshot-20210608-at-2216192x.png" alt="">&lt;/p>
&lt;p>åšå¦‚ä¸‹é…ç½®ï¼š&lt;/p>
&lt;ol>
&lt;li>HPAï¼šæ¯å¢åŠ  10 ä¸ªå¹¶å‘ï¼Œå¢åŠ ä¸€ä¸ªå‰¯æœ¬ã€‚å³ 40 ä¸ªå¹¶å‘çš„æ—¶å€™ï¼Œè‡ªåŠ¨æ‰©å±•åˆ° 4 ä¸ªå‰¯æœ¬ã€‚ï¼ˆè¿™é‡Œä½¿ç”¨è‡ªå®šä¹‰æŒ‡æ ‡ï¼Œæ¯”å¦‚æ¥è‡ª Ingress Controller çš„ QPSï¼‰&lt;/li>
&lt;li>CAï¼šåœ¨èµ„æºä¸è¶³çš„æ—¶å€™ï¼Œå¢åŠ è®¡ç®—èŠ‚ç‚¹ã€‚&lt;/li>
&lt;/ol>
&lt;p>å½“å¹¶å‘è¾¾åˆ° 30 çš„æ—¶å€™ï¼Œç³»ç»Ÿæ˜¯ä¸‹é¢è¿™æ ·ã€‚å®Œç¾ï¼HPA å·¥ä½œæ­£å¸¸ï¼ŒCA æ²¡å·¥ä½œã€‚&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/06/09/cleanshot-20210608-at-2223102x.png" alt="">&lt;/p>
&lt;p>å½“å¢åŠ åˆ° 40 ä¸ªå¹¶å‘çš„æ—¶å€™ï¼Œç³»ç»Ÿæ˜¯ä¸‹é¢çš„æƒ…å†µï¼š&lt;/p>
&lt;ol>
&lt;li>HPA å¢åŠ äº†ä¸€ä¸ª Pod&lt;/li>
&lt;li>Pod æŒ‚èµ·&lt;/li>
&lt;li>CA å¢åŠ äº†ä¸€ä¸ªèŠ‚ç‚¹&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/06/09/cleanshot-20210608-at-2224462x.png" alt="HPA å·¥ä½œ">&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/06/09/cleanshot-20210608-at-2225022x.png" alt="CA å·¥ä½œ">&lt;/p>
&lt;p>&lt;em>ä¸ºä»€ä¹ˆ Pod æ²¡æœ‰éƒ¨ç½²æˆåŠŸï¼Ÿ&lt;/em>&lt;/p>
&lt;p>èŠ‚ç‚¹ä¸Šçš„æ“ä½œç³»ç»Ÿè¿›ç¨‹å’Œ kubelet ä¹Ÿä¼šæ¶ˆè€—ä¸€éƒ¨åˆ†èµ„æºï¼Œ8G å’Œ 2 vCPU å¹¶ä¸æ˜¯å…¨éƒ½å¯ä»¥æä¾›ç»™ Pod ç”¨çš„ã€‚å¹¶ä¸”è¿˜æœ‰ä¸€ä¸ª&lt;a href="https://kubernetes.io/docs/tasks/administer-cluster/reserve-compute-resources/#eviction-thresholds">é©±é€é˜ˆå€¼&lt;/a>ï¼šåœ¨èŠ‚ç‚¹ç³»ç»Ÿå‰©ä½™èµ„æºè¾¾åˆ°é˜ˆå€¼æ—¶ï¼Œä¼šé©±é€ Podï¼Œé¿å… OOM çš„å‘ç”Ÿã€‚&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/06/09/cleanshot-20210608-at-2230402x.png" alt="">&lt;/p>
&lt;p>å½“ç„¶ä¸Šé¢çš„è¿™äº›éƒ½æ˜¯&lt;a href="https://kubernetes.io/docs/tasks/administer-cluster/reserve-compute-resources/#node-allocatable">å¯é…ç½®&lt;/a>çš„ã€‚&lt;/p>
&lt;p>&lt;em>é‚£ä¸ºä»€ä¹ˆåœ¨åˆ›å»ºè¯¥ Pod ä¹‹å‰ï¼ŒCA æ²¡æœ‰å¢åŠ æ–°çš„èŠ‚ç‚¹å‘¢ï¼Ÿ&lt;/em>&lt;/p>
&lt;h2 id="ca-å¦‚ä½•å·¥ä½œ">CA å¦‚ä½•å·¥ä½œï¼Ÿ&lt;/h2>
&lt;p>&lt;strong>CA åœ¨è§¦å‘è‡ªåŠ¨ç¼©æ”¾æ—¶ï¼Œä¸ä¼šæŸ¥çœ‹å¯ç”¨çš„å†…å­˜æˆ– CPUã€‚&lt;/strong>&lt;/p>
&lt;p>CA æ˜¯é¢å‘äº‹ä»¶å·¥ä½œçš„ï¼Œå¹¶æ¯ 10 ç§’æ£€æŸ¥ä¸€æ¬¡æ˜¯å¦å­˜åœ¨ä¸å¯è°ƒåº¦ï¼ˆPendingï¼‰çš„ Podã€‚&lt;/p>
&lt;p>å½“è°ƒåº¦å™¨æ— æ³•æ‰¾åˆ°å¯ä»¥å®¹çº³ Pod çš„èŠ‚ç‚¹æ—¶ï¼Œè¿™ä¸ª Pod æ˜¯ä¸å¯è°ƒåº¦çš„ã€‚&lt;/p>
&lt;p>æ­¤æ—¶ï¼ŒCA å¼€å§‹åˆ›å»ºæ–°èŠ‚ç‚¹ï¼šCA æ‰«æé›†ç¾¤å¹¶æ£€æŸ¥æ˜¯å¦æœ‰ä¸å¯è°ƒåº¦çš„ Podã€‚&lt;/p>
&lt;p>å½“é›†ç¾¤æœ‰å¤šç§èŠ‚ç‚¹æ± ï¼ŒCA ä¼šé€šè¿‡é€‰æ‹©ä¸‹é¢çš„ä¸€ç§ç­–ç•¥ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;code>random&lt;/code>ï¼šé»˜è®¤çš„æ‰©å±•å™¨ï¼Œéšæœºé€‰æ‹©ä¸€ç§èŠ‚ç‚¹æ± &lt;/li>
&lt;li>&lt;code>most-pods&lt;/code>ï¼šèƒ½å¤Ÿè°ƒåº¦æœ€å¤š Pod çš„èŠ‚ç‚¹æ± &lt;/li>
&lt;li>&lt;code>least-waste&lt;/code>ï¼šé€‰æ‹©æ‰©å±•åï¼Œèµ„æºç©ºé—²æœ€å°‘çš„èŠ‚ç‚¹æ± &lt;/li>
&lt;li>&lt;code>price&lt;/code>ï¼šé€‰æ‹©æˆæœ¬æœ€ä½çš„èŠ‚ç‚¹æ± &lt;/li>
&lt;li>&lt;code>priority&lt;/code>ï¼šé€‰æ‹©ç”¨æˆ·åˆ†é…çš„å…·æœ‰æœ€é«˜ä¼˜å…ˆçº§çš„èŠ‚ç‚¹æ± &lt;/li>
&lt;/ul>
&lt;p>ç¡®å®šç±»å‹åï¼ŒCA ä¼šè°ƒç”¨ç›¸å…³ API æ¥åˆ›å»ºèµ„æºã€‚ï¼ˆäº‘å‚å•†ä¼šå®ç° APIï¼Œæ¯”å¦‚ AWS æ·»åŠ  EC2ï¼›Azure æ·»åŠ  Virtual Machineï¼›é˜¿é‡Œäº‘å¢åŠ  ECSï¼›GCP å¢åŠ  Compute Engineï¼‰&lt;/p>
&lt;p>è®¡ç®—èµ„æºå°±ç»ªåï¼Œå°±ä¼šè¿›è¡Œ&lt;a href="https://kubernetes.io/docs/reference/command-line-tools-reference/kubelet-tls-bootstrapping/">èŠ‚ç‚¹çš„åˆå§‹åŒ–&lt;/a>ã€‚&lt;/p>
&lt;p>æ³¨æ„ï¼Œè¿™é‡Œéœ€è¦ä¸€å®šçš„è€—æ—¶ï¼Œé€šå¸¸æ¯”è¾ƒæ…¢ã€‚&lt;/p>
&lt;h2 id="æ¢ç´¢-pod-è‡ªåŠ¨ç¼©æ”¾çš„å‰ç½®æ—¶é—´">æ¢ç´¢ Pod è‡ªåŠ¨ç¼©æ”¾çš„å‰ç½®æ—¶é—´&lt;/h2>
&lt;p>å››ä¸ªå› ç´ ï¼š&lt;/p>
&lt;ol>
&lt;li>HPA çš„å“åº”è€—æ—¶&lt;/li>
&lt;li>CA çš„å“åº”è€—æ—¶&lt;/li>
&lt;li>èŠ‚ç‚¹çš„åˆå§‹åŒ–è€—æ—¶&lt;/li>
&lt;li>Pod çš„åˆ›å»ºæ—¶é—´&lt;/li>
&lt;/ol>
&lt;p>é»˜è®¤æƒ…å†µä¸‹ï¼Œ&lt;a href="https://github.com/kubernetes/kubernetes/blob/2da8d1c18fb9406bd8bb9a51da58d5f8108cb8f7/pkg/kubelet/kubelet.go#L1855">kubelet æ¯ 10 ç§’æŠ“å–ä¸€æ¬¡ Pod çš„ CPU å’Œå†…å­˜å ç”¨æƒ…å†µ&lt;/a>ã€‚&lt;/p>
&lt;p>&lt;a href="https://github.com/kubernetes-sigs/metrics-server/blob/master/FAQ.md#how-often-metrics-are-scraped">æ¯åˆ†é’Ÿï¼ŒMetrics Server ä¼šå°†èšåˆçš„æŒ‡æ ‡å¼€æ”¾&lt;/a>ç»™ Kubernetes API çš„å…¶ä»–ç»„ä»¶ä½¿ç”¨ã€‚&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/06/09/cleanshot-20210608-at-2256302x.png" alt="">&lt;/p>
&lt;p>&lt;a href="https://github.com/kubernetes/autoscaler/blob/master/cluster-autoscaler/FAQ.md#how-does-scale-up-work">CA æ¯ 10 ç§’æ’æŸ¥ä¸å¯è°ƒåº¦çš„ Podã€‚&lt;/a>&lt;/p>
&lt;ul>
&lt;li>å°‘äº 100 ä¸ªèŠ‚ç‚¹ï¼Œä¸”æ¯ä¸ªèŠ‚ç‚¹æœ€å¤š 30 ä¸ª Podï¼Œæ—¶é—´ä¸è¶…è¿‡ 30sã€‚å¹³å‡å»¶è¿Ÿå¤§çº¦ 5sã€‚&lt;/li>
&lt;li>100 åˆ° 1000ä¸ªèŠ‚ç‚¹ï¼Œä¸è¶…è¿‡ 60sã€‚å¹³å‡å»¶è¿Ÿå¤§çº¦ 15sã€‚&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/06/09/cleanshot-20210608-at-2300242x.png" alt="">&lt;/p>
&lt;p>èŠ‚ç‚¹çš„é…ç½®æ—¶é—´ï¼Œå–å†³äºäº‘æœåŠ¡å•†ã€‚é€šå¸¸åœ¨ 3~5 åˆ†é’Ÿã€‚&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/06/09/cleanshot-20210608-at-2301312x.png" alt="">&lt;/p>
&lt;p>å®¹å™¨è¿è¡Œæ—¶åˆ›å»º Podï¼šå¯åŠ¨å®¹å™¨çš„å‡ æ¯«ç§’å’Œ&lt;strong>ä¸‹è½½é•œåƒçš„å‡ ç§’é’Ÿ&lt;/strong>ã€‚å¦‚æœä¸åšé•œåƒç¼“å­˜ï¼Œå‡ ç§’åˆ° 1 åˆ†é’Ÿä¸ç­‰ï¼Œå–å†³äºå±‚çš„å¤§å°å’Œæ¢³ç†ã€‚&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/06/09/cleanshot-20210608-at-2302382x.png" alt="">&lt;/p>
&lt;p>å¯¹äºå°è§„æ¨¡çš„é›†ç¾¤ï¼Œæœ€åçš„æƒ…å†µæ˜¯ 6 åˆ† 30 ç§’ã€‚å¯¹äº 100 ä¸ªä»¥ä¸ŠèŠ‚ç‚¹è§„æ¨¡çš„é›†ç¾¤ï¼Œå¯èƒ½é«˜è¾¾ 7 åˆ†é’Ÿã€‚&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-fallback" data-lang="fallback">HPA delay: 1m30s +
CA delay: 0m30s +
Cloud provider: 4m +
Container runtime: 0m30s +
=========================
Total 6m30s
&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;em>çªå‘æƒ…å†µï¼Œæ¯”å¦‚æµé‡æ¿€å¢ï¼Œä½ æ˜¯å¦æ„¿æ„ç­‰è¿™ 7 åˆ†é’Ÿï¼Ÿ&lt;/em>&lt;/p>
&lt;p>&lt;em>è¿™ 7 åˆ†é’Ÿï¼Œå¦‚ä½•ä¼˜åŒ–å‹ç¼©ï¼Ÿ&lt;/em>&lt;/p>
&lt;ul>
&lt;li>HPA çš„åˆ·æ–°æ—¶é—´ï¼Œé»˜è®¤ 15 ç§’ï¼Œé€šè¿‡ &lt;code>--horizontal-pod-autoscaler-sync-period&lt;/code> æ ‡å¿—æ§åˆ¶ã€‚&lt;/li>
&lt;li>Metrics Server çš„æŒ‡æ ‡æŠ“å–æ—¶é—´ï¼Œé»˜è®¤ 60 ç§’ï¼Œé€šè¿‡ &lt;code>metric-resolution&lt;/code> æ§åˆ¶ã€‚&lt;/li>
&lt;li>CA çš„æ‰«æé—´éš”ï¼Œé»˜è®¤ 10 ç§’ï¼Œé€šè¿‡ &lt;code>scan-interval&lt;/code> æ§åˆ¶ã€‚&lt;/li>
&lt;li>èŠ‚ç‚¹ä¸Šç¼“å­˜é•œåƒï¼Œæ¯”å¦‚ &lt;a href="https://github.com/senthilrch/kube-fledged">kube-fledged&lt;/a> ç­‰å·¥å…·ã€‚&lt;/li>
&lt;/ul>
&lt;p>å³ä½¿è°ƒå°äº†ä¸Šè¿°è®¾ç½®ï¼Œä¾ç„¶ä¼šå—äº‘æœåŠ¡å•†çš„æ—¶é—´é™åˆ¶ã€‚&lt;/p>
&lt;p>&lt;em>é‚£ä¹ˆï¼Œå¦‚ä½•è§£å†³ï¼Ÿ&lt;/em>&lt;/p>
&lt;p>ä¸¤ç§å°è¯•ï¼š&lt;/p>
&lt;ol>
&lt;li>å°½é‡é¿å…è¢«åŠ¨åˆ›å»ºæ–°èŠ‚ç‚¹&lt;/li>
&lt;li>ä¸»åŠ¨åˆ›å»ºæ–°èŠ‚ç‚¹&lt;/li>
&lt;/ol>
&lt;h2 id="ä¸º-kubernetes-é€‰æ‹©æœ€ä½³è§„æ ¼çš„èŠ‚ç‚¹">ä¸º Kubernetes é€‰æ‹©æœ€ä½³è§„æ ¼çš„èŠ‚ç‚¹&lt;/h2>
&lt;p>&lt;strong>è¿™ä¼šå¯¹æ‰©å±•ç­–ç•¥äº§ç”Ÿå·¨å¤§å½±å“ã€‚&lt;/strong>&lt;/p>
&lt;p>&lt;em>è¿™æ ·çš„åœºæ™¯&lt;/em>&lt;/p>
&lt;p>åº”ç”¨ç¨‹åºéœ€è¦ 1GB å†…å­˜å’Œ 0.1 vCPUï¼›æœ‰ä¸€ä¸ª 4GB å†…å­˜å’Œ 1 ä¸ª vCPU çš„èŠ‚ç‚¹ã€‚&lt;/p>
&lt;p>æ’é™¤æ“ä½œç³»ç»Ÿã€kubelet å’Œé˜ˆå€¼ä¿ç•™ç©ºé—´åï¼Œæœ‰ 2.5GB å†…å­˜å’Œ 0.7 ä¸ª vCPU å¯ç”¨ã€‚&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/06/09/cleanshot-20210608-at-2314032x.png" alt="">&lt;/p>
&lt;p>æœ€å¤šåªèƒ½å®¹çº³ 2 ä¸ª Podï¼Œæ‰©å±•å‰¯æœ¬æ—¶æœ€é•¿è€—æ—¶ 7 åˆ†é’Ÿï¼ˆHPAã€CAã€äº‘æœåŠ¡å•†çš„èµ„æºé…ç½®è€—æ—¶ï¼‰&lt;/p>
&lt;p>å‡å¦‚èŠ‚ç‚¹çš„è§„æ ¼æ˜¯ 64GB å†…å­˜å’Œ 16 ä¸ª vCPUï¼Œå¯ç”¨çš„èµ„æºä¸º 58.32GB å’Œ 15.8 ä¸ª vCPUã€‚&lt;/p>
&lt;p>&lt;strong>è¿™ä¸ªèŠ‚ç‚¹å¯ä»¥æ‰˜ç®¡ 58 ä¸ª Podã€‚åªæœ‰æ‰©å®¹ç¬¬ 59 ä¸ªå‰¯æœ¬æ—¶ï¼Œæ‰éœ€è¦åˆ›å»ºæ–°çš„èŠ‚ç‚¹ã€‚&lt;/strong>&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/06/09/cleanshot-20210608-at-2316562x.png" alt="CleanShot 2021-06-08 at 23.16.56@2x">&lt;/p>
&lt;p>è¿™æ ·è§¦å‘ CA çš„æœºä¼šæ›´å°‘ã€‚&lt;/p>
&lt;p>é€‰æ‹©å¤§è§„æ ¼çš„èŠ‚ç‚¹ï¼Œè¿˜æœ‰å¦å¤–ä¸€ä¸ªå¥½å¤„ï¼šèµ„æºçš„åˆ©ç”¨ç‡ä¼šæ›´é«˜ã€‚&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/06/09/cleanshot-20210608-at-2317562x.png" alt="">&lt;/p>
&lt;p>&lt;strong>èŠ‚ç‚¹ä¸Šå¯ä»¥å®¹çº³çš„ Pod æ•°é‡ï¼Œå†³å®šäº†æ•ˆç‡çš„å³°å€¼ã€‚&lt;/strong>&lt;/p>
&lt;p>ç‰©æå¿…åï¼æ›´å¤§çš„å®ä¾‹ï¼Œå¹¶ä¸æ˜¯ä¸€ä¸ªå¥½çš„é€‰æ‹©ï¼š&lt;/p>
&lt;ol>
&lt;li>çˆ†ç‚¸åŠå¾„ï¼ˆBlast radiusï¼‰ï¼šèŠ‚ç‚¹æ•…éšœæ—¶ï¼Œå°‘èŠ‚ç‚¹çš„é›†ç¾¤å’Œå¤šèŠ‚ç‚¹çš„é›†ç¾¤ï¼Œå‰è€…å½±å“æ›´å¤§ã€‚&lt;/li>
&lt;li>è‡ªåŠ¨ç¼©æ”¾çš„æˆæœ¬æ•ˆç›Šä½ï¼šå¢åŠ ä¸€ä¸ªå¤§å®¹é‡çš„èŠ‚ç‚¹ï¼Œå…¶åˆ©ç”¨ç‡ä¼šæ¯”è¾ƒä½ï¼ˆè°ƒåº¦è¿‡å»çš„ Pod æ•°å°‘ï¼‰&lt;/li>
&lt;/ol>
&lt;p>&lt;em>å³ä½¿é€‰æ‹©äº†æ­£ç¡®è§„æ ¼çš„èŠ‚ç‚¹ï¼Œé…ç½®æ–°çš„è®¡ç®—å•å…ƒæ—¶ï¼Œå»¶è¿Ÿä»ç„¶å­˜åœ¨ã€‚æ€ä¹ˆè§£å†³ï¼Ÿ&lt;/em>&lt;/p>
&lt;p>&lt;em>èƒ½å¦æå‰åˆ›å»ºèŠ‚ç‚¹ï¼Ÿ&lt;/em>&lt;/p>
&lt;h2 id="ä¸ºé›†ç¾¤è¿‡åº¦é…ç½®èŠ‚ç‚¹">ä¸ºé›†ç¾¤è¿‡åº¦é…ç½®èŠ‚ç‚¹&lt;/h2>
&lt;p>å³ä¸ºé›†ç¾¤å¢åŠ å¤‡ç”¨èŠ‚ç‚¹ï¼Œå¯ä»¥ï¼š&lt;/p>
&lt;ol>
&lt;li>åˆ›å»ºä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¹¶ç•™ç©º ï¼ˆæ¯”å¦‚ SchedulingDisabledï¼‰&lt;/li>
&lt;li>ä¸€æ—¦ç©ºèŠ‚ç‚¹ä¸­æœ‰äº†ä¸€ä¸ª Podï¼Œé©¬ä¸Šåˆ›å»ºæ–°çš„ç©ºèŠ‚ç‚¹&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/06/09/cleanshot-20210608-at-2325582x.png" alt="">&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/06/09/cleanshot-20210608-at-2326262x.png" alt="CleanShot 2021-06-08 at 23.26.26@2x">&lt;/p>
&lt;p>&lt;strong>è¿™ç§ä¼šäº§ç”Ÿé¢å¤–çš„æˆæœ¬ï¼Œä½†æ˜¯æ•ˆç‡ä¼šæå‡ã€‚&lt;/strong>&lt;/p>
&lt;p>&lt;strong>CA å¹¶ä¸æ”¯æŒæ­¤åŠŸèƒ½ &amp;ndash; æ€»æ˜¯ä¿ç•™ä¸€ä¸ªç©ºèŠ‚ç‚¹ã€‚&lt;/strong>&lt;/p>
&lt;p>ä½†æ˜¯ï¼Œå¯ä»¥ä¼ªé€ ã€‚åˆ›å»ºä¸€ä¸ªåªå ç”¨èµ„æºï¼Œä¸ä½¿ç”¨èµ„æºçš„ Pod å ç”¨æ•´ä¸ª Node èŠ‚ç‚¹ã€‚&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/06/09/cleanshot-20210608-at-2329322x.png" alt="">&lt;/p>
&lt;p>ä¸€æ—¦æœ‰äº†çœŸæ­£çš„ Podï¼Œé©±é€å ä½çš„ Podã€‚
&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/06/09/cleanshot-20210608-at-2330332x.png" alt="">&lt;/p>
&lt;p>å¾…åå°å®Œæˆæ–°çš„èŠ‚ç‚¹é…ç½®åï¼Œå°†â€œå ä½â€ Pod å†æ¬¡å ç”¨æ•´ä¸ªèŠ‚ç‚¹ã€‚&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/06/09/cleanshot-20210608-at-2331062x.png" alt="">&lt;/p>
&lt;p>è¿™ä¸ªâ€œå ä½â€çš„ Pod å¯ä»¥é€šè¿‡æ°¸ä¹…ä¼‘çœ æ¥å®ç°ç©ºé—´çš„ä¿ç•™ã€‚&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">apps/v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Deployment&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">overprovisioning&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">replicas&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">1&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">selector&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">matchLabels&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">run&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">overprovisioning&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">labels&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">run&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">overprovisioning&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">containers&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">pause&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">k8s.gcr.io/pause&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">resources&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">requests&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">cpu&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;1739m&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">memory&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;5.9G&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ä½¿ç”¨&lt;a href="https://kubernetes.io/docs/concepts/scheduling-eviction/pod-priority-preemption/">ä¼˜å…ˆçº§å’ŒæŠ¢å &lt;/a>ï¼Œæ¥å®ç°åˆ›å»ºçœŸæ­£çš„ Pod åé©±é€â€œå ä½â€çš„ Podã€‚&lt;/p>
&lt;p>ä½¿ç”¨ &lt;code>PodPriorityClass&lt;/code> åœ¨é…ç½® Pod ä¼˜å…ˆçº§ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">scheduling.k8s.io/v1beta1&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">PriorityClass&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">overprovisioning&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>&lt;span class="nt">value&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>-&lt;span class="m">1&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c">#é»˜è®¤çš„æ˜¯ 0ï¼Œè¿™ä¸ªè¡¨ç¤ºæ¯”é»˜è®¤çš„ä½&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>&lt;span class="nt">globalDefault&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>&lt;span class="nt">description&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;Priority class used by overprovisioning.&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ä¸ºâ€œå ä½â€ Pod é…ç½®ä¼˜å…ˆçº§ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">apps/v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Deployment&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">overprovisioning&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">replicas&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">1&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">selector&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">matchLabels&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">run&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">overprovisioning&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">labels&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">run&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">overprovisioning&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">priorityClassName&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">overprovisioning&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c">#HERE&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">containers&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">reserve-resources&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">k8s.gcr.io/pause&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">resources&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">requests&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">cpu&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;1739m&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">memory&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;5.9G&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;em>å·²ç»åšå®Œè¿‡åº¦é…ç½®ï¼Œåº”ç”¨ç¨‹åºæ˜¯å¦éœ€è¦ä¼˜åŒ–ï¼Ÿ&lt;/em>&lt;/p>
&lt;h2 id="ä¸º-pod-é€‰æ‹©æ­£ç¡®çš„å†…å­˜å’Œ-cpu-è¯·æ±‚">ä¸º Pod é€‰æ‹©æ­£ç¡®çš„å†…å­˜å’Œ CPU è¯·æ±‚&lt;/h2>
&lt;p>Kubernetes æ˜¯æ ¹æ® Pod çš„å†…å­˜å’Œ CPU è¯·æ±‚ï¼Œä¸ºå…¶åˆ†é…èŠ‚ç‚¹ã€‚&lt;/p>
&lt;p>å¦‚æœ Pod çš„èµ„æºè¯·æ±‚é…ç½®ä¸æ­£ç¡®ï¼Œå¯èƒ½ä¼šè¿‡æ™šï¼ˆæˆ–è¿‡æ—©ï¼‰è§¦å‘è‡ªåŠ¨ç¼©æ”¾å™¨ã€‚&lt;/p>
&lt;p>è¿™æ ·ä¸€ä¸ªåœºæ™¯ï¼š&lt;/p>
&lt;ul>
&lt;li>åº”ç”¨ç¨‹åºå¹³å‡è´Ÿè½½ä¸‹æ¶ˆè€— 512MB å†…å­˜å’Œ 0.25 ä¸ª vCPUã€‚&lt;/li>
&lt;li>é«˜å³°æ—¶ï¼Œæ¶ˆè€— 4GB å†…å­˜ å’Œ 1 ä¸ª vCPUã€‚ï¼ˆå³èµ„æºé™åˆ¶ï¼ŒLimitï¼‰&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/06/09/cleanshot-20210608-at-2338292x.png" alt="">&lt;/p>
&lt;p>æœ‰ä¸‰ç§è¯·æ±‚çš„é…ç½®é€‰æ‹©ï¼š&lt;/p>
&lt;ol>
&lt;li>è¿œä½äºå¹³å‡ä½¿ç”¨é‡&lt;/li>
&lt;li>åŒ¹é…å¹³å‡ä½¿ç”¨é‡&lt;/li>
&lt;li>å°½é‡æ¥è¿‘é™åˆ¶&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/06/09/cleanshot-20210608-at-2344462x.png" alt="2">&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/06/09/cleanshot-20210608-at-2345002x.png" alt="2">&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/06/09/cleanshot-20210608-at-2346042x.png" alt="3">&lt;/p>
&lt;p>ç¬¬ä¸€ç§çš„é—®é¢˜åœ¨äº&lt;strong>è¶…å–ä¸¥é‡ï¼Œè¿‡åº¦ä½¿ç”¨èŠ‚ç‚¹&lt;/strong>ã€‚kubelet è´Ÿè½½é«˜ï¼Œç¨³å®šæ€§å·®ã€‚&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/06/09/cleanshot-20210608-at-2346452x.png" alt="1">&lt;/p>
&lt;p>ç¬¬ä¸‰ç§ï¼Œä¼šé€ æˆèµ„æºçš„åˆ©ç”¨ç‡ä½ï¼Œæµªè´¹èµ„æºã€‚è¿™ç§é€šå¸¸è¢«ç§°ä¸º &lt;a href="https://kubernetes.io/docs/tasks/configure-pod-container/quality-service-pod/#qos-classes">QoSï¼šQuality of Service class&lt;/a> ä¸­çš„ &lt;code>Guaranteed&lt;/code> çº§åˆ«ï¼ŒPod ä¸ä¼šè¢«ç»ˆæ­¢å’Œé©±é€ã€‚
&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/06/09/cleanshot-20210608-at-2347382x.png" alt="3">&lt;/p>
&lt;p>&lt;em>å¦‚ä½•åœ¨ç¨³å®šæ€§å’Œèµ„æºä½¿ç”¨ç‡é—´åšæƒè¡¡ï¼Ÿ&lt;/em>&lt;/p>
&lt;p>è¿™å°±æ˜¯ &lt;a href="https://kubernetes.io/docs/tasks/configure-pod-container/quality-service-pod/#qos-classes">QoSï¼šQuality of Service class&lt;/a> ä¸­çš„ &lt;code>Burstable&lt;/code> çº§åˆ«ï¼Œå³ Pod å¶å°”ä¼šä½¿ç”¨æ›´å¤šçš„å†…å­˜å’Œ CPUã€‚&lt;/p>
&lt;ol>
&lt;li>å¦‚æœèŠ‚ç‚¹ä¸­æœ‰å¯ç”¨èµ„æºï¼Œåº”ç”¨ç¨‹åºä¼šåœ¨è¿”å›åŸºçº¿ï¼ˆbaselineï¼‰å‰ä½¿ç”¨è¿™äº›èµ„æºã€‚&lt;/li>
&lt;li>å¦‚æœèµ„æºä¸è¶³ï¼ŒPod å°†ç«äº‰èµ„æºï¼ˆCPUï¼‰ï¼Œkubelet ä¹Ÿæœ‰å¯èƒ½å°è¯•é©±é€ Podï¼ˆå†…å­˜ï¼‰ã€‚&lt;/li>
&lt;/ol>
&lt;p>åœ¨ &lt;code>Guaranteed&lt;/code> å’Œ &lt;code>Burstable&lt;/code> ä¹‹å‰å¦‚ä½•åšé€‰æ‹©ï¼Ÿå–å†³äºï¼š&lt;/p>
&lt;ol>
&lt;li>æƒ³å°½é‡å‡å°‘ Pod çš„é‡æ–°è°ƒåº¦å’Œé©±é€ï¼Œåº”è¯¥æ˜¯ç”¨ &lt;code>Guaranteed&lt;/code>ã€‚&lt;/li>
&lt;li>å¦‚æœæƒ³å……åˆ†åˆ©ç”¨èµ„æºæ—¶ï¼Œä½¿ç”¨ &lt;code>Burstable&lt;/code>ã€‚æ¯”å¦‚å¼¹æ€§è¾ƒå¤§çš„æœåŠ¡ï¼ŒWeb æˆ–è€… REST æœåŠ¡ã€‚&lt;/li>
&lt;/ol>
&lt;p>&lt;em>å¦‚ä½•åšå‡ºæ­£ç¡®çš„é…ç½®ï¼Ÿ&lt;/em>&lt;/p>
&lt;p>åº”è¯¥åˆ†æåº”ç”¨ç¨‹åºï¼Œå¹¶æµ‹ç®—ç©ºé—²ã€è´Ÿè½½å’Œå³°å€¼æ—¶çš„å†…å­˜å’Œ CPU æ¶ˆè€—ã€‚&lt;/p>
&lt;p>ç”šè‡³å¯ä»¥é€šè¿‡éƒ¨ç½² VPA æ¥è‡ªåŠ¨è°ƒæ•´ã€‚&lt;/p>
&lt;h2 id="å¦‚ä½•è¿›è¡Œé›†ç¾¤ç¼©å®¹">å¦‚ä½•è¿›è¡Œé›†ç¾¤ç¼©å®¹ï¼Ÿ&lt;/h2>
&lt;p>&lt;strong>æ¯ 10 ç§’ï¼Œå½“è¯·æ±‚ï¼ˆrequestï¼‰åˆ©ç”¨ç‡ä½äº 50%æ—¶ï¼ŒCA æ‰ä¼šå†³å®šåˆ é™¤èŠ‚ç‚¹ã€‚&lt;/strong>&lt;/p>
&lt;p>CA ä¼šæ±‡æ€»åŒä¸€ä¸ªèŠ‚ç‚¹ä¸Šçš„æ‰€æœ‰ Pod çš„ CPU å’Œå†…å­˜è¯·æ±‚ã€‚å°äºèŠ‚ç‚¹å®¹é‡çš„ä¸€åŠï¼Œå°±ä¼šè€ƒè™‘å¯¹å½“å‰èŠ‚ç‚¹è¿›è¡Œç¼©å‡ã€‚&lt;/p>
&lt;blockquote>
&lt;p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒCA ä¸è€ƒè™‘å®é™…çš„ CPU å’Œå†…å­˜ä½¿ç”¨æˆ–è€…é™åˆ¶ï¼ˆlimitï¼‰ï¼Œåªçœ‹è¯·æ±‚ï¼ˆrequestï¼‰ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>ç§»é™¤èŠ‚ç‚¹ä¹‹å‰ï¼ŒCA ä¼šï¼š&lt;/p>
&lt;ol>
&lt;li>&lt;a href="https://github.com/kubernetes/autoscaler/blob/master/cluster-autoscaler/FAQ.md#what-types-of-pods-can-prevent-ca-from-removing-a-node">æ£€æŸ¥ Pod&lt;/a> ç¡®ä¿å¯ä»¥è°ƒåº¦åˆ°å…¶ä»–èŠ‚ç‚¹ä¸Šã€‚&lt;/li>
&lt;li>&lt;a href="https://github.com/kubernetes/autoscaler/blob/master/cluster-autoscaler/FAQ.md#i-have-a-couple-of-nodes-with-low-utilization-but-they-are-not-scaled-down-why">æ£€æŸ¥èŠ‚ç‚¹&lt;/a>ï¼Œé¿å…èŠ‚ç‚¹è¢«è¿‡æ—©çš„é”€æ¯ï¼Œæ¯”å¦‚ä¸¤ä¸ªèŠ‚ç‚¹çš„è¯·æ±‚éƒ½ä½äº 50%ã€‚&lt;/li>
&lt;/ol>
&lt;p>æ£€æŸ¥éƒ½é€šè¿‡ä¹‹åï¼Œæ‰ä¼šåˆ é™¤èŠ‚ç‚¹ã€‚&lt;/p>
&lt;h2 id="ä¸ºä»€ä¹ˆä¸æ ¹æ®å†…å­˜æˆ–-cpu-è¿›è¡Œè‡ªåŠ¨ç¼©æ”¾">ä¸ºä»€ä¹ˆä¸æ ¹æ®å†…å­˜æˆ– CPU è¿›è¡Œè‡ªåŠ¨ç¼©æ”¾ï¼Ÿ&lt;/h2>
&lt;p>&lt;strong>åŸºäºå†…å­˜å’Œ CPU çš„è‡ªåŠ¨ç¼©æ”¾å™¨ï¼Œä¸å…³å¿ƒ podã€‚&lt;/strong>&lt;/p>
&lt;p>æ¯”å¦‚é…ç½®ç¼©æ”¾å™¨åœ¨èŠ‚ç‚¹çš„ CPU è¾¾åˆ°æ€»é‡çš„ 80%ï¼Œå°±è‡ªåŠ¨å¢åŠ èŠ‚ç‚¹ã€‚&lt;/p>
&lt;p>å½“ä½ åˆ›å»º 3 ä¸ªå‰¯æœ¬çš„ Deploymentï¼Œ3 ä¸ªèŠ‚ç‚¹çš„ CPU è¾¾åˆ°äº† 85%ã€‚è¿™æ—¶ä¼šåˆ›å»ºä¸€ä¸ªèŠ‚ç‚¹ï¼Œä½†ä½ å¹¶ä¸éœ€è¦ç¬¬ 4 ä¸ªå‰¯æœ¬ï¼Œæ–°çš„èŠ‚ç‚¹å°±ç©ºé—²äº†ã€‚&lt;/p>
&lt;p>&lt;strong>ä¸å»ºè®®ä½¿ç”¨è¿™ç§ç±»å‹çš„è‡ªåŠ¨ç¼©æ”¾å™¨ã€‚&lt;/strong>&lt;/p>
&lt;h2 id="æ€»ç»“">æ€»ç»“&lt;/h2>
&lt;p>å®šä¹‰å’Œå®æ–½æˆåŠŸçš„æ‰©å±•ç­–ç•¥ï¼Œéœ€è¦æŒæ¡ä»¥ä¸‹å‡ ç‚¹ï¼š&lt;/p>
&lt;ul>
&lt;li>èŠ‚ç‚¹çš„å¯åˆ†é…èµ„æºã€‚&lt;/li>
&lt;li>å¾®è°ƒ Metrics Serverã€HPA å’Œ CA çš„åˆ·æ–°é—´éš”ã€‚&lt;/li>
&lt;li>è®¾è®¡é›†ç¾¤å’ŒèŠ‚ç‚¹çš„è§„æ ¼ã€‚&lt;/li>
&lt;li>ç¼“å­˜å®¹å™¨é•œåƒåˆ°èŠ‚ç‚¹ã€‚&lt;/li>
&lt;li>åº”ç”¨ç¨‹åºçš„åŸºå‡†æµ‹è¯•å’Œåˆ†æã€‚&lt;/li>
&lt;/ul>
&lt;p>é…åˆé€‚å½“çš„ç›‘æ§å·¥å…·ï¼Œå¯ä»¥åå¤æµ‹è¯•æ‰©å±•ç­–ç•¥å¹¶è°ƒæ•´é›†ç¾¤çš„ç¼©æ”¾é€Ÿåº¦å’Œæˆæœ¬ã€‚&lt;/p></description></item><item><title>äº‘ä¸Šç»†ç²’åº¦è®¿é—®ç®¡ç†çš„å‚è€ƒæ¶æ„</title><link>https://atbug.com/translation-access-management-reference-architecture/</link><pubDate>Wed, 28 Apr 2021 08:02:11 +0800</pubDate><guid>https://atbug.com/translation-access-management-reference-architecture/</guid><description>
&lt;p>æœ¬æ–‡ç”± &lt;a href="https://mp.weixin.qq.com/mp/profile_ext?action=home&amp;amp;__biz=MjM5OTg2MTM0MQ==&amp;amp;scene=124#wechat_redirect">Addo Zhang&lt;/a> ç¿»è¯‘è‡ª &lt;a href="https://www.infoq.com/articles/access-management-reference-architecture/">A Reference Architecture for Fine-Grained Access Management on the Cloud&lt;/a>&lt;/p>
&lt;h1 id="ä»€ä¹ˆæ˜¯è®¿é—®ç®¡ç†">ä»€ä¹ˆæ˜¯è®¿é—®ç®¡ç†ï¼Ÿ&lt;/h1>
&lt;p>è®¿é—®ç®¡ç†æ˜¯è¯†åˆ«ç”¨æˆ·æˆ–ä¸€ç»„ç”¨æˆ·æ˜¯å¦åº”è¯¥èƒ½å¤Ÿè®¿é—®ç»™å®šèµ„æºï¼ˆä¾‹å¦‚ä¸»æœºã€æœåŠ¡æˆ–æ•°æ®åº“ï¼‰çš„è¿‡ç¨‹ã€‚ä¾‹å¦‚ï¼Œå¯¹äºå¼€å‘äººå‘˜æ¥è¯´æ˜¯å¦å¯ä»¥ä½¿ç”¨ SSH ç™»å½•ç”Ÿäº§åº”ç”¨ç¨‹åºæœåŠ¡å™¨ï¼Œå¦‚æœå¯ä»¥ï¼Œé‚£ä¹ˆå¯ä»¥ç™»å½•å¤šé•¿æ—¶é—´ï¼Ÿå¦‚æœ SRE åœ¨éæ”¯æŒæ—¶é—´å°è¯•è®¿é—®æ•°æ®åº“ï¼Œä»–ä»¬è¿™æ ·åšï¼Ÿå¦‚æœæ•°æ®å·¥ç¨‹å¸ˆå·²è½¬ç§»åˆ°å…¶ä»–å›¢é˜Ÿï¼Œä»–ä»¬æ˜¯å¦åº”è¯¥ç»§ç»­è®¿é—® ETL ç®¡é“çš„ S3 å­˜å‚¨æ¡¶ï¼Ÿ&lt;/p>
&lt;h1 id="ç°åœ¨å¦‚ä½•è¿›è¡Œè®¿é—®ç®¡ç†">ç°åœ¨å¦‚ä½•è¿›è¡Œè®¿é—®ç®¡ç†ï¼Ÿ&lt;/h1>
&lt;p>åœ¨äº‘ä¸Šå„ç§åŸºç¡€è®¾æ–½å’Œæ•°æ®æœåŠ¡æ¿€å¢ä¹‹å‰ï¼Œè®¿é—®ç®¡ç†æ˜¯ DevOps å’Œ Security å›¢é˜Ÿè¦è§£å†³çš„ç›¸å¯¹ç®€å•çš„é—®é¢˜ã€‚VPN å’Œå ¡å’ä¸»æœºæ˜¯ï¼ˆç°åœ¨ä»ç„¶æ˜¯ï¼‰åœ¨ç½‘ç»œçº§åˆ«å°é”æ‰€æœ‰å…³é”®èµ„æºçš„é¦–é€‰æœºåˆ¶ã€‚ç”¨æˆ·å¿…é¡»å…ˆé€šè¿‡ VPN æœåŠ¡å™¨è¿›è¡Œèº«ä»½éªŒè¯ï¼Œæˆ–è€…ç™»å½•åˆ°å ¡å’ä¸»æœºï¼Œç„¶åæ‰èƒ½è®¿é—®ä¸“ç”¨ç½‘ç»œä¸Šçš„æ‰€æœ‰èµ„æºã€‚&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/04/27/16195301216852.jpg" alt="">&lt;/p>
&lt;p>å½“èµ„æºæ˜¯é™æ€çš„å¹¶ä¸”å®ƒä»¬çš„æ•°é‡ç›¸å¯¹è¾ƒå°æ—¶ï¼Œæ­¤æ–¹æ³•æ•ˆæœå¾ˆå¥½ã€‚ä½†æ˜¯ï¼Œéšç€è¶Šæ¥è¶Šå¤šçš„èµ„æºåŠ¨æ€åœ°æ¶Œå…¥ä¸“ç”¨ç½‘ç»œçš„å„å¤„ï¼ŒVPN / å ¡å’ä¸»æœºè§£å†³æ–¹æ¡ˆå˜å¾—ç«™ä¸ä½è„šã€‚&lt;/p>
&lt;p>å…·ä½“æ¥è¯´ï¼Œåœ¨ä¸‰ä¸ªæ–¹é¢ï¼ŒVPN å’Œå ¡å’ä¸»æœºä¸è¶³ä»¥ä½œä¸ºä¸€ç§æœ‰æ•ˆçš„è®¿é—®ç®¡ç†æœºåˆ¶ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;strong>å®ƒä»¬ä½œç”¨äºç½‘ç»œå±‚é¢&lt;/strong>ï¼šç”¨æˆ·é€šè¿‡ VPN è¿›è¡Œèº«ä»½éªŒè¯å¹¶è·å¾—å¯¹ä¸“ç”¨ç½‘ç»œçš„è®¿é—®æƒé™åï¼Œä»–ä»¬å®é™…ä¸Šå°±å¯ä»¥è®¿é—®å…¶ä¸Šè¿è¡Œçš„æ‰€æœ‰æœåŠ¡ã€‚æ— æ³•æ ¹æ®ç”¨æˆ·çš„èº«ä»½åœ¨åŸºç¡€æ¶æ„æˆ–æ•°æ®æœåŠ¡çš„ç²’åº¦ä¸Šç®¡ç†è®¿é—®ã€‚&lt;/li>
&lt;li>&lt;strong>å‡­æ®æ˜¯æ”»å‡»çš„åª’ä»‹&lt;/strong>ï¼šVPN å’Œå ¡å’ä¸»æœºéƒ½è¦æ±‚ç”¨æˆ·è®°ä½å¹¶å­˜å‚¨å‡­æ®ã€‚è¿‡æœŸå’Œè½®æ¢å‡­è¯ä½œä¸ºå®‰å…¨ç­–ç•¥éå¸¸å›°éš¾ï¼Œå°¤å…¶æ˜¯åœ¨æ¶‰åŠå¤§é‡ç”¨æˆ·çš„æƒ…å†µä¸‹ï¼Œå‡­è¯å› æ­¤æˆä¸ºæ½œåœ¨çš„æ”»å‡»åª’ä»‹ã€‚&lt;/li>
&lt;li>&lt;strong>ä¸èƒ½ç®¡ç†ç¬¬ä¸‰æ–¹ SaaS å·¥å…·&lt;/strong>ï¼šSaaS å·¥å…·ï¼ˆå¦‚ Lookerã€Tableau å’Œ Periscope Dataï¼‰éœ€è¦ç›´æ¥è®¿é—®æ•°æ®ç«¯ç‚¹ã€‚å› æ­¤ï¼Œä½¿ç”¨è¿™äº›å·¥å…·è®¿é—®æ•°æ®çš„ä»»ä½•äººéƒ½æ— æ³•é€šè¿‡ä½¿ç”¨äº†ç›¸åŒçš„æœºåˆ¶å’Œå‡­æ®çš„åŸºç¡€è®¾æ–½è¿›è¡Œèº«ä»½éªŒè¯ã€‚&lt;/li>
&lt;/ul>
&lt;h1 id="äº‘ä¸Šè®¿é—®ç®¡ç†çš„æ–°æ¶æ„">äº‘ä¸Šè®¿é—®ç®¡ç†çš„æ–°æ¶æ„&lt;/h1>
&lt;p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†å®šä¹‰æ–°çš„å‚è€ƒæ¶æ„ï¼Œä¸ºé‚£äº›æ­£åœ¨å¯»æ±‚ç®€åŒ–è®¿é—®ç®¡ç†äº‘èµ„æºï¼ˆä» SSH ä¸»æœºã€æ•°æ®åº“ã€æ•°æ®ä»“åº“åˆ°æ¶ˆæ¯ç®¡é“å’Œäº‘å­˜å‚¨ç»ˆç»“ç‚¹ï¼‰è§£å†³æ–¹æ¡ˆçš„äº‘åŸç”Ÿä¼ä¸šã€‚&lt;/p>
&lt;p>å®ƒè§£å†³äº† VPN å’Œå ¡å’ä¸»æœºæ— æ³•å…‹æœçš„ä»¥ä¸‹ç‰¹å®šæŒ‘æˆ˜ï¼š&lt;/p>
&lt;ul>
&lt;li>åœ¨ç»†ç²’åº¦çš„æœåŠ¡çº§åˆ«ä¸Šè¿›è¡Œè®¿é—®é‰´æƒ&lt;/li>
&lt;li>æ¶ˆé™¤å…±äº«å‡­æ®å’Œä¸ªäººå¸æˆ·ç®¡ç†&lt;/li>
&lt;li>é€šè¿‡ç¬¬ä¸‰æ–¹ SaaS å·¥å…·æ§åˆ¶è®¿é—®&lt;/li>
&lt;/ul>
&lt;p>æ­¤å¤–ï¼Œå®ƒä¸ºå…·æœ‰æ•æ„Ÿæ•°æ®çš„ç»„ç»‡å¸¦æ¥ä»¥ä¸‹å•†ä¸šåˆ©ç›Šï¼š&lt;/p>
&lt;ul>
&lt;li>é€šè¿‡è·¨æ‰€æœ‰æœåŠ¡çš„ä¼šè¯è®°å½•å’Œæ´»åŠ¨ç›‘è§†æ¥æ»¡è¶³ FedRamp å’Œ SOC2 ç­‰åˆè§„æ€§æ ‡å‡†çš„å¯å®¡æ ¸æ€§&lt;/li>
&lt;li>åŸºäºè®¿é—®è€…çš„èº«ä»½ï¼Œé€šè¿‡ç»†ç²’åº¦çš„æˆæƒç­–ç•¥æ¥é™åˆ¶æˆ–æ¸…é™¤æ•æ„Ÿæ•°æ®ï¼Œä»è€Œå®ç°éšç§å’Œæ•°æ®æ²»ç†&lt;/li>
&lt;/ul>
&lt;p>è¯¥æ¶æ„å»ºç«‹åœ¨ä»¥ä¸‹ä¸‰ä¸ªæ ¸å¿ƒåŸåˆ™çš„åŸºç¡€ä¸Šï¼Œè¿™äº›åŸåˆ™çš„å®ç°ä½¿ DevOps å’Œ Security å›¢é˜Ÿå¯ä»¥åœ¨å¯¹æ‰€æœ‰ç¯å¢ƒè¿›è¡Œå…¨é¢æ§åˆ¶çš„åŒæ—¶ï¼Œé€šè¿‡ç®€å•è€Œä¸€è‡´çš„ä½“éªŒæ¥æé«˜ç”¨æˆ·çš„å·¥ä½œæ•ˆç‡ã€‚&lt;/p>
&lt;ul>
&lt;li>ä¸ºè®¿é—®èµ„æºçš„ç”¨æˆ·å»ºç«‹ä¸å¯å¦è®¤çš„èº«ä»½&lt;/li>
&lt;li>ä½¿ç”¨çŸ­æœŸçš„çŸ­æš‚ä»¤ç‰Œå’Œè¯ä¹¦ä»£æ›¿é™æ€å‡­è¯å’Œå¯†é’¥&lt;/li>
&lt;li>åœ¨ä¸€å¤„é›†ä¸­æ‰€æœ‰èµ„æºç±»å‹çš„ç»†ç²’åº¦è®¿é—®ç­–ç•¥&lt;/li>
&lt;/ul>
&lt;p>ä¸‹å›¾æ˜¾ç¤ºäº†å‚è€ƒæ¶æ„åŠå…¶ç»„ä»¶ã€‚&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/04/27/16195323349746.jpg" alt="">&lt;/p>
&lt;p>ä¸Šå›¾ä¸­çš„ VPN / å ¡å’ä¸»æœºå·²æ›¿æ¢ä¸ºæ¥å…¥ç½‘å…³ï¼ˆAccess Gatewayï¼‰ã€‚æ¥å…¥ç½‘å…³å®é™…ä¸Šæ˜¯å¾®æœåŠ¡çš„é›†åˆï¼Œè´Ÿè´£éªŒè¯å•ä¸ªç”¨æˆ·ã€åŸºäºç‰¹å®šå±æ€§æˆæƒä»–ä»¬çš„è¯·æ±‚ï¼Œå¹¶æœ€ç»ˆæˆäºˆä»–ä»¬è®¿é—®ä¸“ç”¨ç½‘ç»œä¸­çš„åŸºç¡€ç»“æ„å’Œæ•°æ®æœåŠ¡çš„æƒé™ã€‚&lt;/p>
&lt;p>æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬çœ‹ä¸€ä¸‹å„ä¸ªç»„ä»¶ï¼Œä»¥äº†è§£ä¹‹å‰æ¦‚æ‹¬çš„æ ¸å¿ƒåŸç†æ˜¯å¦‚ä½•å®ç°çš„ã€‚&lt;/p>
&lt;h2 id="è®¿é—®æ§åˆ¶å™¨">è®¿é—®æ§åˆ¶å™¨&lt;/h2>
&lt;p>æ”¯æŒæ­¤ä½“ç³»ç»“æ„çš„å…³é”®è§è§£æ˜¯å°†ç”¨æˆ·èº«ä»½éªŒè¯å§”æ´¾ç»™å•ä¸ªæœåŠ¡ï¼ˆè®¿é—®æ§åˆ¶å™¨ï¼‰ï¼Œè€Œä¸æ˜¯å°†è´£ä»»åˆ†é…ç»™ç”¨æˆ·å¯èƒ½éœ€è¦è®¿é—®çš„æœåŠ¡ã€‚è¿™ç§è”åˆåœ¨ SaaS åº”ç”¨ç¨‹åºä¸–ç•Œä¸­å¾ˆå¸¸è§ã€‚ç”±å•ä¸€æœåŠ¡è´Ÿè´£èº«ä»½éªŒè¯ï¼Œå¯ä»¥ç®€åŒ–åº”ç”¨ç¨‹åºæ‰€æœ‰è€…çš„ç”¨æˆ·é…ç½®å’Œæ¥è§¦é…ç½®ï¼Œå¹¶åŠ å¿«åº”ç”¨ç¨‹åºå¼€å‘ã€‚&lt;/p>
&lt;p>å¯¹äºå®é™…çš„èº«ä»½éªŒè¯åºåˆ—ï¼Œè®¿é—®æ§åˆ¶å™¨æœ¬èº«é€šå¸¸ä¼šä¸èº«ä»½æä¾›å•†é›†æˆï¼Œä¾‹å¦‚ &lt;a href="https://auth0.com/">Auth0&lt;/a> æˆ– &lt;a href="https://www.okta.com/">Okta&lt;/a>ï¼Œå› æ­¤ï¼Œå¯ä»¥è·¨æä¾›è€…å’Œåè®®æä¾›æœ‰ç”¨çš„æŠ½è±¡ã€‚æœ€ç»ˆï¼Œèº«ä»½æä¾›å•†ä»¥ç­¾åçš„ SAML å£°æ˜\JWT ä»¤ç‰Œæˆ–ä¸´æ—¶è¯ä¹¦çš„å½¢å¼ä¿è¯ç”¨æˆ·çš„èº«ä»½ä¸å¯å¦è®¤ã€‚è¿™æ ·å°±æ— éœ€ä¾èµ–å—ä¿¡ä»»çš„å­ç½‘ä½œä¸ºç”¨æˆ·èº«ä»½çš„ä»£ç†ã€‚ä¸ VPN å…è®¸ç”¨æˆ·è®¿é—®ç½‘ç»œä¸Šçš„æ‰€æœ‰æœåŠ¡ä¸åŒï¼Œå®ƒè¿˜å…è®¸å°†è®¿é—®ç­–ç•¥é…ç½®åˆ°æœåŠ¡çš„ç²’åº¦ã€‚&lt;/p>
&lt;p>å°†èº«ä»½éªŒè¯å§”æ´¾ç»™èº«ä»½æä¾›è€…çš„å¦ä¸€ä¸ªå¥½å¤„æ˜¯ï¼Œå¯ä»¥ä½¿ç”¨é›¶ä¿¡ä»»åŸåˆ™å¯¹ç”¨æˆ·è¿›è¡Œèº«ä»½éªŒè¯ã€‚ å…·ä½“æ¥è¯´ï¼Œå¯ä»¥åˆ›å»ºèº«ä»½æä¾›è€…ç­–ç•¥ä»¥å¼ºåˆ¶æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š&lt;/p>
&lt;ul>
&lt;li>ç¦æ­¢ä»ä¿¡èª‰ä¸ä½³çš„åœ°ç†ä½ç½®å’Œ IP åœ°å€è®¿é—®&lt;/li>
&lt;li>ç¦æ­¢ä»å·²çŸ¥æ¼æ´çš„è®¾å¤‡ï¼ˆæœªä¿®è¡¥çš„ OSã€è¾ƒæ—§çš„æµè§ˆå™¨ç­‰ï¼‰è¿›è¡Œè®¿é—®&lt;/li>
&lt;li>æˆåŠŸè¿›è¡Œ SAML äº¤æ¢åç«‹å³è§¦å‘ MFA&lt;/li>
&lt;/ul>
&lt;h3 id="èº«ä»½éªŒè¯åºåˆ—å¦‚ä½•å·¥ä½œ">èº«ä»½éªŒè¯åºåˆ—å¦‚ä½•å·¥ä½œï¼š&lt;/h3>
&lt;ol>
&lt;li>ç”¨æˆ·é¦–å…ˆé€šè¿‡è®¿é—®æ§åˆ¶å™¨è¿›è¡Œèº«ä»½éªŒè¯ï¼Œè®¿é—®æ§åˆ¶å™¨åˆå°†èº«ä»½éªŒè¯å§”æ´¾ç»™èº«ä»½æä¾›è€…ã€‚&lt;/li>
&lt;li>æˆåŠŸç™»å½•åˆ°èº«ä»½æä¾›è€…åï¼Œè®¿é—®æ§åˆ¶å™¨å°†ç”Ÿæˆä¸€ä¸ªçŸ­æš‚çš„ä¸´æ—¶è¯ä¹¦ï¼Œè¿›è¡Œç­¾åå¹¶å°†å…¶è¿”å›ç»™ç”¨æˆ·ã€‚æˆ–è€…ï¼Œå®ƒå¯ä»¥ä»£æ›¿è¯ä¹¦ç”Ÿæˆä»¤ç‰Œã€‚åªè¦è¯ä¹¦æˆ–ä»¤ç‰Œæœ‰æ•ˆï¼Œå°±å¯ä»¥å°†å…¶ç”¨äºè¿æ¥åˆ° æ¥å…¥ç½‘å…³ç®¡ç†çš„ä»»ä½•æˆæƒåŸºç¡€è®¾æ–½æˆ–æ•°æ®æœåŠ¡ã€‚åˆ°æœŸåï¼Œå¿…é¡»è·å–æ–°çš„è¯ä¹¦æˆ–ä»¤ç‰Œã€‚&lt;/li>
&lt;li>ç”¨æˆ·å°†åœ¨æ­¥éª¤ï¼ˆ2ï¼‰ä¸­è·å¾—çš„è¯ä¹¦ä¼ é€’ç»™ä»–ä»¬é€‰æ‹©çš„å·¥å…·ï¼Œç„¶åè¿æ¥åˆ°æ¥å…¥ç½‘å…³ã€‚æ ¹æ®ç”¨æˆ·è¯·æ±‚è®¿é—®çš„æœåŠ¡ï¼ŒåŸºç¡€è®¾æ–½ç½‘å…³æˆ–æ•°æ®ç½‘å…³å°†é¦–å…ˆå…è®¸è®¿é—®æ§åˆ¶å™¨éªŒè¯ç”¨æˆ·çš„è¯ä¹¦ï¼Œç„¶åå†å…è®¸ä»–ä»¬è®¿é—®è¯¥æœåŠ¡ã€‚å› æ­¤ï¼Œè®¿é—®æ§åˆ¶å™¨å……å½“ç”¨æˆ·ä¸å…¶è®¿é—®çš„æœåŠ¡ä¹‹é—´çš„ CAï¼Œå› æ­¤ä¸ºæ¯ä¸ªç”¨æˆ·æä¾›äº†ä¸å¯å¦è®¤çš„èº«ä»½ã€‚&lt;/li>
&lt;/ol>
&lt;h2 id="ç­–ç•¥å¼•æ“">ç­–ç•¥å¼•æ“&lt;/h2>
&lt;p>å½“è®¿é—®æ§åˆ¶å™¨å¼ºåˆ¶å¯¹ç”¨æˆ·è¿›è¡Œèº«ä»½éªŒè¯æ—¶ï¼Œç­–ç•¥å¼•æ“ä¼šå¯¹ç”¨æˆ·çš„è¯·æ±‚å¼ºåˆ¶è¿›è¡Œç»†ç²’åº¦çš„æˆæƒã€‚å®ƒä»¥æ˜“äºä½¿ç”¨çš„ YAML è¯­æ³•æ¥å—æˆæƒè§„åˆ™ï¼ˆæŸ¥çœ‹æœ€åçš„ç¤ºä¾‹ï¼‰ï¼Œå¹¶æ ¹æ®ç”¨æˆ·è¯·æ±‚å’Œå“åº”å¯¹å®ƒä»¬è¿›è¡Œè¯„ä¼°ã€‚&lt;/p>
&lt;p>å¼€æ”¾ç­–ç•¥ä»£ç†ï¼ˆOPAï¼‰æ˜¯ä¸€ä¸ªå¼€æºçš„ CNCF é¡¹ç›®ï¼Œæ˜¯ç­–ç•¥å¼•æ“çš„ä¸€ä¸ªå¾ˆå¥½çš„ä¾‹å­ã€‚å®ƒå¯ä»¥è‡ªå·±ä½œä¸ºå¾®æœåŠ¡è¿è¡Œï¼Œä¹Ÿå¯ä»¥ç”¨ä½œå…¶ä»–å¾®æœåŠ¡è¿›ç¨‹ç©ºé—´ä¸­çš„åº“ã€‚OPA ä¸­çš„ç­–ç•¥ä»¥ç§°ä¸º Rego çš„è¯­è¨€ç¼–å†™ã€‚å¦å¤–ï¼Œä¹Ÿå¯ä»¥åœ¨ Rego ä¹‹ä¸Šè½»æ¾æ„å»ºä¸€ä¸ªç®€å•çš„ YAML ç•Œé¢ï¼Œä»¥ç®€åŒ–æ”¿ç­–è§„èŒƒã€‚&lt;/p>
&lt;p>å…·æœ‰ç‹¬ç«‹äºåŸºç¡€ç»“æ„å’Œæ•°æ®æœåŠ¡çš„å®‰å…¨æ¨¡å‹çš„ç‹¬ç«‹ç­–ç•¥å¼•æ“çš„ä¼˜ç‚¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;ul>
&lt;li>å¯ä»¥ä»¥ä¸æœåŠ¡å’Œä½ç½®æ— å…³çš„æ–¹å¼æŒ‡å®šå®‰å…¨ç­–ç•¥
&lt;ul>
&lt;li>ä¾‹å¦‚åœ¨æ‰€æœ‰ SSH æœåŠ¡å™¨ä¸Šç¦æ­¢ç‰¹æƒå‘½ä»¤&lt;/li>
&lt;li>ä¾‹å¦‚å¼ºåˆ¶æ‰§è¡Œ MFA æ£€æŸ¥æ‰€æœ‰æœåŠ¡ï¼ˆåŸºç¡€è®¾æ–½å’Œæ•°æ®ï¼‰&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>ç­–ç•¥å¯ä»¥ä¿å­˜åœ¨ä¸€ä¸ªåœ°æ–¹å¹¶è¿›è¡Œç‰ˆæœ¬æ§åˆ¶
&lt;ul>
&lt;li>ç­–ç•¥å¯ä»¥ä½œä¸ºä»£ç ç­¾å…¥ GitHub å­˜å‚¨åº“&lt;/li>
&lt;li>æ¯é¡¹å˜æ›´åœ¨æäº¤ä¹‹å‰éƒ½è¦ç»è¿‡åä½œå®¡æ ¸æµç¨‹&lt;/li>
&lt;li>å­˜åœ¨ç‰ˆæœ¬å†å²è®°å½•ï¼Œå¯ä»¥è½»æ¾åœ°è¿˜åŸç­–ç•¥æ›´æ”¹&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>åŸºç¡€è®¾æ–½ç½‘å…³å’Œæ•°æ®ç½‘å…³éƒ½ä¾èµ–äºç­–ç•¥å¼•æ“ï¼Œä»¥åˆ†åˆ«è¯„ä¼°ç”¨æˆ·çš„åŸºç¡€è®¾æ–½å’Œæ•°æ®æ´»åŠ¨ã€‚&lt;/p>
&lt;h2 id="åŸºç¡€è®¾æ–½ç½‘å…³">åŸºç¡€è®¾æ–½ç½‘å…³&lt;/h2>
&lt;p>åŸºç¡€è®¾æ–½ç½‘å…³ç®¡ç†å’Œç›‘æ§å¯¹åŸºç¡€è®¾æ–½æœåŠ¡çš„è®¿é—®ï¼Œä¾‹å¦‚ SSH æœåŠ¡å™¨å’Œ Kubernetes é›†ç¾¤ã€‚å®ƒä¸ç­–ç•¥å¼•æ“è¿æ¥ï¼Œä»¥ç¡®å®šç»†åŒ–çš„æˆæƒè§„åˆ™ï¼Œå¹¶åœ¨ç”¨æˆ·ä¼šè¯æœŸé—´å¯¹æ‰€æœ‰åŸºç¡€è®¾æ–½æ´»åŠ¨å¼ºåˆ¶æ‰§è¡Œè¿™äº›è§„åˆ™ã€‚ ä¸ºäº†å®ç°è´Ÿè½½å¹³è¡¡ï¼Œç½‘å…³å¯ä»¥åŒ…å«ä¸€ç»„å·¥ä½œèŠ‚ç‚¹ï¼Œå¯ä»¥åœ¨ AWS ä¸Šéƒ¨ç½²ä¸ºè‡ªåŠ¨æ‰©å±•ç»„ï¼Œä¹Ÿå¯ä»¥åœ¨ Kubernetes é›†ç¾¤ä¸Šä½œä¸ºå‰¯æœ¬é›†è¿è¡Œã€‚&lt;/p>
&lt;p>&lt;a href="https://www.boundaryproject.io/">Hashicorp è¾¹ç•Œ&lt;/a> æ˜¯åŸºç¡€è®¾æ–½ç½‘å…³çš„ç¤ºä¾‹ã€‚è¿™æ˜¯ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œä½¿å¼€å‘äººå‘˜ã€DevOps å’Œ SRE å¯ä»¥ä½¿ç”¨ç»†ç²’åº¦çš„æˆæƒæ¥å®‰å…¨åœ°è®¿é—®åŸºç¡€è®¾æ–½æœåŠ¡ï¼ˆSSH æœåŠ¡å™¨ã€Kubernetes ç¾¤é›†ï¼‰ï¼Œè€Œæ— éœ€ç›´æ¥è®¿é—®ç½‘ç»œï¼ŒåŒæ—¶åˆç¦æ­¢ä½¿ç”¨ VPN æˆ–å ¡å’ä¸»æœºã€‚&lt;/p>
&lt;p>åŸºç¡€è®¾æ–½ç½‘å…³æ”¯æŒ SSH æœåŠ¡å™¨å’Œ Kubernetes å®¢æˆ·ç«¯ä½¿ç”¨çš„å„ç§è¿æ¥åè®®ï¼Œå¹¶æä¾›ä»¥ä¸‹å…³é”®åŠŸèƒ½ï¼š&lt;/p>
&lt;h3 id="ä¼šè¯è®°å½•">ä¼šè¯è®°å½•&lt;/h3>
&lt;p>è¿™æ¶‰åŠå¤åˆ¶ç”¨æˆ·åœ¨ä¼šè¯æœŸé—´æ‰§è¡Œçš„æ¯ä¸ªå‘½ä»¤ã€‚æ•è·çš„å‘½ä»¤é€šå¸¸ä¼šé™„åŠ å…¶ä»–ä¿¡æ¯ï¼Œä¾‹å¦‚ç”¨æˆ·çš„èº«ä»½ã€ä»–ä»¬æ‰€å±çš„å„ç§èº«ä»½æä¾›è€…ç»„ã€å½“å¤©çš„æ—¶é—´ã€å‘½ä»¤çš„æŒç»­æ—¶é—´ä»¥åŠå“åº”çš„ç‰¹å¾ï¼ˆæ˜¯å¦æˆåŠŸã€æ˜¯å¦æœ‰é”™è¯¯ã€æ˜¯å¦å·²è¯»å–æˆ–å†™å…¥æ•°æ®ç­‰ï¼‰ã€‚&lt;/p>
&lt;h3 id="æ´»åŠ¨ç›‘æ§">æ´»åŠ¨ç›‘æ§&lt;/h3>
&lt;p>ç›‘æ§ä½¿ä¼šè¯è®°å½•çš„æ¦‚å¿µæ›´è¿›ä¸€æ­¥ã€‚é™¤äº†æ•è·æ‰€æœ‰å‘½ä»¤å’Œå“åº”ï¼ŒåŸºç¡€è®¾æ–½ç½‘å…³è¿˜å°†å®‰å…¨ç­–ç•¥åº”ç”¨äºç”¨æˆ·çš„æ´»åŠ¨ã€‚åœ¨å‘ç”Ÿè¿è§„çš„æƒ…å†µä¸‹ï¼Œå®ƒå¯ä»¥é€‰æ‹©è§¦å‘è­¦æŠ¥ã€é˜»æ­¢æœ‰é—®é¢˜çš„å‘½ä»¤åŠå…¶å“åº”æˆ–å®Œå…¨ç»ˆæ­¢ç”¨æˆ·çš„ä¼šè¯ã€‚&lt;/p>
&lt;h2 id="æ•°æ®ç½‘å…³">æ•°æ®ç½‘å…³&lt;/h2>
&lt;p>æ•°æ®ç½‘å…³ç®¡ç†å’Œç›‘æ§å¯¹æ•°æ®æœåŠ¡çš„è®¿é—®ï¼Œä¾‹å¦‚ MySQLã€PostgreSQL å’Œ MongoDB ç­‰æ‰˜ç®¡æ•°æ®åº“ã€AWS RDS ç­‰ DBaaS ç«¯ç‚¹ã€Snowflake å’Œ Bigquery ç­‰æ•°æ®ä»“åº“ã€AWS S3 ç­‰äº‘å­˜å‚¨ä»¥åŠ Kafka å’Œ Kinesisã€‚å®ƒä¸ç­–ç•¥å¼•æ“è¿æ¥ï¼Œä»¥ç¡®å®šç»†åŒ–çš„æˆæƒè§„åˆ™ï¼Œå¹¶åœ¨ç”¨æˆ·ä¼šè¯æœŸé—´å¯¹æ‰€æœ‰æ•°æ®æ´»åŠ¨å¼ºåˆ¶æ‰§è¡Œè¿™äº›è§„åˆ™ã€‚&lt;/p>
&lt;p>ä¸åŸºç¡€è®¾æ–½ç½‘å…³ç±»ä¼¼ï¼Œæ•°æ®ç½‘å…³å¯ä»¥åŒ…å«ä¸€ç»„å·¥ä½œèŠ‚ç‚¹ï¼Œå¯ä»¥åœ¨ AWS ä¸Šéƒ¨ç½²ä¸ºè‡ªåŠ¨æ‰©å±•ç»„ï¼Œä¹Ÿå¯ä»¥åœ¨ Kubernetes é›†ç¾¤ä¸Šä½œä¸ºå‰¯æœ¬é›†è¿è¡Œã€‚&lt;/p>
&lt;p>ç”±äºä¸åŸºç¡€è®¾æ–½æœåŠ¡ç›¸æ¯”ï¼Œæ•°æ®æœåŠ¡çš„ç§ç±»æ›´å¤šï¼Œå› æ­¤æ•°æ®ç½‘å…³é€šå¸¸å°†æ”¯æŒå¤§é‡çš„è¿æ¥åè®®å’Œè¯­æ³•ã€‚&lt;/p>
&lt;p>æ­¤ç±»æ•°æ®ç½‘å…³çš„ç¤ºä¾‹æ˜¯ &lt;a href="https://cyral.com/">Cyral&lt;/a>ï¼Œè¿™æ˜¯ä¸€ç§è½»é‡çº§çš„æ‹¦æˆªæœåŠ¡ï¼Œä»¥è¾¹è½¦ï¼ˆsidecarï¼‰çš„æ–¹å¼éƒ¨ç½²æ¥ç›‘æ§å’Œç®¡ç†å¯¹ç°ä»£æ•°æ®ç»ˆç«¯èŠ‚ç‚¹çš„è®¿é—®ï¼Œå¦‚ AWS RDSã€Snowflakeã€Bigqueryï¼Œã€AWS S3ã€Apache Kafka ç­‰ã€‚å…¶åŠŸèƒ½åŒ…æ‹¬ï¼š&lt;/p>
&lt;h3 id="ä¼šè¯è®°å½•-1">ä¼šè¯è®°å½•&lt;/h3>
&lt;p>è¿™ç±»ä¼¼äºè®°å½•åŸºç¡€è®¾æ–½æ´»åŠ¨ï¼Œå¹¶ä¸”æ¶‰åŠç”¨æˆ·åœ¨ä¼šè¯æœŸé—´æ‰§è¡Œçš„æ¯ä¸ªå‘½ä»¤çš„å‰¯æœ¬ï¼Œå¹¶ä½¿ç”¨ä¸°å¯Œçš„å®¡è®¡ä¿¡æ¯è¿›è¡Œæ³¨é‡Šã€‚&lt;/p>
&lt;h3 id="æ´»åŠ¨ç›‘æ§-1">æ´»åŠ¨ç›‘æ§&lt;/h3>
&lt;p>åŒæ ·ï¼Œè¿™ç±»ä¼¼äºç›‘è§†åŸºç¡€è®¾æ–½æ´»åŠ¨ã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹ç­–ç•¥é˜»æ­¢æ•°æ®åˆ†æäººå‘˜è¯»å–æ•æ„Ÿçš„å®¢æˆ· PIIã€‚&lt;/p>
&lt;h3 id="éšç§æƒæ‰§è¡Œ">éšç§æƒæ‰§è¡Œ&lt;/h3>
&lt;p>ä¸åŸºç¡€è®¾æ–½æœåŠ¡ä¸åŒï¼Œæ•°æ®æœåŠ¡æˆäºˆç”¨æˆ·å¯¹é€šå¸¸ä½äºæ•°æ®åº“ã€æ•°æ®ä»“åº“ã€äº‘å­˜å‚¨å’Œæ¶ˆæ¯ç®¡é“ä¸­çš„ä¸å®¢æˆ·ã€åˆä½œä¼™ä¼´å’Œç«äº‰å¯¹æ‰‹æœ‰å…³çš„æ•æ„Ÿæ•°æ®çš„è¯»å†™è®¿é—®æƒé™ã€‚ å‡ºäºéšç§åŸå› ï¼Œå¯¹æ•°æ®ç½‘å…³çš„ä¸€ä¸ªéå¸¸æ™®éçš„è¦æ±‚æ˜¯èƒ½å¤Ÿæ¸…ç†ï¼ˆä¹Ÿç§°ä¸ºä»¤ç‰ŒåŒ–æˆ–å±è”½ï¼‰PIIï¼Œä¾‹å¦‚ç”µå­é‚®ä»¶ã€å§“åã€ç¤¾ä¼šä¿é™©å·ã€ä¿¡ç”¨å¡å·å’Œåœ°å€ã€‚&lt;/p>
&lt;h2 id="é‚£ä¹ˆè¿™ç§ä½“ç³»ç»“æ„å¦‚ä½•ç®€åŒ–è®¿é—®ç®¡ç†">é‚£ä¹ˆè¿™ç§ä½“ç³»ç»“æ„å¦‚ä½•ç®€åŒ–è®¿é—®ç®¡ç†ï¼Ÿ&lt;/h2>
&lt;p>è®©æˆ‘ä»¬çœ‹ä¸€äº›å¸¸è§çš„è®¿é—®ç®¡ç†æ–¹æ¡ˆï¼Œä»¥äº†è§£ä¸ä½¿ç”¨ VPN å’Œå ¡å’ä¸»æœºç›¸æ¯”ï¼Œæ¥å…¥ç½‘å…³æ¶æ„å¦‚ä½•æä¾›ç»†ç²’åº¦çš„æ§åˆ¶ã€‚&lt;/p>
&lt;h2 id="ç‰¹æƒæ´»åŠ¨ç›‘æ§pam">ç‰¹æƒæ´»åŠ¨ç›‘æ§ï¼ˆPAMï¼‰&lt;/h2>
&lt;p>è¿™æ˜¯ä¸€ä¸ªç®€å•çš„ç­–ç•¥ï¼Œå¯ä»¥åœ¨ä¸€ä¸ªåœ°æ–¹ç›‘è§†æ‰€æœ‰åŸºç¡€è®¾æ–½å’Œæ•°æ®æœåŠ¡ä¸­çš„ç‰¹æƒæ´»åŠ¨ï¼š&lt;/p>
&lt;ul>
&lt;li>ä»…å…è®¸å±äº Admins å’Œ SRE ç»„çš„ä¸ªäººåœ¨ SSH æœåŠ¡å™¨ã€Kubernetes é›†ç¾¤å’Œæ•°æ®åº“ä¸Šè¿è¡Œç‰¹æƒå‘½ä»¤ã€‚&lt;/li>
&lt;li>è™½ç„¶å¯ä»¥è¿è¡Œç‰¹æƒå‘½ä»¤ï¼Œä½†æ˜¯æœ‰ä¸€äº›ä¾‹å¤–å½¢å¼çš„é™åˆ¶ã€‚å…·ä½“æ¥è¯´ï¼Œä»¥ä¸‹å‘½ä»¤æ˜¯ä¸å…è®¸çš„ï¼š
&lt;ul>
&lt;li>â€œsudoâ€ å’Œ â€œyumâ€ å‘½ä»¤å¯èƒ½æ— æ³•åœ¨ä»»ä½• SSH æœåŠ¡å™¨ä¸Šè¿è¡Œ&lt;/li>
&lt;li>â€œkubectl deleteâ€ å’Œ â€œkubectl taintâ€ å‘½ä»¤å¯èƒ½æ— æ³•åœ¨ä»»ä½• Kubernetes é›†ç¾¤ä¸Šè¿è¡Œ&lt;/li>
&lt;li>â€œdrop tableâ€ å’Œ â€œcreate userâ€ å‘½ä»¤å¯èƒ½æ— æ³•åœ¨ä»»ä½•æ•°æ®åº“ä¸Šè¿è¡Œ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/04/27/16195354276750.jpg" alt="">&lt;/p>
&lt;h2 id="é›¶ç‰¹æƒzspæ‰§è¡Œ">é›¶ç‰¹æƒï¼ˆZSPï¼‰æ‰§è¡Œ&lt;/h2>
&lt;p>The next policy shows an example of enforcing zero standing privileges &amp;ndash; a paradigm where no one has access to an infrastructure or data service by default. Access may be obtained only upon satisfying one or more qualifying criteria:&lt;/p>
&lt;ul>
&lt;li>Only individuals belonging to the Support group are allowed access&lt;/li>
&lt;li>An individual must be on-call to gain access. On call status may be determined by checking their schedule in an incident response service such as PagerDuty&lt;/li>
&lt;li>A multi-factor authentication (MFA) check is triggered upon successful authentication&lt;/li>
&lt;li>They must use TLS to connect to the infrastructure or data service&lt;/li>
&lt;li>Lastly, if a data service is being accessed, full table scans (e.g. SQL requests lacking a WHERE or a LIMIT clause that end up reading an entire dataset) are disallowed.&lt;/li>
&lt;/ul>
&lt;p>ä¸‹ä¸€ä¸ªç­–ç•¥æ˜¾ç¤ºäº†ä¸€ä¸ªå®æ–½é›¶ç‰¹æƒçš„ç¤ºä¾‹ &amp;ndash; ä¸€ç§é»˜è®¤æƒ…å†µä¸‹æ²¡æœ‰äººå¯ä»¥è®¿é—®åŸºç¡€è®¾æ–½æˆ–æ•°æ®æœåŠ¡çš„èŒƒä¾‹ã€‚åªæœ‰æ»¡è¶³ä¸€ä¸ªæˆ–å¤šä¸ªåˆæ ¼æ ‡å‡†ï¼Œæ‰èƒ½è·å¾—è®¿é—®æƒé™ï¼š&lt;/p>
&lt;ul>
&lt;li>åªå…è®¸å±äºæ”¯æŒç»„çš„ä¸ªäººè®¿é—®&lt;/li>
&lt;li>ä¸ªäººå¿…é¡» on-call æ‰èƒ½è·å¾—è®¿é—®æƒé™ã€‚å¯ä»¥é€šè¿‡æ£€æŸ¥äº‹ä»¶å“åº”æœåŠ¡ï¼ˆä¾‹å¦‚ PagerDutyï¼‰ä¸­çš„æ—¶é—´è¡¨æ¥ç¡®å®šé€šè¯çŠ¶æ€&lt;/li>
&lt;li>æˆåŠŸé€šè¿‡èº«ä»½éªŒè¯åä¼šè§¦å‘å¤šå› å­èº«ä»½éªŒè¯ï¼ˆMFAï¼‰æ£€æŸ¥&lt;/li>
&lt;li>ä»–ä»¬å¿…é¡»ä½¿ç”¨ TLS è¿æ¥åˆ°åŸºç¡€è®¾æ–½æˆ–æ•°æ®æœåŠ¡&lt;/li>
&lt;li>æœ€åï¼Œå¦‚æœæ­£åœ¨è®¿é—®æ•°æ®æœåŠ¡ï¼Œåˆ™ä¸å…è®¸è¿›è¡Œå…¨è¡¨æ‰«æï¼ˆä¾‹å¦‚ï¼Œç¼ºå°‘ WHERE æˆ– LIMIT å­å¥çš„ SQL è¯·æ±‚æœ€ç»ˆå°†è¯»å–æ•´ä¸ªæ•°æ®é›†ï¼‰ã€‚&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/04/27/16195356881012.jpg" alt="">&lt;/p>
&lt;h2 id="éšç§å’Œæ•°æ®ä¿æŠ¤">éšç§å’Œæ•°æ®ä¿æŠ¤&lt;/h2>
&lt;p>The last policy shows an example of data governance involving data scrubbing:&lt;/p>
&lt;ul>
&lt;li>If anyone from Marketing is accessing PII (social security number (SSN), credit card number (CCN), age), scrub the data before returning&lt;/li>
&lt;li>If anyone is accessing PII using the Looker or Tableau services, also scrub the data&lt;/li>
&lt;li>Scrubbing rules are defined by the specific type of the PII
&lt;ul>
&lt;li>For SSNs, scrub the first 5 digits&lt;/li>
&lt;li>For CCNs, scrub the lastÂ Â 4 digits&lt;/li>
&lt;li>For ages, scrub the last digit i.e., the requestor will know the age brackets but never the actual ages&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>æœ€åä¸€æ¡ç­–ç•¥æ˜¾ç¤ºäº†æ¶‰åŠæ•°æ®æ¸…ç†çš„æ•°æ®æ²»ç†ç¤ºä¾‹ï¼š&lt;/p>
&lt;ul>
&lt;li>å¦‚æœå¸‚åœºè¥é”€äººå‘˜æ­£åœ¨è®¿é—® PIIï¼ˆç¤¾ä¼šä¿é™©å·ï¼ˆSSNï¼‰ã€ä¿¡ç”¨å¡å·ï¼ˆCCNï¼‰ã€å¹´é¾„ï¼‰ï¼Œå…ˆæ¸…æ´—æ•°æ®ç„¶åå†è¿”å›&lt;/li>
&lt;li>å¦‚æœæœ‰äººæ­£åœ¨ä½¿ç”¨ Looker æˆ– Tableau æœåŠ¡è®¿é—® PIIï¼ŒåŒæ—¶æ¸…æ´—æ•°æ®&lt;/li>
&lt;li>æ¸…ç†è§„åˆ™ç”± PII çš„ç‰¹å®šç±»å‹å®šä¹‰
&lt;ul>
&lt;li>å¯¹äº SSNï¼Œæ¸…æ´—å‰ 5 ä½æ•°å­—&lt;/li>
&lt;li>å¯¹äº CCNï¼Œæ¸…æ´—æœ€å 4 ä½æ•°å­—&lt;/li>
&lt;li>å¯¹äºå¹´é¾„ï¼Œè¯·æ¸…æ´—æœ€åä¸€ä½æ•°å­—ï¼Œå³è¯·æ±‚è€…å°†çŸ¥é“å¹´é¾„æ®µï¼Œä½†ä»ä¸çŸ¥é“å®é™…å¹´é¾„&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/04/27/16195358881245.jpg" alt="">&lt;/p>
&lt;h2 id="æ¦‚æ‹¬">æ¦‚æ‹¬&lt;/h2>
&lt;p>æˆ‘ä»¬çœ‹åˆ°ï¼Œå¯¹äºé«˜åº¦åŠ¨æ€çš„äº‘ç¯å¢ƒï¼ŒVPN å’Œå ¡å’ä¸»æœºä¸è¶³ä»¥ä½œä¸ºé«˜æ•ˆäº‘ç¯å¢ƒä¸­çš„æœ‰æ•ˆè®¿é—®ç®¡ç†æœºåˆ¶ã€‚ä¸€ç§æ–°çš„è®¿é—®ç®¡ç†ä½“ç³»ç»“æ„ï¼Œå…¶é‡ç‚¹æ˜¯ä¸å¯å¦è®¤çš„ç”¨æˆ·èº«ä»½ï¼ŒçŸ­æš‚çš„è¯ä¹¦æˆ–ä»¤ç‰Œä»¥åŠé›†ä¸­çš„ç»†ç²’åº¦æˆæƒå¼•æ“ï¼Œå¯æœ‰æ•ˆè§£å†³ VPN å’Œå ¡å’ä¸»æœºæ— æ³•è§£å†³çš„éš¾é¢˜ã€‚é™¤äº†ä¸ºè®¿é—®å…³é”®åŸºç¡€è®¾æ–½å’Œæ•°æ®æœåŠ¡çš„ç”¨æˆ·æä¾›å…¨é¢çš„å®‰å…¨æ€§ä¹‹å¤–ï¼Œè¯¥ä½“ç³»ç»“æ„è¿˜å¯ä»¥å¸®åŠ©ç»„ç»‡å®ç°å…¶å®¡æ ¸ã€åˆè§„æ€§ã€éšç§å’Œä¿æŠ¤ç›®æ ‡ã€‚&lt;/p>
&lt;p>æˆ‘ä»¬è¿˜è®¨è®ºäº†è¯¥æ¶æ„çš„å‚è€ƒå®ç°ï¼Œå…¶ä¸­ä½¿ç”¨äº†ä»¥å¼€å‘äººå‘˜ä¸ºä¸­å¿ƒçš„è‘—åå¼€æºè§£å†³æ–¹æ¡ˆï¼Œä¾‹å¦‚ Hashicorp Boundary å’Œ OPA ä»¥åŠ Cyralï¼ˆä¸€ç§ç”¨äºç°ä»£æ•°æ®æœåŠ¡çš„å¿«é€Ÿä¸”æ— çŠ¶æ€çš„è¾…åŠ©å·¥å…·ï¼‰ã€‚ ä»–ä»¬ä¸€èµ·å¯ä»¥åœ¨äº‘ä¸Šæä¾›ç»†ç²’åº¦ä¸”æ˜“äºä½¿ç”¨çš„è®¿é—®ç®¡ç†è§£å†³æ–¹æ¡ˆã€‚&lt;/p>
&lt;h2 id="å…³äºä½œè€…">å…³äºä½œè€…&lt;/h2>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/04/27/16195361264391.jpg" alt="">&lt;/p>
&lt;p>&lt;strong>Manav Mital&lt;/strong> æ˜¯ Cyral çš„è”åˆåˆ›å§‹äººå…¼é¦–å¸­æ‰§è¡Œå®˜ï¼ŒCyral æ˜¯é¦–ä¸ªä¸ºæ•°æ®äº‘æä¾›å¯è§æ€§ã€è®¿é—®æ§åˆ¶å’Œä¿æŠ¤çš„äº‘åŸç”Ÿå®‰å…¨æœåŠ¡ã€‚Cyral æˆç«‹äº 2018 å¹´ï¼Œä¸å„ç§ç»„ç»‡åˆä½œ - ä»äº‘åŸç”Ÿåˆåˆ›ä¼ä¸šåˆ°è´¢å¯Œ 500 å¼ºä¼ä¸šï¼Œå› ä¸ºå®ƒä»¬é‡‡ç”¨ DevOps æ–‡åŒ–å’Œäº‘æŠ€æœ¯æ¥ç®¡ç†å’Œåˆ†ææ•°æ®ã€‚ Manav æ‹¥æœ‰ UCLA çš„è®¡ç®—æœºç§‘å­¦ç¡•å£«å­¦ä½å’Œåæ™®å°”çš„å°åº¦ç†å·¥å­¦é™¢çš„è®¡ç®—æœºç§‘å­¦å­¦å£«å­¦ä½ã€‚&lt;/p>
&lt;h2 id="å…³äºè¯‘è€…">å…³äºè¯‘è€…&lt;/h2>
&lt;p>&lt;strong>Addo Zhang&lt;/strong> äº‘åŸç”Ÿä»ä¸šäººå‘˜ï¼Œçˆ±å¥½å„ç§ä»£ç ã€‚æ›´å¤šç¿»è¯‘ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://mp.weixin.qq.com/s/beRHn9l2K4eiS8M1IevcRA">åˆ†å¸ƒå¼ç³»ç»Ÿåœ¨ Kubernetes ä¸Šçš„è¿›åŒ–&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://mp.weixin.qq.com/s/V6lO9sT_6hJVled9sOI4IA">2021 å¹´åŠæœªæ¥çš„äº‘åŸç”Ÿé¢„æµ‹&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://mp.weixin.qq.com/s/mw9LhDPiTyooUAXAoKHwTA">åº”ç”¨æ¶æ„ï¼šä¸ºä»€ä¹ˆè¦éšç€å¸‚åœºæ¼”è¿›&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>åˆ†å¸ƒå¼ç³»ç»Ÿåœ¨ Kubernetes ä¸Šçš„è¿›åŒ–</title><link>https://atbug.com/translation-distributed-systems-kubernetes/</link><pubDate>Mon, 29 Mar 2021 23:11:25 +0800</pubDate><guid>https://atbug.com/translation-distributed-systems-kubernetes/</guid><description>
&lt;p>æœ¬æ–‡è¯‘è‡ª &lt;a href="https://www.infoq.com/articles/distributed-systems-kubernetes/">The Evolution of Distributed Systems on Kubernetes&lt;/a>&lt;/p>
&lt;p>åœ¨ 3 æœˆä»½çš„ QCon ä¸Šï¼Œæˆ‘åšäº†ä¸€ä¸ªå…³äº Kubernetes çš„åˆ†å¸ƒå¼ç³»ç»Ÿè¿›åŒ–çš„æ¼”è®²ã€‚é¦–å…ˆï¼Œæˆ‘æƒ³å…ˆé—®ä¸€ä¸ªé—®é¢˜ï¼Œå¾®æœåŠ¡ä¹‹åæ˜¯ä»€ä¹ˆï¼Ÿæˆ‘ç›¸ä¿¡å¤§å®¶éƒ½æœ‰å„è‡ªçš„ç­”æ¡ˆï¼Œæˆ‘ä¹Ÿæœ‰æˆ‘çš„ç­”æ¡ˆã€‚ä½ ä¼šåœ¨æœ€åå‘ç°æˆ‘çš„æƒ³æ³•æ˜¯ä»€ä¹ˆã€‚ä¸ºäº†è¾¾åˆ°è¿™ä¸ªç›®çš„ï¼Œæˆ‘å»ºè®®å¤§å®¶çœ‹çœ‹åˆ†å¸ƒå¼ç³»ç»Ÿçš„éœ€æ±‚æ˜¯ä»€ä¹ˆï¼Ÿä»¥åŠè¿™äº›éœ€æ±‚åœ¨è¿‡å»æ˜¯å¦‚ä½•å‘å±•çš„ï¼Œä»å•ä½“åº”ç”¨å¼€å§‹åˆ° Kubernetesï¼Œå†åˆ°æœ€è¿‘çš„ Daprã€Istioã€Knative ç­‰é¡¹ç›®ï¼Œå®ƒä»¬æ˜¯å¦‚ä½•æ”¹å˜æˆ‘ä»¬åšåˆ†å¸ƒå¼ç³»ç»Ÿçš„æ–¹å¼ã€‚æˆ‘ä»¬å°†å°è¯•å¯¹æœªæ¥åšä¸€äº›é¢„æµ‹ã€‚&lt;/p>
&lt;h2 id="ç°ä»£åˆ†å¸ƒå¼åº”ç”¨">ç°ä»£åˆ†å¸ƒå¼åº”ç”¨&lt;/h2>
&lt;p>ä¸ºäº†ç»™è¿™ä¸ªè¯é¢˜æä¾›æ›´å¤šçš„èƒŒæ™¯ä¿¡æ¯ï¼Œæˆ‘è®¤ä¸ºçš„åˆ†å¸ƒå¼ç³»ç»Ÿæ˜¯ç”±æ•°ç™¾ä¸ªç»„ä»¶ç»„æˆçš„ç³»ç»Ÿã€‚è¿™äº›ç»„ä»¶å¯ä»¥æ˜¯æœ‰çŠ¶æ€çš„ã€æ— çŠ¶æ€çš„æˆ–è€…æ— æœåŠ¡å™¨çš„ã€‚æ­¤å¤–ï¼Œè¿™äº›ç»„ä»¶å¯ä»¥ç”¨ä¸åŒçš„è¯­è¨€åˆ›å»ºï¼Œè¿è¡Œåœ¨æ··åˆç¯å¢ƒä¸Šï¼Œå¹¶å¼€å‘å¼€æºæŠ€æœ¯ã€å¼€æ”¾æ ‡å‡†å’Œäº’æ“ä½œæ€§ã€‚æˆ‘ç›¸ä¿¡ä½ å¯ä»¥ä½¿ç”¨é—­æºè½¯ä»¶æ¥æ„å»ºè¿™æ ·çš„ç³»ç»Ÿï¼Œä¹Ÿå¯ä»¥åœ¨ AWS å’Œå…¶ä»–åœ°æ–¹æ„å»ºã€‚å…·ä½“åˆ°è¿™æ¬¡æ¼”è®²ï¼Œæˆ‘å°†å…³æ³¨ Kubernetes ç”Ÿæ€ç³»ç»Ÿï¼Œä»¥åŠä½ å¦‚ä½•åœ¨ Kubernetes å¹³å°ä¸Šæ„å»ºè¿™æ ·ä¸€ä¸ªç³»ç»Ÿã€‚&lt;/p>
&lt;p>æˆ‘ä»¬ä»åˆ†å¸ƒå¼ç³»ç»Ÿçš„éœ€æ±‚è®²èµ·ã€‚æˆ‘è®¤ä¸ºæ˜¯æˆ‘ä»¬è¦åˆ›å»ºä¸€ä¸ªåº”ç”¨æˆ–è€…æœåŠ¡ï¼Œå¹¶å†™ä¸€äº›ä¸šåŠ¡é€»è¾‘ã€‚é‚£ä»è¿è¡Œæ—¶çš„å¹³å°åˆ°æ„å»ºåˆ†å¸ƒå¼ç³»ç»Ÿï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä»€ä¹ˆå‘¢ï¼Ÿåœ¨åº•å±‚ï¼Œæœ€å¼€å§‹æ˜¯æˆ‘ä»¬è¦ä¸€äº›ç”Ÿå‘½å‘¨æœŸçš„èƒ½åŠ›ã€‚å½“ä½ ç”¨ä»»ä¸€è¯­è¨€å¼€å‘ä½ çš„åº”ç”¨æ—¶ï¼Œæˆ‘ä»¬å¸Œæœ›æœ‰èƒ½åŠ›æŠŠè¿™ä¸ªåº”ç”¨å¯é åœ°æ‰“åŒ…å’Œéƒ¨ç½²ã€å›æ»šã€å¥åº·æ£€æŸ¥ã€‚å¹¶ä¸”èƒ½å¤ŸæŠŠåº”ç”¨éƒ¨ç½²åˆ°ä¸åŒçš„èŠ‚ç‚¹ä¸Šï¼Œå¹¶å®ç°èµ„æºéš”ç¦»ã€æ‰©å±•ã€é…ç½®ç®¡ç†ï¼Œä»¥åŠæ‰€æœ‰è¿™äº›ã€‚è¿™äº›éƒ½æ˜¯ä½ åˆ›å»ºåˆ†å¸ƒå¼åº”ç”¨æ‰€éœ€è¦çš„ç¬¬ä¸€ç‚¹ã€‚&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/03/30/55image0011616431697020.jpg" alt="">&lt;/p>
&lt;p>ç¬¬äºŒç‚¹æ˜¯å›´ç»•ç½‘ç»œã€‚æˆ‘ä»¬æœ‰äº†åº”ç”¨ä¹‹åï¼Œæˆ‘ä»¬å¸Œæœ›å®ƒèƒ½å¤Ÿå¯é åœ°è¿æ¥åˆ°å…¶ä»–æœåŠ¡ï¼Œæ— è®ºè¯¥æœåŠ¡æ˜¯åœ¨é›†ç¾¤å†…éƒ¨è¿˜æ˜¯åœ¨å¤–éƒ¨ã€‚æˆ‘ä»¬å¸Œæœ›å…¶å…·æœ‰æœåŠ¡å‘ç°ã€è´Ÿè½½å‡è¡¡çš„èƒ½åŠ›ã€‚ä¸ºäº†ä¸åŒçš„å‘å¸ƒç­–ç•¥æˆ–æ˜¯å…¶ä»–çš„ä¸€äº›åŸå› çš„æˆ‘ä»¬å¸Œæœ›æœ‰æµé‡è½¬ç§»çš„èƒ½åŠ›ã€‚ç„¶åæˆ‘ä»¬è¿˜å¸Œæœ›å…¶å…·æœ‰ä¸å…¶ä»–ç³»ç»Ÿè¿›è¡Œå¼¹æ€§é€šä¿¡çš„èƒ½åŠ›ï¼Œæ— è®ºæ˜¯é€šè¿‡é‡è¯•ã€è¶…æ—¶è¿˜æ˜¯æ–­è·¯å™¨ã€‚è¦æœ‰é€‚å½“çš„å®‰å…¨ä¿éšœï¼Œå¹¶ä¸”è¦æœ‰è¶³å¤Ÿçš„ç›‘æ§ã€è¿½è¸ªã€å¯è§‚å¯Ÿæ€§ç­‰ç­‰ã€‚&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/03/30/25image0021616431698392.jpg" alt="">&lt;/p>
&lt;p>æˆ‘ä»¬æœ‰äº†ç½‘ç»œä¹‹åï¼Œæ¥ä¸‹æ¥å°±æ˜¯æˆ‘ä»¬å¸Œæœ›æœ‰èƒ½åŠ›ä¸ä¸åŒçš„ API å’Œç«¯ç‚¹äº¤äº’ï¼Œå³èµ„æºç»‘å®š&amp;ndash;ä¸å…¶ä»–åè®®å’Œä¸åŒçš„æ•°æ®æ ¼å¼äº¤äº’ã€‚ç”šè‡³èƒ½å¤Ÿä»ä¸€ç§æ•°æ®æ ¼å¼è½¬æ¢æˆå¦ä¸€ç§æ•°æ®æ ¼å¼ã€‚æˆ‘è¿˜ä¼šåœ¨è¿™é‡ŒåŠ å…¥è¯¸å¦‚æ»¤å…‰çš„åŠŸèƒ½ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå½“æˆ‘ä»¬è®¢é˜…ä¸€ä¸ªä¸»é¢˜æ—¶ï¼Œæˆ‘ä»¬ä¹Ÿè®¸åªå¯¹æŸäº›äº‹ä»¶æ„Ÿå…´è¶£ã€‚&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/03/30/45image0031616431697873.jpg" alt="">&lt;/p>
&lt;p>ä½ è®¤ä¸ºæœ€åä¸€ç±»æ˜¯ä»€ä¹ˆï¼Ÿæ˜¯çŠ¶æ€ã€‚å½“æˆ‘åœ¨è¯´çŠ¶æ€å’Œæœ‰çŠ¶æ€çš„æŠ½è±¡æ—¶ï¼Œæˆ‘å¹¶ä¸æ˜¯åœ¨è°ˆè®ºå®é™…çš„çŠ¶æ€ç®¡ç†ï¼Œæ¯”å¦‚æ•°æ®åº“æˆ–è€…æ–‡ä»¶ç³»ç»Ÿçš„åŠŸèƒ½ã€‚æˆ‘è¦è¯´çš„æ›´å¤šæ˜¯æœ‰å…³å¹•åä¾èµ–çŠ¶æ€çš„å¼€å‘äººå‘˜æŠ½è±¡ã€‚å¯èƒ½ï¼Œä½ éœ€è¦å…·æœ‰å·¥ä½œæµç®¡ç†çš„èƒ½åŠ›ã€‚ä¹Ÿè®¸ä½ æƒ³ç®¡ç†è¿è¡Œæ—¶é—´é•¿çš„è¿›ç¨‹æˆ–è€…åšä¸´æ—¶è°ƒåº¦æˆ–è€…æŸäº›å®šæ—¶ä»»åŠ¡æ¥å®šæœŸè¿è¡ŒæœåŠ¡ã€‚ä¹Ÿè®¸ä½ è¿˜æƒ³è¿›è¡Œåˆ†å¸ƒå¼ç¼“å­˜ï¼Œå…·æœ‰å¹‚ç­‰æ€§æˆ–è€…æ”¯æŒå›æ»šã€‚æ‰€æœ‰è¿™äº›éƒ½æ˜¯å¼€å‘äººå‘˜çº§çš„åŸè¯­ï¼Œä½†åœ¨å¹•åï¼Œå®ƒä»¬ä¾èµ–äºå…·æœ‰æŸç§çŠ¶æ€ã€‚ä½ æƒ³éšæ„ä½¿ç”¨è¿™äº›æŠ½è±¡ä¿©åˆ›å»ºå®Œå–„çš„åˆ†å¸ƒå¼ç³»ç»Ÿã€‚&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/03/30/26image0041616431697348.jpg" alt="">&lt;/p>
&lt;p>æˆ‘ä»¬å°†ä½¿ç”¨è¿™ä¸ªåˆ†å¸ƒå¼ç³»ç»ŸåŸè¯­çš„æ¡†æ¶æ¥è¯„ä¼°å®ƒä»¬åœ¨ Kubernetes å’Œå…¶ä»–é¡¹ç›®ä¸Šçš„å˜åŒ–æƒ…å†µã€‚&lt;/p>
&lt;h2 id="å•ä½“æ¶æ„----ä¼ ç»Ÿä¸­é—´ä»¶åŠŸèƒ½">å•ä½“æ¶æ„ &amp;ndash; ä¼ ç»Ÿä¸­é—´ä»¶åŠŸèƒ½&lt;/h2>
&lt;p>å‡è®¾æˆ‘ä»¬ä»å•ä½“æ¶æ„ä»¥åŠå¦‚ä½•è·å¾—è¿™äº›èƒ½åŠ›å¼€å§‹ã€‚åœ¨é‚£ç§æƒ…å†µä¸‹ï¼Œé¦–å…ˆæ˜¯å½“æˆ‘è¯´å•ä½“çš„æ—¶å€™ï¼Œåœ¨åˆ†å¸ƒå¼åº”ç”¨çš„æƒ…å†µä¸‹æˆ‘æƒ³åˆ°çš„æ˜¯ ESBã€‚ESB æ˜¯ç›¸å½“å¼ºå¤§çš„ï¼Œå½“æˆ‘ä»¬æ£€æŸ¥æˆ‘ä»¬çš„éœ€æ±‚åˆ—è¡¨æ—¶ï¼Œæˆ‘ä»¬ä¼šè¯´ ESB å¯¹æ‰€æœ‰æœ‰çŠ¶æ€çš„æŠ½è±¡æœ‰å¾ˆå¥½çš„æ”¯æŒã€‚&lt;/p>
&lt;p>ä½¿ç”¨ ESBï¼Œä½ å¯ä»¥è¿›è¡Œé•¿æ—¶é—´è¿è¡Œçš„æµç¨‹çš„ç¼–æ’ã€åˆ†å¸ƒå¼äº‹åŠ¡ã€å›æ»šå’Œå¹‚ç­‰ã€‚æ­¤å¤–ï¼ŒESB è¿˜æä¾›äº†å‡ºè‰²çš„èµ„æºç»‘å®šèƒ½åŠ›ï¼Œå¹¶ä¸”æœ‰æ•°ç™¾ä¸ªè¿æ¥å™¨ï¼Œæ”¯æŒè½¬æ¢ã€ç¼–æ’ï¼Œç”šè‡³æœ‰è”ç½‘åŠŸèƒ½ã€‚æœ€åï¼ŒESB ç”šè‡³å¯ä»¥åšæœåŠ¡å‘ç°å’Œè´Ÿè½½å‡è¡¡ã€‚&lt;/p>
&lt;p>å®ƒå…·æœ‰å›´ç»•ç½‘ç»œè¿æ¥çš„å¼¹æ€§çš„æ‰€æœ‰åŠŸèƒ½ï¼Œå› æ­¤å®ƒå¯ä»¥è¿›è¡Œé‡è¯•ã€‚å¯èƒ½ ESB æœ¬è´¨ä¸Šä¸æ˜¯å¾ˆåˆ†å¸ƒå¼ï¼Œæ‰€ä»¥å®ƒä¸éœ€è¦éå¸¸é«˜çº§çš„ç½‘ç»œå’Œå‘å¸ƒèƒ½åŠ›ã€‚ESB æ¬ ç¼ºçš„ä¸»è¦æ˜¯ç”Ÿå‘½å‘¨æœŸç®¡ç†ã€‚å› ä¸ºå®ƒæ˜¯å•ä¸€è¿è¡Œæ—¶ï¼Œæ‰€ä»¥ç¬¬ä¸€ä»¶äº‹å°±æ˜¯ä½ åªèƒ½ä½¿ç”¨ä¸€ç§è¯­è¨€ã€‚é€šå¸¸æ˜¯åˆ›å»ºå®é™…è¿è¡Œæ—¶çš„è¯­è¨€ï¼ŒJavaã€.NETã€æˆ–è€…å…¶ä»–çš„è¯­è¨€ã€‚ç„¶åï¼Œå› ä¸ºæ˜¯å•ä¸€è¿è¡Œæ—¶ï¼Œæˆ‘ä»¬ä¸èƒ½è½»æ¾åœ°è¿›è¡Œå£°æ˜å¼çš„éƒ¨ç½²æˆ–è€…è‡ªåŠ¨é˜²æ­¢ã€‚éƒ¨ç½²æ˜¯ç›¸å½“å¤§ä¸”éå¸¸é‡çš„ï¼Œæ‰€ä»¥å®ƒé€šå¸¸æ¶‰åŠåˆ°äººæœºäº¤äº’ã€‚è¿™ç§å•ä½“æ¶æ„çš„å¦ä¸€ä¸ªéš¾ç‚¹æ˜¯æ‰©å±•ï¼šâ€œæˆ‘ä»¬æ— æ³•æ‰©å±•å•ä¸ªç»„ä»¶ã€‚â€&lt;/p>
&lt;p>æœ€åå´å¹¶éæœ€ä¸é‡è¦çš„ä¸€ç‚¹æ˜¯ï¼Œå›´ç»•éš”ç¦»ï¼Œæ— è®ºæ˜¯èµ„æºéš”ç¦»è¿˜æ˜¯æ•…éšœéš”ç¦»ã€‚ä½¿ç”¨å•ä½“æ¶æ„æ— æ³•å®Œæˆæ‰€æœ‰è¿™äº›å·¥ä½œã€‚ä»æˆ‘ä»¬çš„éœ€æ±‚æ¡†æ¶æ¥çœ‹ï¼ŒESB çš„å•ä½“æ¶æ„ä¸ç¬¦åˆæ¡ä»¶ã€‚&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/03/30/40image0051616431696438.jpg" alt="">&lt;/p>
&lt;h2 id="äº‘åŸç”Ÿæ¶æ„----å¾®æœåŠ¡å’Œ-kubernetes">äº‘åŸç”Ÿæ¶æ„ &amp;ndash; å¾®æœåŠ¡å’Œ Kubernetes&lt;/h2>
&lt;p>æ¥ä¸‹æ¥ï¼Œæˆ‘å»ºè®®æˆ‘ä»¬ç ”ç©¶ä¸€ä¸‹äº‘åŸç”Ÿæ¶æ„ä»¥åŠè¿™äº›éœ€æ±‚æ˜¯å¦‚ä½•å˜åŒ–çš„ã€‚å¦‚æœæˆ‘ä»¬ä»ä¸€ä¸ªéå¸¸é«˜çš„å±‚é¢æ¥çœ‹ï¼Œè¿™äº›æ¶æ„æ˜¯å¦‚ä½•å‘ç”Ÿå˜åŒ–çš„ï¼Œäº‘åŸç”Ÿå¯èƒ½å§‹äºå¾®æœåŠ¡è¿åŠ¨ã€‚å¾®æœåŠ¡ä½¿æˆ‘ä»¬å¯ä»¥æŒ‰ä¸šåŠ¡é¢†åŸŸè¿›è¡Œæ‹†åˆ†å•ä½“åº”ç”¨ã€‚äº‹å®è¯æ˜ï¼Œå®¹å™¨å’Œ Kubernetes å®é™…ä¸Šæ˜¯ç®¡ç†è¿™äº›å¾®æœåŠ¡çš„ä¼˜ç§€å¹³å°ã€‚è®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ Kubernetes å¯¹äºå¾®æœåŠ¡ç‰¹åˆ«æœ‰å¸å¼•åŠ›çš„ä¸€äº›å…·ä½“ç‰¹æ€§å’ŒåŠŸèƒ½ã€‚&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/03/30/13image0061616431699209.jpg" alt="">&lt;/p>
&lt;p>ä»ä¸€å¼€å§‹ï¼Œè¿›è¡Œå¥åº·çŠ¶å†µæ¢æµ‹çš„èƒ½åŠ›å°±æ˜¯ Kubernetes å—æ¬¢è¿çš„åŸå› ã€‚åœ¨å®è·µä¸­ï¼Œè¿™æ„å‘³ç€å½“ä½ å°†å®¹å™¨éƒ¨ç½²åˆ° Pod ä¸­æ—¶ï¼ŒKubernetes ä¼šæ£€æŸ¥è¿›ç¨‹çš„è¿è¡ŒçŠ¶å†µã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œè¯¥è¿‡ç¨‹æ¨¡å‹è¿˜ä¸å¤Ÿå¥½ã€‚ä½ å¯èƒ½ä»ç„¶æœ‰ä¸€ä¸ªå·²å¯åŠ¨å¹¶æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹ï¼Œä½†æ˜¯å®ƒå¹¶ä¸å¥åº·ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆè¿˜å¯ä»¥ä½¿ç”¨å°±ç»ªåº¦å’Œå­˜æ´»åº¦æ£€æŸ¥çš„åŸå› ã€‚Kubernetes ä¼šåšä¸€ä¸ªå°±ç»ªåº¦æ£€æŸ¥ï¼Œä»¥ç¡®å®šä½ çš„åº”ç”¨åœ¨å¯åŠ¨æœŸé—´ä½•æ—¶å‡†å¤‡æ¥å—æµé‡ã€‚å®ƒå°†è¿›è¡Œæ´»è·ƒåº¦æ£€æŸ¥ï¼Œä»¥æ£€æŸ¥æœåŠ¡çš„è¿è¡ŒçŠ¶å†µã€‚åœ¨ Kubernetes ä¹‹å‰ï¼Œè¿™å¹¶ä¸æ˜¯å¾ˆæµè¡Œï¼Œä½†ä»Šå¤©å‡ ä¹æ‰€æœ‰è¯­è¨€ã€æ‰€æœ‰æ¡†æ¶ã€æ‰€æœ‰è¿è¡Œæ—¶éƒ½æœ‰å¥åº·æ£€æŸ¥åŠŸèƒ½ï¼Œä½ å¯ä»¥åœ¨å…¶ä¸­å¿«é€Ÿå¯åŠ¨ç«¯ç‚¹ã€‚&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/03/30/29image0071616431696697.jpg" alt="">&lt;/p>
&lt;p>Kubernetes å¼•å…¥çš„ä¸‹ä¸€ä¸ªç‰¹æ€§æ˜¯å›´ç»•åº”ç”¨ç¨‹åºçš„æ‰˜ç®¡ç”Ÿå‘½å‘¨æœŸ&amp;ndash;æˆ‘çš„æ„æ€æ˜¯ï¼Œä½ ä¸å†æ§åˆ¶ä½•æ—¶å¯åŠ¨ã€ä½•æ—¶å…³é—­æœåŠ¡ã€‚ä½ ç›¸ä¿¡å¹³å°å¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ã€‚Kubernetes å¯ä»¥å¯åŠ¨ä½ çš„åº”ç”¨ï¼›å®ƒå¯ä»¥å°†å…¶å…³é—­ï¼Œç„¶ååœ¨ä¸åŒçš„èŠ‚ç‚¹ä¸Šç§»åŠ¨å®ƒã€‚ä¸ºæ­¤ï¼Œä½ å¿…é¡»æ­£ç¡®æ‰§è¡Œå¹³å°åœ¨åº”ç”¨å¯åŠ¨å’Œå…³é—­æœŸé—´å‘Šè¯‰ä½ çš„äº‹ä»¶ã€‚&lt;/p>
&lt;p>Kubernetes åˆ˜å…´çš„å¦ä¸€ä»¶ç‰¹æ€§æ˜¯å›´ç»•ç€å£°æ˜å¼éƒ¨ç½²ã€‚è¿™æ„å‘³ç€ä½ ä¸å†éœ€è¦å¯åŠ¨æœåŠ¡ï¼›æ£€æŸ¥æ—¥å¿—æ˜¯å¦å·²ç»å¯åŠ¨ã€‚ä½ ä¸å¿…æ‰‹åŠ¨å‡çº§å®ä¾‹&amp;ndash;æ”¯æŒå£°æ˜å¼éƒ¨ç½²çš„ Kubernetes å¯ä»¥ä¸ºä½ åšåˆ°è¿™ä¸€ç‚¹ã€‚æ ¹æ®ä½ é€‰æ‹©çš„ç­–ç•¥ï¼Œå®ƒå¯ä»¥åœæ­¢æ—§å®ä¾‹å¹¶å¯åŠ¨æ–°å®ä¾‹ã€‚æ­¤å¤–ï¼Œå¦‚æœå‡ºç°é—®é¢˜ï¼Œå¯ä»¥è¿›è¡Œå›æ»šã€‚&lt;/p>
&lt;p>å¦å¤–å°±æ˜¯å£°æ˜ä½ çš„èµ„æºéœ€æ±‚ã€‚åˆ›å»ºæœåŠ¡æ—¶ï¼Œå°†å…¶å®¹å™¨åŒ–ã€‚æœ€å¥½å‘Šè¯‰å¹³å°è¯¥æœåŠ¡å°†éœ€è¦å¤šå°‘ CPU å’Œå†…å­˜ã€‚Kubernetes åˆ©ç”¨è¿™äº›ä¿¡æ¯ä¸ºä½ çš„å·¥ä½œè´Ÿè½½æ‰¾åˆ°æœ€ä½³èŠ‚ç‚¹ã€‚åœ¨ä½¿ç”¨ Kubernetes ä¹‹å‰ï¼Œæˆ‘ä»¬å¿…é¡»æ ¹æ®æˆ‘ä»¬çš„æ ‡å‡†å°†å®ä¾‹æ‰‹åŠ¨æ”¾ç½®åˆ°ä¸€ä¸ªèŠ‚ç‚¹ä¸Šã€‚ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®è‡ªå·±çš„åå¥½æ¥æŒ‡å¯¼ Kubernetesï¼Œå®ƒå°†ä¸ºæˆ‘ä»¬åšå‡ºæœ€ä½³çš„å†³ç­–ã€‚&lt;/p>
&lt;p>å¦‚ä»Šï¼Œåœ¨ Kubernetes ä¸Šï¼Œä½ å¯ä»¥è¿›è¡Œå¤šè¯­è¨€é…ç½®ç®¡ç†ã€‚æ— éœ€åœ¨åº”ç”¨ç¨‹åºè¿è¡Œæ—¶è¿›è¡Œé…ç½®æŸ¥æ‰¾å°±å¯ä»¥è¿›è¡Œä»»ä½•æ“ä½œã€‚Kubernetes ä¼šç¡®ä¿é…ç½®æœ€ç»ˆåœ¨å·¥ä½œè´Ÿè½½æ‰€åœ¨çš„åŒä¸€èŠ‚ç‚¹ä¸Šã€‚è¿™äº›é…ç½®è¢«æ˜ å°„ä¸ºå·æˆ–ç¯å¢ƒå˜é‡ï¼Œä»¥ä¾›ä½ çš„åº”ç”¨ç¨‹åºä½¿ç”¨ã€‚&lt;/p>
&lt;p>äº‹å®è¯æ˜ï¼Œæˆ‘åˆšæ‰è°ˆåˆ°çš„é‚£äº›ç‰¹å®šåŠŸèƒ½ä¹Ÿæ˜¯ç›¸å…³çš„ã€‚æ¯”å¦‚è¯´ï¼Œå¦‚æœè¦è¿›è¡Œè‡ªåŠ¨æ”¾ç½®ï¼Œåˆ™å¿…é¡»å‘Šè¯‰ Kubernetes æœåŠ¡çš„èµ„æºéœ€æ±‚ã€‚ç„¶åï¼Œä½ å¿…é¡»å‘Šè¯‰å®ƒè¦ä½¿ç”¨çš„éƒ¨ç½²ç­–ç•¥ã€‚ä¸ºäº†è®©ç­–ç•¥æ­£ç¡®è¿è¡Œï¼Œä½ çš„åº”ç”¨ç¨‹åºå¿…é¡»æ‰§è¡Œæ¥è‡ªç¯å¢ƒçš„äº‹ä»¶ã€‚å®ƒå¿…é¡»æ‰§è¡Œå¥åº·æ£€æŸ¥ã€‚ä¸€æ—¦é‡‡ç”¨äº†æ‰€æœ‰è¿™äº›æœ€ä½³å®è·µå¹¶ä½¿ç”¨æ‰€æœ‰è¿™äº›åŠŸèƒ½ï¼Œä½ çš„åº”ç”¨å°±ä¼šæˆä¸ºå‡ºè‰²çš„äº‘åŸç”Ÿå…¬æ°‘ï¼Œå¹¶ä¸”å¯ä»¥åœ¨ Kubernetes ä¸Šå®ç°è‡ªåŠ¨åŒ–äº†ï¼ˆè¿™æ˜¯åœ¨ Kubernetes ä¸Šè¿è¡Œå·¥ä½œè´Ÿè½½çš„åŸºæœ¬æ¨¡å¼ï¼‰ã€‚æœ€åï¼Œè¿˜æœ‰å›´ç»•ç€æ„å»º Pod ä¸­çš„å®¹å™¨ã€é…ç½®ç®¡ç†å’Œè¡Œä¸ºï¼Œè¿˜æœ‰å…¶ä»–æ¨¡å¼ã€‚&lt;/p>
&lt;p>æˆ‘è¦ç®€è¦ä»‹ç»çš„ä¸‹ä¸€ä¸ªä¸»é¢˜æ˜¯å·¥ä½œè´Ÿè½½ã€‚ä»ç”Ÿå‘½å‘¨æœŸçš„è§’åº¦æ¥çœ‹ï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½å¤Ÿè¿è¡Œä¸åŒçš„å·¥ä½œè´Ÿè½½ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨ Kubernetes ä¸Šåšåˆ°è¿™ä¸€ç‚¹ã€‚è¿è¡ŒåäºŒè¦ç´ åº”ç”¨ç¨‹åºå’Œæ— çŠ¶æ€å¾®æœåŠ¡éå¸¸ç®€å•ã€‚Kubernetes å¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ã€‚è¿™ä¸æ˜¯ä½ å°†è¦æ‰¿æ‹…çš„å”¯ä¸€å·¥ä½œé‡ã€‚å¯èƒ½ä½ è¿˜æœ‰æœ‰çŠ¶æ€çš„å·¥ä½œè´Ÿè½½ï¼Œä½ å¯ä»¥ä½¿ç”¨æœ‰çŠ¶æ€é›†åœ¨ Kubernetes ä¸Šå®Œæˆæ­¤å·¥ä½œã€‚&lt;/p>
&lt;p>ä½ å¯èƒ½è¿˜æœ‰çš„å¦ä¸€ä¸ªå·¥ä½œè´Ÿè½½æ˜¯å•ä¾‹ã€‚ä¹Ÿè®¸ä½ å¸Œæœ›æŸä¸ªåº”ç”¨ç¨‹åºçš„å®ä¾‹æ˜¯æ•´ä¸ªé›†ç¾¤ä¸­åº”ç”¨ç¨‹åºçš„å”¯ä¸€ä¸€ä¸ªå®ä¾‹&amp;ndash;ä½ å¸Œæœ›å®ƒæˆä¸ºå¯é çš„å•ä¾‹ã€‚å¦‚æœå¤±è´¥ï¼Œåˆ™é‡æ–°å¯åŠ¨ã€‚å› æ­¤ï¼Œä½ å¯ä»¥æ ¹æ®éœ€æ±‚ä»¥åŠæ˜¯å¦å¸Œæœ›å•ä¾‹è‡³å°‘å…·æœ‰ä¸€ç§æˆ–æœ€å¤šä¸€ç§è¯­ä¹‰æ¥åœ¨æœ‰çŠ¶æ€é›†å’Œå‰¯æœ¬é›†ä¹‹é—´è¿›è¡Œé€‰æ‹©ã€‚ä½ å¯èƒ½è¿˜æœ‰çš„å¦ä¸€ä¸ªå·¥ä½œè´Ÿè½½æ˜¯å›´ç»•ä½œä¸šå’Œå®šæ—¶ä½œä¸š&amp;ndash;æœ‰äº† Kubernetesï¼Œä½ ä¹Ÿå¯ä»¥å®ç°è¿™äº›ã€‚&lt;/p>
&lt;p>å¦‚æœæˆ‘ä»¬å°†æ‰€æœ‰è¿™äº› Kubernetes åŠŸèƒ½æ˜ å°„åˆ°æˆ‘ä»¬çš„éœ€æ±‚ï¼Œåˆ™ Kubernetes å¯ä»¥æ»¡è¶³ç”Ÿå‘½å‘¨æœŸéœ€æ±‚ã€‚æˆ‘é€šå¸¸åˆ›å»ºçš„éœ€æ±‚åˆ—è¡¨ä¸»è¦æ˜¯ç”± Kubernetes ä»Šå¤©æä¾›ç»™æˆ‘ä»¬çš„ã€‚è¿™äº›æ˜¯ä»»ä½•å¹³å°ä¸Šçš„é¢„æœŸåŠŸèƒ½ï¼Œè€Œ Kubernetes å¯ä»¥ä¸ºä½ çš„éƒ¨ç½²åšçš„æ˜¯é…ç½®ç®¡ç†ã€èµ„æºéš”ç¦»å’Œæ•…éšœéš”ç¦»ã€‚æ­¤å¤–ï¼Œé™¤äº†æ— æœåŠ¡å™¨æœ¬èº«ä¹‹å¤–ï¼Œå®ƒè¿˜æ”¯æŒå…¶ä»–å·¥ä½œè´Ÿè½½ã€‚&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/03/30/12image0081616431698134.jpg" alt="">&lt;/p>
&lt;p>ç„¶åï¼Œå¦‚æœè¿™å°±æ˜¯ Kubernetes ç»™å¼€å‘è€…æä¾›çš„å…¨éƒ¨åŠŸèƒ½ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¯¥å¦‚ä½•æ‰©å±• Kubernetes å‘¢ï¼Ÿä»¥åŠå¦‚ä½•ä½¿å®ƒå…·æœ‰æ›´å¤šåŠŸèƒ½ï¼Ÿå› æ­¤ï¼Œæˆ‘æƒ³æè¿°å½“ä»Šä½¿ç”¨çš„ä¸¤ç§å¸¸ç”¨æ–¹æ³•ã€‚&lt;/p>
&lt;h2 id="è¿›ç¨‹å¤–æ‰©å±•æœºåˆ¶">è¿›ç¨‹å¤–æ‰©å±•æœºåˆ¶&lt;/h2>
&lt;p>é¦–å…ˆæ˜¯ Pod çš„æ¦‚å¿µï¼ŒPod æ˜¯ç”¨äºåœ¨èŠ‚ç‚¹ä¸Šéƒ¨ç½²å®¹å™¨çš„æŠ½è±¡ã€‚æ­¤å¤–ï¼ŒPod ç»™æˆ‘ä»¬æä¾›äº†ä¸¤ç»„ä¿è¯ï¼š&lt;/p>
&lt;ul>
&lt;li>ç¬¬ä¸€ç»„æ˜¯éƒ¨ç½²ä¿è¯ &amp;ndash; Pod ä¸­çš„æ‰€æœ‰å®¹å™¨å§‹ç»ˆä½äºåŒä¸€ä¸ªèŠ‚ç‚¹ä¸Šã€‚è¿™æ„å‘³ç€å®ƒä»¬å¯ä»¥é€šè¿‡ localhost ç›¸äº’é€šä¿¡ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ–‡ä»¶ç³»ç»Ÿæˆ–é€šè¿‡å…¶ä»– IPC æœºåˆ¶è¿›è¡Œå¼‚æ­¥é€šä¿¡ã€‚&lt;/li>
&lt;li>Pod ç»™æˆ‘ä»¬çš„å¦ä¸€ç»„ä¿è¯æ˜¯å›´ç»•ç”Ÿå‘½å‘¨æœŸçš„ã€‚Pod ä¸­çš„æ‰€æœ‰å®¹å™¨å¹¶ééƒ½ç›¸ç­‰ã€‚&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/03/30/22image0091616431698660.jpg" alt="">&lt;/p>
&lt;p>æ ¹æ®ä½¿ç”¨çš„æ˜¯ init å®¹å™¨è¿˜æ˜¯åº”ç”¨ç¨‹åºå®¹å™¨ï¼Œä½ ä¼šè·å¾—ä¸åŒçš„ä¿è¯ã€‚ä¾‹å¦‚ï¼Œinit å®¹å™¨åœ¨å¼€å§‹æ—¶è¿è¡Œï¼›å½“ Pod å¯åŠ¨æ—¶ï¼Œå®ƒæŒ‰é¡ºåºä¸€ä¸ªæ¥ä¸€ä¸ªåœ°è¿è¡Œã€‚ä»–ä»¬ä»…åœ¨ä¹‹å‰çš„å®¹å™¨å·²æˆåŠŸå®Œæˆæ—¶è¿è¡Œã€‚å®ƒä»¬æœ‰åŠ©äºå®ç°ç”±å®¹å™¨é©±åŠ¨çš„ç±»ä¼¼å·¥ä½œæµçš„é€»è¾‘ã€‚&lt;/p>
&lt;p>å¦ä¸€æ–¹é¢ï¼Œåº”ç”¨ç¨‹åºå®¹å™¨æ˜¯å¹¶è¡Œè¿è¡Œçš„ã€‚å®ƒä»¬åœ¨æ•´ä¸ª Pod çš„ç”Ÿå‘½å‘¨æœŸä¸­è¿è¡Œï¼Œè¿™ä¹Ÿæ˜¯ sidecar æ¨¡å¼çš„åŸºç¡€ã€‚sidecar å¯ä»¥è¿è¡Œå¤šä¸ªå®¹å™¨ï¼Œè¿™äº›å®¹å™¨å¯ä»¥åä½œå¹¶å…±åŒä¸ºç”¨æˆ·æä¾›ä»·å€¼ã€‚è¿™ä¹Ÿæ˜¯å½“ä»Šæˆ‘ä»¬çœ‹åˆ°çš„æ‰©å±• Kubernetes é™„åŠ åŠŸèƒ½çš„ä¸»è¦æœºåˆ¶ä¹‹ä¸€ã€‚&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/03/30/9image0101616431695489.jpg" alt="">&lt;/p>
&lt;p>ä¸ºäº†è§£é‡Šä»¥ä¸‹åŠŸèƒ½ï¼Œæˆ‘å¿…é¡»ç®€è¦åœ°å‘Šè¯‰ä½  Kubernetes å†…éƒ¨çš„å·¥ä½œæ–¹å¼ã€‚å®ƒæ˜¯åŸºäºè°ƒè°å¾ªç¯çš„ã€‚è°ƒè°å¾ªç¯çš„æ€æƒ³æ˜¯å°†æœŸæœ›çŠ¶æ€é©±åŠ¨åˆ°å®é™…çŠ¶æ€ã€‚åœ¨ Kubernetes ä¸­ï¼Œå¾ˆå¤šåŠŸèƒ½éƒ½æ˜¯é è¿™ä¸ªæ¥å®ç°çš„ã€‚ä¾‹å¦‚ï¼Œå½“ä½ è¯´æˆ‘è¦ä¸¤ä¸ª Pod å®ä¾‹ï¼Œè¿™ç³»ç»Ÿçš„æœŸæœ›çŠ¶æ€ã€‚æœ‰ä¸€ä¸ªæ§åˆ¶å¾ªç¯ä¸æ–­åœ°è¿è¡Œï¼Œå¹¶æ£€æŸ¥ä½ çš„ Pod æ˜¯å¦æœ‰ä¸¤ä¸ªå®ä¾‹ã€‚å¦‚æœä¸å­˜åœ¨ä¸¤ä¸ªå®ä¾‹ï¼Œå®ƒå°†è®¡ç®—å·®å€¼ã€‚å®ƒå°†ç¡®ä¿å­˜åœ¨ä¸¤ä¸ªå®ä¾‹ã€‚&lt;/p>
&lt;p>è¿™æ–¹é¢çš„ä¾‹å­æœ‰å¾ˆå¤šã€‚ä¸€äº›æ˜¯å‰¯æœ¬é›†æˆ–æœ‰çŠ¶æ€é›†ã€‚èµ„æºå®šä¹‰æ˜ å°„åˆ°æ§åˆ¶å™¨æ˜¯ä»€ä¹ˆï¼Œå¹¶ä¸”æ¯ä¸ªèµ„æºå®šä¹‰éƒ½æœ‰ä¸€ä¸ªæ§åˆ¶å™¨ã€‚è¯¥æ§åˆ¶å™¨ç¡®ä¿ç°å®ä¸–ç•Œä¸æ‰€éœ€æ§åˆ¶å™¨ç›¸åŒ¹é…ï¼Œä½ ç”šè‡³å¯ä»¥ç¼–å†™è‡ªå·±çš„è‡ªå®šä¹‰æ§åˆ¶å™¨ã€‚&lt;/p>
&lt;p>å½“åœ¨ Pod ä¸­è¿è¡Œåº”ç”¨ç¨‹åºæ—¶ï¼Œä½ å°†æ— æ³•åœ¨è¿è¡Œæ—¶åŠ è½½ä»»ä½•é…ç½®æ–‡ä»¶æ›´æ”¹ã€‚ç„¶è€Œï¼Œä½ å¯ä»¥ç¼–å†™ä¸€ä¸ªè‡ªå®šä¹‰æ§åˆ¶å™¨ï¼Œæ£€æµ‹ config map çš„å˜åŒ–ï¼Œé‡æ–°å¯åŠ¨ Pod å’Œåº”ç”¨ç¨‹åº&amp;ndash;ä»è€Œè·å–é…ç½®æ›´æ”¹ã€‚&lt;/p>
&lt;p>äº‹å®è¯æ˜ï¼Œå³ä½¿ Kubernetes æ‹¥æœ‰ä¸°å¯Œçš„èµ„æºé›†åˆï¼Œä½†å®ƒä»¬å¹¶ä¸èƒ½æ»¡è¶³ä½ çš„æ‰€æœ‰ä¸åŒéœ€æ±‚ã€‚Kubernetes å¼•å…¥äº†è‡ªå®šä¹‰èµ„æºå®šä¹‰çš„æ¦‚å¿µã€‚è¿™æ„å‘³ç€ä½ å¯ä»¥å¯¹éœ€æ±‚è¿›è¡Œå»ºæ¨¡å¹¶å®šä¹‰é€‚ç”¨äº Kubernetes çš„ APIã€‚å®ƒä¸å…¶ä»– Kubernetes åŸç”Ÿèµ„æºå…±å­˜ã€‚ä½ å¯ä»¥ç”¨èƒ½ç†è§£æ¨¡å‹çš„ä»»ä½•è¯­è¨€ç¼–å†™è‡ªå·±çš„æ§åˆ¶å™¨ã€‚ä½ å¯ä»¥è®¾è®¡ä¸€ä¸ªç”¨ Java å®ç°çš„ ConfigWatcherï¼Œæè¿°æˆ‘ä»¬å‰é¢æ‰€è§£é‡Šçš„å†…å®¹ã€‚è¿™å°±æ˜¯ operator æ¨¡å¼ï¼Œå³ä¸è‡ªå®šä¹‰èµ„æºå®šä¹‰ä¸€èµ·ä½¿ç”¨çš„æ§åˆ¶å™¨ã€‚å¦‚ä»Šï¼Œæˆ‘ä»¬çœ‹åˆ°å¾ˆå¤š operator å‡å¦‚ï¼Œè¿™å°±æ˜¯ç¬¬äºŒç§æ‰©å±• Kubernetes é™„åŠ åŠŸèƒ½çš„æ–¹å¼ã€‚&lt;/p>
&lt;p>æ¥ä¸‹æ¥ï¼Œæˆ‘æƒ³ç®€å•ä»‹ç»ä¸€ä¸‹åŸºäº Kubernetes æ„å»ºçš„ä¸€äº›å¹³å°ï¼Œè¿™äº›å¹³å°å¤§é‡ä½¿ç”¨ sidecar å’Œ operator æ¥ç»™å¼€å‘è€…æä¾›é¢å¤–çš„åŠŸèƒ½ã€‚&lt;/p>
&lt;h2 id="ä»€ä¹ˆæ˜¯æœåŠ¡ç½‘æ ¼">ä»€ä¹ˆæ˜¯æœåŠ¡ç½‘æ ¼ï¼Ÿ&lt;/h2>
&lt;p>è®©æˆ‘ä»¬ä»æœåŠ¡ç½‘æ ¼å¼€å§‹ï¼Œä»€ä¹ˆæ˜¯æœåŠ¡ç½‘æ ¼ï¼Ÿ&lt;/p>
&lt;p>æˆ‘ä»¬æœ‰ä¸¤ä¸ªæœåŠ¡ï¼ŒæœåŠ¡ A è¦è°ƒç”¨æœåŠ¡ Bï¼Œå¹¶ä¸”å¯ä»¥ç”¨ä»»ä½•è¯­è¨€ã€‚æŠŠè¿™ä¸ªå½“åšæ˜¯æˆ‘ä»¬çš„åº”ç”¨å·¥ä½œè´Ÿè½½ã€‚æœåŠ¡ç½‘æ ¼ä½¿ç”¨ sidecar æ§åˆ¶å™¨ï¼Œå¹¶åœ¨æˆ‘ä»¬çš„æœåŠ¡æ—è¾¹æ³¨å…¥ä¸€ä¸ªä»£ç†ã€‚ä½ æœ€ç»ˆä¼šåœ¨ Pod ä¸­å¾—åˆ°ä¸¤ä¸ªå®¹å™¨ã€‚ä»£ç†æ˜¯ä¸€ä¸ªé€æ˜çš„ä»£ç†ï¼Œä½ çš„åº”ç”¨å¯¹è¿™ä¸ªä»£ç†å®Œå…¨æ— æ„ŸçŸ¥&amp;ndash;å®ƒæ‹¦æˆªæ‰€æœ‰ä¼ å…¥å’Œä¼ å‡ºçš„æµé‡ã€‚æ­¤å¤–ï¼Œä»£ç†è¿˜å……å½“æ•°æ®é˜²ç«å¢™ã€‚&lt;/p>
&lt;p>è¿™äº›æœåŠ¡ä»£ç†çš„é›†åˆä»£è¡¨äº†ä½ çš„æ•°æ®å¹³é¢ï¼Œå¹¶ä¸”å¾ˆå°ä¸”æ— çŠ¶æ€ã€‚ä¸ºäº†è·å¾—æ‰€æœ‰çŠ¶æ€å’Œé…ç½®ï¼Œå®ƒä»¬ä¾èµ–äºæ§åˆ¶å¹³é¢ã€‚æ§åˆ¶å¹³é¢æ˜¯ä¿æŒæ‰€æœ‰é…ç½®ï¼Œæ”¶é›†æŒ‡æ ‡ï¼Œåšå‡ºå†³å®šå¹¶ä¸æ•°æ®å¹³é¢è¿›è¡Œäº¤äº’çš„æœ‰çŠ¶æ€éƒ¨åˆ†ã€‚æ­¤å¤–ï¼Œå®ƒä»¬æ˜¯ä¸åŒæ§åˆ¶å¹³é¢å’Œæ•°æ®å¹³é¢çš„æ­£ç¡®é€‰æ‹©ã€‚äº‹å®è¯æ˜ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä¸€ä¸ªç»„ä»¶-ä¸€ä¸ª API ç½‘å…³ï¼Œä»¥å°†æ•°æ®è·å–åˆ°æˆ‘ä»¬çš„é›†ç¾¤ä¸­ã€‚ä¸€äº›æœåŠ¡ç½‘æ ¼å…·æœ‰è‡ªå·±çš„ API ç½‘å…³ï¼Œè€ŒæŸäº›ä½¿ç”¨ç¬¬ä¸‰æ–¹ã€‚å¦‚æœä½ ç ”ç©¶ä¸‹æ‰€æœ‰è¿™äº›ç»„ä»¶ï¼Œå®ƒä»¬å°†æä¾›æˆ‘ä»¬æ‰€éœ€çš„åŠŸèƒ½ã€‚&lt;/p>
&lt;p>API ç½‘å…³ä¸»è¦ä¸“æ³¨äºæŠ½è±¡æˆ‘ä»¬æœåŠ¡çš„å®ç°ã€‚å®ƒéšè—ç»†èŠ‚å¹¶æä¾›è¾¹ç•ŒåŠŸèƒ½ã€‚æœåŠ¡ç½‘æ ¼åˆ™ç›¸åã€‚åœ¨æŸç§ç¨‹åº¦ä¸Šï¼Œå®ƒå¢å¼ºäº†æœåŠ¡å†…çš„å¯è§æ€§å’Œå¯é æ€§ã€‚å¯ä»¥è¯´ï¼ŒAPI ç½‘å…³å’ŒæœåŠ¡ç½‘æ ¼å…±åŒæä¾›äº†æ‰€æœ‰ç½‘ç»œéœ€æ±‚ã€‚è¦åœ¨ Kubernetes ä¸Šè·å¾—ç½‘ç»œåŠŸèƒ½ï¼Œä»…ä½¿ç”¨æœåŠ¡æ˜¯ä¸å¤Ÿçš„ï¼šâ€œä½ éœ€è¦ä¸€äº›æœåŠ¡ç½‘æ ¼ã€‚â€&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/03/30/19image0111616431696146.jpg" alt="">&lt;/p>
&lt;h2 id="ä»€ä¹ˆæ˜¯-knative">ä»€ä¹ˆæ˜¯ Knativeï¼Ÿ&lt;/h2>
&lt;p>æˆ‘è¦è®¨è®ºçš„ä¸‹ä¸€ä¸ªä¸»é¢˜æ˜¯ Knativeï¼Œè¿™æ˜¯ Google å‡ å¹´å‰å¯åŠ¨çš„ä¸€ä¸ªé¡¹ç›®ã€‚å®ƒæ˜¯ Kubernetes ä¹‹ä¸Šçš„ä¸€å±‚ï¼Œå¯ä¸ºæ‚¨æä¾›æ— æœåŠ¡å™¨åŠŸèƒ½ï¼Œå¹¶å…·æœ‰ä¸¤ä¸ªä¸»è¦æ¨¡å—ï¼š&lt;/p>
&lt;ul>
&lt;li>Knative æœåŠ¡ - å›´ç»•ç€è¯·æ±‚-åº”ç­”äº¤äº’ï¼Œä»¥åŠ&lt;/li>
&lt;li>Knative Eventing - æ›´å¤šçš„æ˜¯ç”¨äºäº‹ä»¶é©±åŠ¨çš„äº¤äº’ã€‚&lt;/li>
&lt;/ul>
&lt;p>åªæ˜¯è®©ä½ æ„Ÿå—ä¸€ä¸‹ï¼ŒKnative Serving æ˜¯ä»€ä¹ˆï¼Ÿé€šè¿‡ Knative Servingï¼Œä½ å¯ä»¥å®šä¹‰æœåŠ¡ï¼Œä½†è¿™ä¸åŒäº Kubernetes æœåŠ¡ã€‚è¿™æ˜¯ Knative æœåŠ¡ã€‚ä½¿ç”¨ Knative æœåŠ¡å®šä¹‰å·¥ä½œè´Ÿè½½åï¼Œä½ å°±ä¼šå¾—åˆ°å…·æœ‰æ— æœåŠ¡å™¨çš„ç‰¹å¾çš„éƒ¨ç½²ã€‚ä½ ä¸éœ€è¦æœ‰å¯åŠ¨å¹¶è¿è¡Œå®ä¾‹ã€‚å®ƒå¯ä»¥åœ¨è¯·æ±‚åˆ°è¾¾æ—¶ä»é›¶å¼€å§‹ã€‚ä½ å¾—åˆ°çš„æ˜¯æ— æœåŠ¡å™¨çš„èƒ½åŠ›ï¼›å®ƒå¯ä»¥è¿…é€Ÿæ‰©å®¹ï¼Œä¹Ÿå¯ä»¥ç¼©å®¹åˆ°é›¶ã€‚&lt;/p>
&lt;p>Knative Eventing ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªå®Œå…¨å£°æ˜å¼çš„äº‹ä»¶ç®¡ç†ç³»ç»Ÿã€‚å‡è®¾æˆ‘ä»¬æœ‰ä¸€äº›è¦ä¸ä¹‹é›†æˆçš„å¤–éƒ¨ç³»ç»Ÿï¼Œä»¥åŠä¸€äº›å¤–éƒ¨çš„äº‹ä»¶ç”Ÿäº§è€…ã€‚åœ¨åº•éƒ¨ï¼Œæˆ‘ä»¬å°†åº”ç”¨ç¨‹åºæ”¾åœ¨å…·æœ‰ HTTP ç«¯ç‚¹çš„å®¹å™¨ä¸­ã€‚å€ŸåŠ© Knative Eventingï¼Œæˆ‘ä»¬å¯ä»¥å¯åŠ¨ä»£ç†ï¼Œè¯¥ä»£ç†å¯ä»¥è§¦å‘ Kafka æ˜ å°„çš„ä»£ç†ï¼Œä¹Ÿå¯ä»¥åœ¨å†…å­˜æˆ–è€…æŸäº›äº‘æœåŠ¡ä¸­ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬å¯ä»¥å¯åŠ¨è¿æ¥åˆ°å¤–éƒ¨ç³»ç»Ÿçš„å¯¼å…¥å™¨ï¼Œå¹¶å°†äº‹ä»¶å¯¼å…¥åˆ°æˆ‘ä»¬çš„ä»£ç†ä¸­ã€‚è¿™äº›å¯¼å…¥å™¨å¯ä»¥åŸºäºï¼Œä¾‹å¦‚ï¼Œå…·æœ‰æ•°ç™¾ä¸ªè¿æ¥å™¨çš„ Apache Camelã€‚&lt;/p>
&lt;p>ä¸€æ—¦æˆ‘ä»¬å°†äº‹ä»¶å‘é€ç»™ä»£ç†ï¼Œç„¶åç”¨ YAML æ–‡ä»¶å£°æ˜ï¼Œæˆ‘ä»¬å¯ä»¥è®©å®¹å™¨è®¢é˜…è¿™äº›äº‹ä»¶ã€‚åœ¨æˆ‘ä»¬çš„å®¹å™¨ä¸­ï¼Œæˆ‘ä»¬ä¸éœ€è¦ä»»ä½•æ¶ˆæ¯å®¢æˆ·ç«¯&amp;ndash;æ¯”å¦‚ Kafka å®¢æˆ·ç«¯ã€‚æˆ‘ä»¬çš„å®¹å™¨å°†ä½¿ç”¨äº‘äº‹ä»¶é€šè¿‡ HTTP POST è·å–äº‹ä»¶ã€‚è¿™æ˜¯ä¸€ä¸ªå®Œå…¨å¹³å°ç®¡ç†çš„æ¶ˆæ¯ä¼ é€’åŸºç¡€è®¾æ–½ã€‚ä½œä¸ºå¼€å‘äººå‘˜ï¼Œä½ å¿…é¡»åœ¨å®¹å™¨ä¸­ç¼–å†™ä¸šåŠ¡ä»£ç ï¼Œå¹¶ä¸”ä¸å¤„ç†ä»»ä½•æ¶ˆæ¯ä¼ é€’é€»è¾‘ã€‚&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/03/30/8image0121616431698919.jpg" alt="">&lt;/p>
&lt;p>ä»æˆ‘ä»¬çš„éœ€æ±‚çš„è§’åº¦æ¥çœ‹ï¼ŒKnative å¯ä»¥æ»¡è¶³å…¶ä¸­çš„ä¸€äº›è¦æ±‚ã€‚ä»ç”Ÿå‘½å‘¨æœŸçš„è§’åº¦æ¥çœ‹ï¼Œå®ƒä¸ºæˆ‘ä»¬çš„å·¥ä½œè´Ÿè½½æä¾›äº†æ— æœåŠ¡å™¨çš„åŠŸèƒ½ï¼Œå› æ­¤èƒ½å¤Ÿå°†å…¶æ‰©å±•åˆ°é›¶ï¼Œå¹¶ä»é›¶å¼€å§‹æ¿€æ´»ã€‚ä»ç½‘ç»œçš„è§’åº¦æ¥çœ‹ï¼Œå¦‚æœæœåŠ¡ç½‘æ ¼ä¹‹é—´å­˜åœ¨æŸäº›é‡å ï¼Œåˆ™ Knative ä¹Ÿå¯ä»¥è¿›è¡Œæµé‡è½¬ç§»ã€‚ä»ç»‘å®šçš„è§’åº¦æ¥çœ‹ï¼Œå®ƒå¯¹ä½¿ç”¨ Knative å¯¼å…¥ç¨‹åºè¿›è¡Œç»‘å®šæä¾›äº†å¾ˆå¥½çš„æ”¯æŒã€‚å®ƒå¯ä»¥ä½¿æˆ‘ä»¬è¿›è¡Œå‘å¸ƒ/è®¢é˜…ï¼Œæˆ–ç‚¹å¯¹ç‚¹äº¤äº’ï¼Œç”šè‡³å¯ä»¥è¿›è¡Œä¸€äº›æ’åºã€‚å®ƒå¯ä»¥æ»¡è¶³å‡ ç±»éœ€æ±‚ã€‚&lt;/p>
&lt;h2 id="ä»€ä¹ˆæ˜¯-dapr">ä»€ä¹ˆæ˜¯ Daprï¼Ÿ&lt;/h2>
&lt;p>å¦ä¸€ä¸ªä½¿ç”¨ sidecar å’Œ operator çš„é¡¹ç›®æ˜¯ &lt;a href="https://dapr.io/">Dapr&lt;/a>ï¼Œå®ƒæ˜¯å¾®è½¯å‡ ä¸ªæœˆå‰æ‰å¼€å§‹å¹¶ä¸”æ­£åœ¨è¿…é€Ÿæµè¡Œèµ·æ¥ã€‚æ­¤å¤–ï¼Œ1.0 ç‰ˆæœ¬ &lt;a href="https://www.infoq.com/news/2021/02/dapr-production-ready/">è¢«è®¤ä¸ºæ˜¯ç”Ÿäº§å¯ç”¨çš„&lt;/a>ã€‚å®ƒæ˜¯ä¸€ä¸ªä½œä¸º sidecar çš„åˆ†å¸ƒå¼ç³»ç»Ÿå·¥å…·åŒ…&amp;ndash;Dapr ä¸­çš„æ‰€æœ‰å†…å®¹éƒ½æ˜¯ä½œä¸º sidecar æä¾›çš„ï¼Œå¹¶ä¸”æœ‰ä¸€å¥—ä»–ä»¬æ‰€è°“çš„æ„ä»¶æˆ–åŠŸèƒ½é›†çš„é›†åˆã€‚&lt;/p>
&lt;p>è¿™äº›åŠŸèƒ½æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿç¬¬ä¸€ç»„åŠŸèƒ½æ˜¯å›´ç»•ç½‘ç»œã€‚Dapr å¯ä»¥è¿›è¡ŒæœåŠ¡å‘ç°å’ŒæœåŠ¡ä¹‹é—´çš„ç‚¹å¯¹ç‚¹é›†æˆã€‚åŒæ ·ï¼Œå®ƒä¹Ÿå¯ä»¥è¿›è¡ŒæœåŠ¡ç½‘æ ¼çš„è¿½è¸ªã€å¯é é€šä¿¡ã€é‡è¯•å’Œæ¢å¤ã€‚ç¬¬äºŒå¥—åŠŸèƒ½æ˜¯å›´ç»•èµ„æºç»‘å®šï¼š&lt;/p>
&lt;ul>
&lt;li>å®ƒæœ‰å¾ˆå¤šäº‘ APIã€ä¸åŒç³»ç»Ÿçš„è¿æ¥å™¨ï¼Œä»¥åŠ&lt;/li>
&lt;li>ä¹Ÿå¯ä»¥åšæ¶ˆæ¯å‘å¸ƒ/è®¢é˜…å’Œå…¶ä»–é€»è¾‘ã€‚&lt;/li>
&lt;/ul>
&lt;p>æœ‰è¶£çš„æ˜¯ï¼ŒDapr è¿˜å¼•å…¥äº†çŠ¶æ€ç®¡ç†çš„æ¦‚å¿µã€‚é™¤äº† Knative å’ŒæœåŠ¡ç½‘æ ¼æä¾›çš„åŠŸèƒ½å¤–ï¼ŒDapr åœ¨çŠ¶æ€å­˜å‚¨ä¹‹ä¸Šè¿›è¡Œäº†æŠ½è±¡ã€‚æ­¤å¤–ï¼Œä½ é€šè¿‡å­˜å‚¨æœºåˆ¶æ”¯æŒä¸ Dapr è¿›è¡ŒåŸºäºé”®å€¼çš„äº¤äº’ã€‚&lt;/p>
&lt;p>åœ¨è¾ƒé«˜çš„å±‚æ¬¡ä¸Šï¼Œæ¶æ„æ˜¯ä½ çš„åº”ç”¨ç¨‹åºä½äºé¡¶éƒ¨ï¼Œå¯ä»¥ä½¿ç”¨ä»»ä½•è¯­è¨€ã€‚ä½ å¯ä»¥ä½¿ç”¨ Dapr æä¾›çš„å®¢æˆ·ç«¯åº“ï¼Œä½†ä½ ä¸å¿…è¿™æ ·åšã€‚ä½ å¯ä»¥ä½¿ç”¨è¯­è¨€åŠŸèƒ½æ¥æ‰§è¡Œç§°ä¸º sidecar çš„ HTTP å’Œ gRPCã€‚ä¸ æœåŠ¡ç½‘æ ¼çš„åŒºåˆ«åœ¨äºï¼Œè¿™é‡Œçš„ Dapr sidecar ä¸æ˜¯ä¸€ä¸ªé€æ˜çš„ä»£ç†ã€‚å®ƒæ˜¯ä¸€ä¸ªæ˜¾å¼ä»£ç†ï¼Œä½ å¿…é¡»ä»ä½ çš„åº”ç”¨ä¸­è°ƒç”¨å®ƒï¼Œå¹¶é€šè¿‡ HTTP æˆ– gRPC ä¸ä¹‹äº¤äº’ã€‚æ ¹æ®ä½ éœ€è¦çš„åŠŸèƒ½ï¼ŒDapr å¯ä»¥ä¸å…¶ä»–å¦‚äº‘æœåŠ¡çš„ç³»ç»Ÿå¯¹è¯ã€‚&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/03/30/18image0131616431699532.jpg" alt="">&lt;/p>
&lt;p>åœ¨ Kubernetes ä¸Šï¼ŒDapr æ˜¯ä½œä¸º sidecar éƒ¨ç½²çš„ï¼Œå¹¶ä¸”å¯ä»¥åœ¨ Kubernetes ä¹‹å¤–å·¥ä½œï¼ˆä¸ä»…ä»…æ˜¯ Kubernetesï¼‰ã€‚æ­¤å¤–ï¼Œå®ƒè¿˜æœ‰ä¸€ä¸ª operator &amp;ndash; è€Œ sidecar å’Œ Operator æ˜¯ä¸»è¦çš„æ‰©å±•æœºåˆ¶ã€‚å…¶ä»–ä¸€äº›ç»„ä»¶ç®¡ç†è¯ä¹¦ã€å¤„ç†åŸºäº actor çš„å»ºæ¨¡å¹¶æ³¨å…¥ sidecarã€‚ä½ çš„å·¥ä½œè´Ÿè½½ä¸ sidecar äº¤äº’ï¼Œå¹¶å°½å…¶æ‰€èƒ½ä¸å…¶ä»–æœåŠ¡å¯¹è¯ï¼Œè®©ä½ ä¸ä¸åŒçš„äº‘æä¾›å•†è¿›è¡Œäº’æ“ä½œã€‚å®ƒè¿˜ä¸ºä½ æä¾›äº†é¢å¤–çš„åˆ†å¸ƒå¼ç³»ç»ŸåŠŸèƒ½ã€‚&lt;/p>
&lt;p>ç»¼ä¸Šæ‰€è¿°ï¼Œè¿™äº›é¡¹ç›®æ‰€æä¾›çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬å¯ä»¥è¯´ ESB æ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿçš„æ—©æœŸåŒ–èº«ï¼Œå…¶ä¸­æˆ‘ä»¬æœ‰é›†ä¸­å¼çš„æ§åˆ¶å¹³é¢å’Œæ•°æ®å¹³é¢&amp;ndash;ä½†æ˜¯æ‰©å±•æ€§ä¸å¥½ã€‚åœ¨äº‘åŸç”Ÿä¸­ï¼Œé›†ä¸­å¼æ§åˆ¶å¹³é¢ä»ç„¶å­˜åœ¨ï¼Œä½†æ˜¯æ•°æ®å¹³é¢æ˜¯åˆ†æ•£çš„&amp;ndash;å¹¶ä¸”å…·æœ‰éš”éŸ³åŠŸèƒ½å’Œé«˜åº¦çš„å¯æ‰©å±•æ€§ã€‚&lt;/p>
&lt;p>æˆ‘ä»¬å§‹ç»ˆéœ€è¦ Kubernetes æ¥åšè‰¯å¥½çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œä½ å¯èƒ½è¿˜éœ€è¦ä¸€ä¸ªæˆ–å¤šä¸ªé™„åŠ ç»„ä»¶ã€‚ä½ å¯èƒ½éœ€è¦ Istio æ¥è¿›è¡Œé«˜çº§è”ç½‘ã€‚ä½ å¯èƒ½ä¼šä½¿ç”¨ Knative æ¥è¿›è¡Œæ— æœåŠ¡å™¨å·¥ä½œè´Ÿè½½ï¼Œæˆ–è€…ä½¿ç”¨ Dapr æ¥åšé›†æˆã€‚è¿™äº›æ¡†æ¶å¯ä¸ Istio å’Œ Envoy å¾ˆå¥½çš„é…åˆä½¿ç”¨ã€‚ä» Dapr å’Œ Knative çš„è§’åº¦æ¥çœ‹ï¼Œä½ å¯èƒ½å¿…é¡»é€‰æ‹©ä¸€ä¸ªã€‚å®ƒä»¬å…±åŒä»¥äº‘åŸç”Ÿçš„æ–¹å¼æä¾›äº†æˆ‘ä»¬è¿‡å»åœ¨ ESB ä¸Šæ‹¥æœ‰çš„ä¸œè¥¿ã€‚&lt;/p>
&lt;h2 id="æœªæ¥äº‘åŸç”Ÿè¶‹åŠ¿--ç”Ÿå‘½å‘¨æœŸè¶‹åŠ¿">æœªæ¥äº‘åŸç”Ÿè¶‹åŠ¿&amp;ndash;ç”Ÿå‘½å‘¨æœŸè¶‹åŠ¿&lt;/h2>
&lt;p>åœ¨æ¥ä¸‹æ¥çš„éƒ¨åˆ†ï¼Œæˆ‘åˆ—å‡ºäº†ä¸€äº›æˆ‘è®¤ä¸ºåœ¨è¿™äº›é¢†åŸŸæ­£åœ¨å‘ç”Ÿä»¤äººæŒ¯å¥‹çš„å‘å±•çš„é¡¹ç›®ã€‚&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/03/30/8image0141616431695762.jpg" alt="">&lt;/p>
&lt;p>æˆ‘æƒ³ä»ç”Ÿå‘½å‘¨æœŸå¼€å§‹ã€‚é€šè¿‡ Kubernetesï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºåº”ç”¨ç¨‹åºæä¾›ä¸€ä¸ªæœ‰ç”¨çš„ç”Ÿå‘½å‘¨æœŸï¼Œè¿™å¯èƒ½ä¸è¶³ä»¥è¿›è¡Œæ›´å¤æ‚çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†ã€‚æ¯”å¦‚ï¼Œå¦‚æœä½ æœ‰ä¸€ä¸ªæ›´å¤æ‚çš„æœ‰çŠ¶æ€åº”ç”¨ï¼Œåˆ™å¯èƒ½ä¼šæœ‰è¿™æ ·çš„åœºæ™¯ï¼Œå…¶ä¸­ Kubernetes ä¸­çš„éƒ¨ç½²åŸè¯­ä¸è¶³ä»¥ä¸ºåº”ç”¨æä¾›æ”¯æŒã€‚&lt;/p>
&lt;p>åœ¨è¿™äº›åœºæ™¯ä¸‹ï¼Œä½ å¯ä»¥ä½¿ç”¨ operator æ¨¡å¼ã€‚ä½ å¯ä»¥ä½¿ç”¨ä¸€ä¸ª operator æ¥è¿›è¡Œéƒ¨ç½²å’Œå‡çº§ï¼Œè¿˜å¯ä»¥å°† S3 ä½œä¸ºæœåŠ¡å¤‡ä»½çš„å­˜å‚¨ä»‹è´¨ã€‚æ­¤å¤–ï¼Œä½ å¯èƒ½è¿˜ä¼šå‘ç° Kubernetes çš„å®é™…å¥åº·æ£€æŸ¥æœºåˆ¶ä¸å¤Ÿå¥½ã€‚å‡è®¾å­˜æ´»æ£€æŸ¥å’Œå°±ç»ªæ£€æŸ¥ä¸å¤Ÿå¥½ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ å¯ä»¥ä½¿ç”¨ operator å¯¹ä½ çš„åº”ç”¨è¿›è¡Œæ›´æ™ºèƒ½çš„å­˜æ´»å’Œå°±ç»ªæ£€æŸ¥ï¼Œç„¶ååœ¨æ­¤åŸºç¡€ä¸Šè¿›è¡Œæ¢å¤ã€‚&lt;/p>
&lt;p>ç¬¬ä¸‰ä¸ªé¢†åŸŸå°±æ˜¯è‡ªåŠ¨ä¼¸ç¼©å’Œè°ƒæ•´ã€‚ä½ å¯ä»¥è®© operator æ›´å¥½çš„äº†è§£ä½ çš„åº”ç”¨ï¼Œå¹¶åœ¨å¹³å°ä¸Šè¿›è¡Œè‡ªåŠ¨è°ƒæ•´ã€‚ç›®å‰ï¼Œç¼–å†™ operator çš„æ¡†æ¶ä¸»è¦æœ‰ä¸¤ä¸ªï¼Œä¸€ä¸ªæ˜¯ Kubernetes ç‰¹åˆ«å…´è¶£å°ç»„çš„ Kubebuilderï¼Œå¦ä¸€ä¸ªæ˜¯çº¢å¸½åˆ›å»ºçš„ operator æ¡†æ¶çš„ä¸€éƒ¨åˆ†&amp;ndash;operator SDKã€‚å®ƒæœ‰ä»¥ä¸‹å‡ ä¸ªæ–¹é¢çš„å†…å®¹ï¼š&lt;/p>
&lt;p>Operator SDK è®©ä½ å¯ä»¥ç¼–å†™ operator &amp;ndash; operator ç”Ÿå‘½å‘¨æœŸç®¡ç†å™¨æ¥ç®¡ç† operator çš„ç”Ÿå‘½å‘¨æœŸï¼Œä»¥åŠå¯ä»¥å‘å¸ƒä½ çš„ operator åˆ° OperatorHubã€‚å¦‚ä»Šåœ¨ OperatorHubï¼Œä½ ä¼šçœ‹åˆ° 100 å¤šä¸ª operator ç”¨äºç®¡ç†æ•°æ®åº“ã€æ¶ˆæ¯é˜Ÿåˆ—å’Œç›‘æ§å·¥å…·ã€‚ä»ç”Ÿå‘½å‘¨æœŸç©ºé—´æ¥çœ‹ï¼Œoperator å¯èƒ½æ˜¯ Kubernetes ç”Ÿæ€ç³»ç»Ÿä¸­å‘å±•æœ€æ´»è·ƒçš„é¢†åŸŸã€‚&lt;/p>
&lt;h2 id="ç½‘ç»œè¶‹åŠ¿---envoy">ç½‘ç»œè¶‹åŠ¿ - Envoy&lt;/h2>
&lt;p>æˆ‘é€‰çš„å¦ä¸€ä¸ªé¡¹ç›®æ˜¯ &lt;a href="https://www.envoyproxy.io/">Envoy&lt;/a>ã€‚æœåŠ¡ç½‘æ ¼æ¥å£è§„èŒƒçš„å¼•å…¥å°†ä½¿ä½ æ›´è½»æ¾åœ°åˆ‡æ¢ä¸åŒçš„æœåŠ¡ç½‘æ ¼å®ç°ã€‚åœ¨éƒ¨ç½²ä¸Š Istio å¯¹æ¶æ„è¿›è¡Œäº†ä¸€äº›æ•´åˆã€‚ä½ ä¸å†éœ€è¦ä¸ºæ§åˆ¶å¹³é¢éƒ¨ç½² 7 ä¸ª Podï¼›ç°åœ¨ï¼Œä½ åªéœ€è¦éƒ¨ç½²ä¸€æ¬¡å°±å¯ä»¥äº†ã€‚æ›´æœ‰è¶£çš„æ˜¯åœ¨ Envoy é¡¹ç›®çš„æ•°æ®å¹³é¢ä¸Šæ‰€æ­£åœ¨å‘ç”Ÿçš„ï¼šè¶Šæ¥è¶Šå¤šçš„ç¬¬ 7 å±‚åè®®è¢«æ·»åŠ åˆ° Envoy ä¸­ã€‚&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/03/30/11image0151616431697613.jpg" alt="">&lt;/p>
&lt;p>æœåŠ¡ç½‘æ ¼å¢åŠ äº†å¯¹æ›´å¤šåè®®çš„æ”¯æŒï¼Œæ¯”å¦‚ MongoDBã€ZooKeeperã€MySQLã€Redisï¼Œè€Œæœ€æ–°çš„åè®®æ˜¯ Kafkaã€‚æˆ‘çœ‹åˆ° Kafka ç¤¾åŒºç°åœ¨æ­£åœ¨è¿›ä¸€æ­¥æ”¹è¿›ä»–ä»¬çš„åè®®ï¼Œä½¿å…¶å¯¹æœåŠ¡ç½‘æ ¼æ›´åŠ å‹å¥½ã€‚æˆ‘ä»¬å¯ä»¥é¢„æ–™å°†ä¼šæœ‰æ›´ç´§å¯†çš„é›†æˆã€æ›´å¤šçš„åŠŸèƒ½ã€‚æœ€æœ‰å¯èƒ½çš„æ˜¯ï¼Œä¼šæœ‰ä¸€äº›æ¡¥æ¥çš„èƒ½åŠ›ã€‚ä½ å¯ä»¥ä»æœåŠ¡ä¸­åœ¨ä½ çš„åº”ç”¨æœ¬åœ°åšä¸€ä¸ª HTTP è°ƒç”¨ï¼Œè€Œä»£ç†å°†åœ¨åå°ä½¿ç”¨ Kafkaã€‚ä½ å¯ä»¥åœ¨åº”ç”¨å¤–éƒ¨ï¼Œåœ¨ sidecar ä¸­é’ˆå¯¹ Kafka åè®®è¿›è¡Œè½¬æ¢å’ŒåŠ å¯†ã€‚&lt;/p>
&lt;p>å¦ä¸€ä¸ªä»¤äººå…´å¥‹çš„å‘å±•æ˜¯å¼•å…¥äº† HTTP ç¼“å­˜ã€‚ç°åœ¨ Envoy å¯ä»¥è¿›è¡Œ HTTP ç¼“å­˜ã€‚ä½ ä¸å¿…åœ¨ä½ çš„åº”ç”¨ä¸­ä½¿ç”¨ç¼“å­˜å®¢æˆ·ç«¯ã€‚æ‰€æœ‰è¿™äº›éƒ½æ˜¯åœ¨ sidecar ä¸­é€æ˜åœ°å®Œæˆçš„ã€‚æœ‰äº† tap è¿‡æ»¤å™¨ï¼Œä½ å¯ä»¥ tap æµé‡å¹¶è·å¾—æµé‡çš„å‰¯æœ¬ã€‚æœ€è¿‘ï¼ŒWebAssembly çš„å¼•å…¥ï¼Œæ„å‘³ç€å¦‚æœä½ è¦ä¸º Envoy ç¼–å†™ä¸€äº›è‡ªå®šä¹‰çš„è¿‡æ»¤å™¨ï¼Œä½ ä¸å¿…ç”¨ C++ ç¼–å†™ï¼Œä¹Ÿä¸å¿…ç¼–è¯‘æ•´ä¸ª Envoy è¿è¡Œæ—¶ã€‚ä½ å¯ä»¥ç”¨ WebAssembly å†™ä½ çš„è¿‡æ»¤å™¨ï¼Œç„¶ååœ¨è¿è¡Œæ—¶è¿›è¡Œéƒ¨ç½²ã€‚è¿™äº›å¤§å¤šæ•°è¿˜åœ¨è¿›è¡Œä¸­ã€‚å®ƒä»¬ä¸å­˜åœ¨ï¼Œè¯´æ˜æ•°æ®å¹³é¢å’ŒæœåŠ¡ç½‘æ ¼æ— æ„åœæ­¢ï¼Œä»…æ”¯æŒ HTTP å’Œ gRPCã€‚ä»–ä»¬æœ‰å…´è¶£æ”¯æŒæ›´å¤šçš„åº”ç”¨å±‚åè®®ï¼Œä¸ºä½ æä¾›æ›´å¤šçš„åŠŸèƒ½ï¼Œä»¥å®ç°æ›´å¤šçš„ç”¨ä¾‹ã€‚æœ€ä¸»è¦çš„æ˜¯ï¼Œéšç€ WebAssembly çš„å¼•å…¥ï¼Œä½ ç°åœ¨å¯ä»¥åœ¨ sidecar ä¸­ç¼–å†™è‡ªå®šä¹‰é€»è¾‘ã€‚åªè¦ä½ æ²¡æœ‰åœ¨å…¶ä¸­æ·»åŠ ä¸€äº›ä¸šåŠ¡é€»è¾‘å°±å¯ä»¥äº†ã€‚&lt;/p>
&lt;h2 id="ç»‘å®šè¶‹åŠ¿---apache-camel">ç»‘å®šè¶‹åŠ¿ - Apache Camel&lt;/h2>
&lt;p>&lt;a href="https://camel.apache.org/">Apache Camel&lt;/a> æ˜¯ä¸€ä¸ªç”¨äºé›†æˆçš„é¡¹ç›®ï¼Œå®ƒå…·æœ‰å¾ˆå¤šä½¿ç”¨ä¼ä¸šé›†æˆæ¨¡å¼è¿æ¥åˆ°ä¸åŒç³»ç»Ÿçš„è¿æ¥å™¨ã€‚Â æ¯”å¦‚ &lt;a href="https://camel.apache.org/releases/release-3.0.0/">Camel version 3&lt;/a> å°±æ·±åº¦é›†æˆåˆ°äº† Kubernetes ä¸­ï¼Œå¹¶ä¸”ä½¿ç”¨äº†æˆ‘ä»¬åˆ°ç›®å‰ä¸ºæ­¢æ‰€è®²çš„é‚£äº›åŸè¯­ï¼Œæ¯”å¦‚ operatorã€‚&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/03/30/7image0161616431694981.jpg" alt="">&lt;/p>
&lt;p>ä½ å¯ä»¥åœ¨ Camel ä¸­ç”¨ Javaã€JavaScript æˆ– YAML ç­‰è¯­è¨€ç¼–å†™ä½ çš„é›†æˆé€»è¾‘ã€‚æœ€æ–°çš„ç‰ˆæœ¬å¼•å…¥äº†ä¸€ä¸ª Camel operatorï¼Œå®ƒåœ¨ Kubernetes ä¸­è¿è¡Œå¹¶ç†è§£ä½ çš„é›†æˆã€‚å½“ä½ å†™å¥½ Camel åº”ç”¨ï¼Œå°†å…¶éƒ¨ç½²åˆ°è‡ªå®šä¹‰èµ„æºä¸­ï¼Œoperator å°±çŸ¥é“å¦‚ä½•æ„å»ºå®¹å™¨æˆ–æŸ¥æ‰¾ä¾èµ–é¡¹ã€‚æ ¹æ®å¹³å°çš„èƒ½åŠ›ï¼Œä¸ç®¡æ˜¯åªç”¨ Kubernetesï¼Œè¿˜æ˜¯å¸¦æœ‰ Knative çš„ Kubernetesï¼Œå®ƒéƒ½å¯ä»¥å†³å®šè¦ä½¿ç”¨çš„æœåŠ¡ä»¥åŠå¦‚ä½•å®ç°é›†æˆã€‚åœ¨è¿è¡Œæ—¶ä¹‹å¤–æœ‰ç›¸å½“å¤šçš„æ™ºèƒ½ &amp;ndash; åŒ…æ‹¬ operator &amp;ndash; æ‰€æœ‰è¿™äº›éƒ½éå¸¸å¿«åœ°å‘ç”Ÿã€‚ä¸ºä»€ä¹ˆæˆ‘ä¼šè¯´è¿™æ˜¯ä¸€ä¸ªç»‘å®šçš„è¶‹åŠ¿ï¼Ÿä¸»è¦æ˜¯å› ä¸º Apache Camel æä¾›çš„è¿æ¥å™¨çš„åŠŸèƒ½ã€‚è¿™é‡Œæœ‰è¶£çš„ä¸€ç‚¹æ˜¯å®ƒå¦‚ä½•ä¸ Kubernetes æ·±åº¦é›†æˆã€‚&lt;/p>
&lt;h2 id="çŠ¶æ€è¶‹åŠ¿---cloudstate">çŠ¶æ€è¶‹åŠ¿ - Cloudstate&lt;/h2>
&lt;p>å¦ä¸€ä¸ªæˆ‘æƒ³è®¨è®ºçš„é¡¹ç›®æ˜¯ &lt;a href="https://cloudstate.io/">Cloudstate&lt;/a> å’Œä¸çŠ¶æ€ç›¸å…³çš„è¶‹åŠ¿ã€‚Cloudstate æ˜¯ Lightbend çš„ä¸€ä¸ªé¡¹ç›®ï¼Œä¸»è¦è‡´åŠ›äºæ— æœåŠ¡å™¨å’ŒåŠŸèƒ½é©±åŠ¨çš„å¼€å‘ã€‚æœ€æ–°å‘å¸ƒçš„ç‰ˆæœ¬ï¼Œæ­£åœ¨ä½¿ç”¨ sidecar å’Œ operator ä¸ Kubernetes è¿›è¡Œæ·±åº¦é›†æˆã€‚&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/03/30/8image0171616431996943.jpg" alt="">&lt;/p>
&lt;p>è¿™ä¸ªåˆ›æ„æ˜¯ï¼Œå½“ä½ ç¼–å†™ä½ çš„åŠŸèƒ½æ—¶ï¼Œä½ åœ¨åŠŸèƒ½ä¸­è¦åšçš„å°±æ˜¯ä½¿ç”¨ gRPC æ¥è·å–çŠ¶æ€å¹¶ä¸ä¹‹è¿›è¡Œäº¤äº’ã€‚æ•´ä¸ªçŠ¶æ€ç®¡ç†åœ¨ä¸å…¶ä»– sidecar ç¾¤é›†çš„ sidear ä¸­è¿›è¡Œã€‚å®ƒä½¿ä½ èƒ½å¤Ÿè¿›è¡Œäº‹ä»¶æº¯æºã€CQRSã€é”®å€¼æŸ¥è¯¢ã€æ¶ˆæ¯ä¼ é€’ã€‚&lt;/p>
&lt;p>ä»åº”ç”¨ç¨‹åºè§’åº¦æ¥çœ‹ï¼Œä½ å¹¶ä¸äº†è§£æ‰€æœ‰è¿™äº›å¤æ‚æ€§ã€‚ä½ æ‰€åšçš„åªæ˜¯è°ƒç”¨ä¸€ä¸ªæœ¬åœ°çš„ sidecarï¼Œè€Œ sidecar ä¼šå¤„ç†è¿™äº›å¤æ‚çš„äº‹æƒ…ã€‚å®ƒå¯ä»¥åœ¨åå°ä½¿ç”¨ä¸¤ä¸ªä¸åŒçš„æ•°æ®æºã€‚è€Œä¸”å®ƒæ‹¥æœ‰å¼€å‘äººå‘˜æ‰€éœ€çš„æ‰€æœ‰æœ‰çŠ¶æ€æŠ½è±¡ã€‚&lt;/p>
&lt;p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²ç»çœ‹åˆ°äº†äº‘åŸç”Ÿç”Ÿæ€ç³»ç»Ÿä¸­çš„æœ€æ–°æŠ€æœ¯ä»¥åŠä¸€äº›ä»åœ¨è¿›è¡Œä¸­çš„å¼€å‘ã€‚æˆ‘ä»¬å¦‚ä½•ç†è§£è¿™ä¸€åˆ‡ï¼Ÿ&lt;/p>
&lt;h2 id="å¤šè¿è¡Œæ—¶å¾®æœåŠ¡å·²ç»åˆ°æ¥">å¤šè¿è¡Œæ—¶å¾®æœåŠ¡å·²ç»åˆ°æ¥&lt;/h2>
&lt;p>å¦‚æœä½ çœ‹å¾®æœåŠ¡åœ¨ Kubernetes ä¸Šçš„æ ·å­ï¼Œåˆ™å°†éœ€è¦ä½¿ç”¨æŸäº›å¹³å°åŠŸèƒ½ã€‚æ­¤å¤–ï¼Œä½ å°†éœ€è¦é¦–å…ˆä½¿ç”¨ Kubernetes çš„åŠŸèƒ½è¿›è¡Œç”Ÿå‘½å‘¨æœŸç®¡ç†ã€‚ç„¶åï¼Œå¾ˆæœ‰å¯èƒ½é€æ˜åœ°ï¼Œä½ çš„æœåŠ¡ä¼šä½¿ç”¨æŸäº›æœåŠ¡ç½‘æ ¼ï¼ˆä¾‹å¦‚ Envoyï¼‰æ¥è·å¾—å¢å¼ºçš„ç½‘ç»œåŠŸèƒ½ï¼Œæ— è®ºæ˜¯æµé‡è·¯ç”±ã€å¼¹æ€§ã€å¢å¼ºçš„å®‰å…¨æ€§ï¼Œç”šè‡³å‡ºäºç›‘æ§çš„ç›®çš„ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œæ ¹æ®ä½ çš„åœºæ™¯å’Œä½¿ç”¨çš„å·¥ä½œè´Ÿè½½å¯èƒ½éœ€è¦ Dapr æˆ–è€… Knativeã€‚æ‰€æœ‰è¿™äº›éƒ½ä»£è¡¨äº†è¿›ç¨‹å¤–é™„åŠ çš„åŠŸèƒ½ã€‚å‰©ä¸‹çš„å°±æ˜¯ç¼–å†™ä¸šåŠ¡é€»è¾‘ï¼Œä¸æ˜¯æ”¾åœ¨æœ€ä¸Šé¢è€Œæ˜¯ä½œä¸ºä¸€ä¸ªå•ç‹¬çš„è¿è¡Œæ—¶æ¥ç¼–å†™ã€‚æœªæ¥çš„å¾®æœåŠ¡å¾ˆæœ‰å¯èƒ½å°†æ˜¯ç”±å¤šä¸ªå®¹å™¨ç»„æˆçš„è¿™ç§å¤šè¿è¡Œæ—¶ã€‚æœ‰äº›æ˜¯é€æ˜çš„ï¼Œæœ‰äº›åˆ™æ˜¯éå¸¸æ˜ç¡®çš„ã€‚&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/03/30/6image0181616431996411.jpg" alt="">&lt;/p>
&lt;h2 id="æ™ºèƒ½çš„-sidecar-å’Œæ„šè ¢çš„ç®¡é“">æ™ºèƒ½çš„ sidecar å’Œæ„šè ¢çš„ç®¡é“&lt;/h2>
&lt;p>å¦‚æœæ›´æ·±å…¥åœ°çœ‹ï¼Œé‚£å¯èƒ½æ˜¯ä»€ä¹ˆæ ·çš„ï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸€äº›é«˜çº§è¯­è¨€ç¼–å†™ä¸šåŠ¡é€»è¾‘ã€‚æ˜¯ä»€ä¹ˆå¹¶ä¸é‡è¦ï¼Œä¸å¿…ä»…æ˜¯ Javaï¼Œå› ä¸ºä½ å¯ä»¥ä½¿ç”¨ä»»ä½•å…¶ä»–è¯­è¨€å¹¶åœ¨å†…éƒ¨å¼€å‘è‡ªå®šä¹‰é€»è¾‘ã€‚&lt;/p>
&lt;p>ä½ çš„ä¸šåŠ¡é€»è¾‘ä¸å¤–éƒ¨ä¸–ç•Œçš„æ‰€æœ‰äº¤äº’éƒ½æ˜¯é€šè¿‡ sidecar å‘ç”Ÿçš„ï¼Œå¹¶ä¸å¹³å°é›†æˆè¿›è¡Œç”Ÿå‘½å‘¨æœŸç®¡ç†ã€‚å®ƒä¸ºå¤–éƒ¨ç³»ç»Ÿæ‰§è¡Œç½‘ç»œæŠ½è±¡ï¼Œä¸ºä½ æä¾›é«˜çº§çš„ç»‘å®šåŠŸèƒ½å’ŒçŠ¶æ€æŠ½è±¡ã€‚sidecar æ˜¯ä½ ä¸éœ€è¦å¼€å‘çš„ä¸œè¥¿ã€‚ä½ å¯ä»¥ä»è´§æ¶ä¸Šæ‹¿åˆ°å®ƒã€‚ä½ ç”¨ä¸€ç‚¹ YAML æˆ– JSON é…ç½®å®ƒï¼Œç„¶åå°±å¯ä»¥ä½¿ç”¨å®ƒã€‚è¿™æ„å‘³ç€ä½ å¯ä»¥è½»æ¾åœ°æ›´æ–° sidecarï¼Œå› ä¸ºå®ƒä¸å†è¢«åµŒå…¥åˆ°ä½ çš„è¿è¡Œæ—¶ã€‚è¿™ä½¿å¾—æ‰“è¡¥ä¸ã€æ›´æ–°å˜å¾—æ›´åŠ æ›´å®¹æ˜“ã€‚å®ƒä¸ºæˆ‘ä»¬çš„ä¸šåŠ¡é€»è¾‘å¯ç”¨äº†å¤šè¯­è¨€è¿è¡Œæ—¶ã€‚&lt;/p>
&lt;h2 id="å¾®æœåŠ¡ä¹‹åæ˜¯ä»€ä¹ˆ">å¾®æœåŠ¡ä¹‹åæ˜¯ä»€ä¹ˆï¼Ÿ&lt;/h2>
&lt;p>è¿™è®©æˆ‘æƒ³åˆ°äº†æœ€åˆçš„é—®é¢˜ï¼Œå¾®æœåŠ¡ä¹‹åæ˜¯ä»€ä¹ˆï¼Ÿ&lt;/p>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/03/30/6image0201616431995910.jpg" alt="">&lt;/p>
&lt;p>å¦‚æœæˆ‘ä»¬çœ‹ä¸‹æ¶æ„çš„å‘å±•å†ç¨‹ï¼Œåº”ç”¨æ¶æ„åœ¨å¾ˆé«˜çš„å±‚é¢ä¸Šæ˜¯ä»å•ä½“åº”ç”¨å¼€å§‹çš„ã€‚ç„¶è€Œå¾®æœåŠ¡ç»™æˆ‘ä»¬æä¾›äº†å¦‚ä½•æŠŠä¸€ä¸ªå•ä½“åº”ç”¨æ‹†åˆ†æˆç‹¬ç«‹çš„ä¸šåŠ¡åŸŸçš„æŒ‡å¯¼åŸåˆ™ã€‚ä¹‹ååˆå‡ºç°äº†æ— æœåŠ¡å™¨å’ŒåŠŸèƒ½å³æœåŠ¡ï¼ˆFaaSï¼‰ï¼Œæˆ‘ä»¬è¯´è¿‡å¯ä»¥æŒ‰æ“ä½œå°†å…¶è¿›ä¸€æ­¥æ‹†åˆ†ï¼Œä»è€Œå®ç°æé«˜çš„å¯æ‰©å±•æ€§-å› ä¸ºæˆ‘ä»¬å¯ä»¥åˆ†åˆ«æ‰©å±•æ¯ä¸ªæ“ä½œã€‚&lt;/p>
&lt;p>æˆ‘æƒ³è¯´çš„æ˜¯ FaaS å¹¶ä¸æ˜¯æœ€å¥½çš„æ¨¡å¼ &amp;ndash; å› ä¸ºåŠŸèƒ½å¹¶ä¸æ˜¯å®ç°åˆç†çš„å¤æ‚æœåŠ¡çš„æœ€ä½³æ¨¡å¼ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå½“å¤šä¸ªæ“ä½œå¿…é¡»ä¸åŒä¸€ä¸ªæ•°æ®é›†è¿›è¡Œäº¤äº’æ—¶ï¼Œä½ å¸Œæœ›å®ƒä»¬é©»ç•™åœ¨ä¸€èµ·ã€‚å¯èƒ½æ˜¯å¤šè¿è¡Œæ—¶ï¼ˆæˆ‘æŠŠå®ƒç§°ä¸º &lt;a href="https://www.infoq.com/articles/multi-runtime-microservice-architecture/">Mecha æ¶æ„&lt;/a>ï¼‰ï¼Œåœ¨è¯¥æ¶æ„ä¸­ä½ å°†ä¸šåŠ¡é€»è¾‘æ”¾åœ¨ä¸€ä¸ªå®¹å™¨ä¸­ï¼Œè€Œæ‰€æœ‰ä¸åŸºç¡€è®¾æ–½ç›¸å…³çš„å…³æ³¨ç‚¹ä½œä¸ºä¸€ä¸ªå•ç‹¬çš„å®¹å™¨å­˜åœ¨ã€‚å®ƒä»¬å…±åŒä»£è¡¨å¤šè¿è¡Œæ—¶å¾®æœåŠ¡ã€‚ä¹Ÿè®¸è¿™æ˜¯ä¸€ä¸ªæ›´åˆé€‚çš„æ¨¡å‹ï¼Œå› ä¸ºå®ƒæœ‰æ›´å¥½çš„å±æ€§ã€‚&lt;/p>
&lt;p>ä½ å¯ä»¥è·å¾—å¾®æœåŠ¡çš„æ‰€æœ‰å¥½å¤„ã€‚ä»ç„¶å°†æ‰€æœ‰åŸŸå’Œæ‰€æœ‰é™ç•Œä¸Šä¸‹æ–‡æ”¾åœ¨ä¸€å¤„ã€‚ä½ å°†æ‰€æœ‰çš„åŸºç¡€è®¾æ–½å’Œåˆ†å¸ƒå¼åº”ç”¨éœ€æ±‚æ”¾åœ¨ä¸€ä¸ªå•ç‹¬çš„å®¹å™¨ä¸­ï¼Œå¹¶åœ¨è¿è¡Œæ—¶å°†å®ƒä»¬ç»„åˆåœ¨ä¸€èµ·ã€‚å¤§æ¦‚ï¼Œç°åœ¨æœ€æ¥è¿‘è¿™ç§æ¨¡å‹çš„æ˜¯ Daprã€‚ä»–ä»¬æ­£åœ¨éµå¾ªè¿™ç§æ¨¡å‹ã€‚å¦‚æœä½ ä»…å¯¹ç½‘ç»œæ–¹é¢æ„Ÿå…´è¶£ï¼Œé‚£ä¹ˆå¯èƒ½ä½¿ç”¨ Envoy ä¹Ÿä¼šæ¥è¿‘è¿™ç§æ¨¡å‹ã€‚&lt;/p>
&lt;h2 id="å…³äºä½œè€…">å…³äºä½œè€…&lt;/h2>
&lt;p>&lt;img src="https://atbug.oss-cn-hangzhou.aliyuncs.com/2021/03/30/21bilgin-ibryam15886810412341616480845087.jpeg" alt="">&lt;/p>
&lt;p>&lt;strong>Bilgin Ibryam&lt;/strong> æ˜¯çº¢å¸½å…¬å¸çš„äº§å“ç»ç†å’Œå‰æ¶æ„å¸ˆã€æäº¤äººï¼Œå¹¶ä¸”æ˜¯ Apache è½¯ä»¶åŸºé‡‘ä¼šçš„æˆå‘˜ã€‚ä»–æ˜¯å¼€æºå¸ƒé“è€…ï¼Œç»å¸¸å†™åšå®¢ã€å‘è¡¨æ¼”è®²ï¼Œæ˜¯ &lt;a href="https://k8spatterns.io/">Kubernetes Patterns&lt;/a> å’Œ Camel Design Patterns ä¹¦ç±çš„ä½œè€…ã€‚Bilgin ç›®å‰çš„å·¥ä½œä¸»è¦é›†ä¸­åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿã€äº‹ä»¶é©±åŠ¨æ¶æ„ä»¥åŠå¯é‡å¤çš„äº‘åŸç”Ÿåº”ç”¨å¼€å‘æ¨¡å¼å’Œå®è·µä¸Šã€‚è¯·å…³æ³¨ä»– @bibryam äº†è§£æœªæ¥ç±»ä¼¼ä¸»é¢˜çš„æ›´æ–°ã€‚&lt;/p></description></item><item><title>ã€è¯‘ã€‘2021 å¹´åŠæœªæ¥çš„äº‘åŸç”Ÿé¢„æµ‹</title><link>https://atbug.com/translation-cloud-native-predictions-for-2021-and-beyond/</link><pubDate>Tue, 09 Feb 2021 06:43:54 +0800</pubDate><guid>https://atbug.com/translation-cloud-native-predictions-for-2021-and-beyond/</guid><description>
&lt;p>æœ¬æ–‡è¯‘è‡ª &lt;a href="https://www.cncf.io/blog/2021/01/29/cloud-native-predictions-for-2021-and-beyond/">Cloud Native Predictions for 2021 and Beyond&lt;/a>&lt;/p>
&lt;p>åŸæ–‡å‘å¸ƒåœ¨Â &lt;a href="https://www.aniszczyk.org/2021/01/19/cloud-native-predictions-for-2021-and-beyond/">Chris Aniszczyk çš„ä¸ªäººåšå®¢&lt;/a>&lt;/p>
&lt;p>æˆ‘å¸Œæœ›æ¯ä¸ªäººéƒ½æœ‰ä¸€ä¸ªç¾å¥½çš„å‡æœŸï¼Œå› ä¸º 2021 å¹´ 1 æœˆçš„å‰å‡ å‘¨ä¸€ç›´éå¸¸ç–¯ç‹‚ï¼Œä»å›ä¹±åˆ°æ–°çš„ COVID èŒæ ªã€‚åœ¨äº‘åŸç”Ÿå›½åº¦ï¼ŒCNCF æœ€è¿‘å‘å¸ƒäº†å…³äºæˆ‘ä»¬å»å¹´å®Œæˆçš„æ‰€æœ‰å·¥ä½œçš„&lt;a href="https://www.cncf.io/cncf-annual-report-2020/">å¹´åº¦æŠ¥å‘Š&lt;/a>ã€‚æˆ‘å»ºè®®å¤§å®¶æ‰¾ä¸ªæœºä¼šå»çœ‹ä¸€ä¸‹è¿™ä»½æŠ¥å‘Šï¼Œåœ¨ç–«æƒ…å¤§æµè¡Œçš„è¿™ä¸€å¹´ï¼Œæˆ‘ä»¬æ”¶è·é¢‡ä¸°ã€‚&lt;a href="https://twitter.com/CloudNativeFdn/status/1343914259177222145">https://twitter.com/CloudNativeFdn/status/1343914259177222145&lt;/a>&lt;/p>
&lt;p>ä½œä¸ºæˆ‘å·¥ä½œçš„ä¸€éƒ¨åˆ†ï¼Œæˆ‘å¯¹äº‘åŸç”Ÿè¶‹åŠ¿æœ‰ä¸€ä¸ªç‹¬ç‰¹çš„è§‚ç‚¹ï¼Œé€ç»™æ‰€æœ‰ä¸æˆ‘åˆä½œçš„ä¼šå‘˜å…¬å¸å’Œå¼€å‘äººå‘˜ï¼Œæ‰€ä»¥æˆ‘æƒ³æˆ‘ä¼šåˆ†äº«æˆ‘å¯¹ 2021 å¹´åŠä»¥åäº‘åŸç”Ÿå‘å±•çš„æƒ³æ³•ã€‚&lt;/p>
&lt;p>&lt;strong>äº‘åŸç”Ÿçš„ IDE&lt;/strong>&lt;/p>
&lt;p>ä½œä¸ºä¸€ä¸ªåœ¨ Eclipse åŸºé‡‘ä¼šå†…éƒ¨ä»äº‹å¼€å‘è€…å·¥å…·å·¥ä½œçš„äººï¼Œæˆ‘å¯¹æœ€è¿‘çš„æŠ€æœ¯çŠ¶æ€è¿›å±•æ„Ÿåˆ°æ— æ¯”å…´å¥‹ã€‚æœªæ¥ï¼Œå¼€å‘ç”Ÿå‘½å‘¨æœŸï¼ˆä»£ç ã€æ„å»ºã€è°ƒè¯•ï¼‰å°†ä¸»è¦å‘ç”Ÿåœ¨äº‘ç«¯ï¼Œè€Œä¸æ˜¯ä½ æœ¬åœ°çš„ Emacs æˆ– VSCodeã€‚ä½ å°†æ¯ä¸€ä¸ªæ‹‰åŠ¨è¯·æ±‚æœ€ç»ˆå¾—åˆ°ä¸€ä¸ªå®Œæ•´çš„å¼€å‘ç¯å¢ƒè®¾ç½®ï¼Œé¢„å…ˆé…ç½®å¹¶è¿æ¥åˆ°ä»–ä»¬è‡ªå·±çš„éƒ¨ç½²ï¼Œä»¥ååŠ©ä½ çš„å¼€å‘å’Œè°ƒè¯•éœ€æ±‚ã€‚ä»Šå¤©è¿™ç§æŠ€æœ¯çš„ä¸€ä¸ªå…·ä½“ä¾‹å­æ˜¯é€šè¿‡ GitHub &lt;a href="https://github.com/features/codespaces">Codespaces&lt;/a> å’Œ &lt;a href="https://gitpod.io/">GitPod&lt;/a> å®ç°çš„ã€‚è™½ç„¶ GitHub Codespaces è¿˜å¤„äºæµ‹è¯•é˜¶æ®µï¼Œä½†ä»Šå¤©ä½ å¯ä»¥é€šè¿‡ GitPod æ¥ä½“éªŒï¼Œä»¥ &lt;a href="https://gitpod.io/#https://github.com/prometheus/prometheus">Prometheus&lt;/a> ä¸ºä¾‹ã€‚ä¸€åˆ†é’Ÿå·¦å³ï¼Œä½ å°±æ‹¥æœ‰äº†ä¸€ä¸ªæœ‰ç¼–è¾‘å™¨å’Œé¢„è§ˆç¯å¢ƒçš„å®Œå…¨å®æ—¶çš„å¼€å‘ç¯å¢ƒã€‚æœ€ç–¯ç‹‚çš„æ˜¯ï¼Œè¿™ä¸ªå¼€å‘ç¯å¢ƒï¼ˆå·¥ä½œç©ºé—´ï¼‰æ˜¯ &lt;a href="https://github.com/prometheus/prometheus/blob/master/.gitpod.yml">ç”¨ä»£ç æè¿°&lt;/a>ï¼Œå¹¶ä¸”å¯ä»¥åƒå…¶ä»–ä»£ç å·¥ä»¶ä¸€æ ·ï¼Œä¸ä½ å›¢é˜Ÿçš„å…¶ä»–å¼€å‘è€…å…±äº«ã€‚&lt;/p>
&lt;p>æœ€åï¼Œæˆ‘æœŸæœ›åœ¨æ¥ä¸‹æ¥çš„ä¸€å¹´é‡Œï¼Œèƒ½çœ‹åˆ°äº‘åŸç”Ÿ IDE é¢†åŸŸå‡ºç°ä»¤äººéš¾ä»¥ç½®ä¿¡çš„åˆ›æ–°ï¼Œç‰¹åˆ«æ˜¯éšç€ GitHub Codespaces è¿›å…¥æµ‹è¯•ç‰ˆä¹‹åï¼Œå¹¶å¾—åˆ°å¹¿æ³›åœ°ä½¿ç”¨ï¼Œè®©å¼€å‘è€…å¯ä»¥ä½“éªŒåˆ°è¿™ä¸ªæ–°æ¦‚å¿µï¼Œå¹¶çˆ±ä¸Šå®ƒã€‚&lt;/p>
&lt;p>&lt;strong>è¾¹ç¼˜çš„ Kubernetes&lt;/strong>&lt;/p>
&lt;p>Kubernetes æ˜¯é€šè¿‡åœ¨å¤§è§„æ¨¡æ•°æ®ä¸­å¿ƒçš„ä½¿ç”¨è€Œè¯ç”Ÿçš„ï¼Œä½† Kubernetes ä¼šåƒ Linux ä¸€æ ·ä¸ºæ–°çš„ç¯å¢ƒè€Œè¿›åŒ–ã€‚Linux æ‰€å‘ç”Ÿçš„äº‹æƒ…æ˜¯ï¼Œç»ˆç«¯ç”¨æˆ·æœ€ç»ˆå¯¹å†…æ ¸è¿›è¡Œäº†æ‰©å±•ï¼Œä»¥æ”¯æŒä»ç§»åŠ¨ã€åµŒå…¥å¼ç­‰å„ç§æ–°çš„éƒ¨ç½²åœºæ™¯ã€‚æˆ‘åšä¿¡ Kubernetes ä¹Ÿä¼šç»å†ç±»ä¼¼çš„è¿›åŒ–ï¼Œæˆ‘ä»¬å·²ç»è§è¯äº† Telcosï¼ˆå’Œå…¶ä»–åˆåˆ›å…¬å¸ï¼‰é€šè¿‡å°† VNFs è½¬åŒ–ä¸º &lt;a href="https://github.com/cncf/cnf-wg">äº‘åŸç”Ÿç½‘ç»œåŠŸèƒ½&lt;/a>ï¼ˆCNFsï¼‰ï¼Œä»¥åŠ &lt;a href="https://k3s.io/">k3s&lt;/a>ã€KubeEdgeã€k0sã€&lt;a href="https://www.lfedge.org/">LFEdge&lt;/a>ã€Eclipse ioFog ç­‰å¼€æºé¡¹ç›®ï¼Œæ¥æ¢ç´¢ Kubernetes ä½œä¸ºè¾¹ç¼˜å¹³å°ã€‚æ¨åŠ¨è¶…å¤§è§„æ¨¡äº‘æœåŠ¡æ”¯æŒç”µä¿¡å…¬å¸å’Œè¾¹ç¼˜çš„èƒ½åŠ›ï¼Œå†åŠ ä¸Šé‡ç”¨äº‘åŸç”Ÿè½¯ä»¶çš„èƒ½åŠ›ï¼Œä»¥åŠå»ºç«‹åœ¨ç°æœ‰åºå¤§çš„ç”Ÿæ€ç³»ç»ŸåŸºç¡€ä¸Šçš„èƒ½åŠ›ï¼Œå°†å·©å›º Kubernetes åœ¨æœªæ¥å‡ å¹´å†…æˆä¸ºè¾¹ç¼˜è®¡ç®—çš„ä¸»å¯¼å¹³å°ã€‚&lt;/p>
&lt;p>&lt;strong>äº‘åŸç”Ÿ + Wasm&lt;/strong>&lt;/p>
&lt;p>&lt;a href="https://webassembly.org/">Web Assembly&lt;/a>(Wasm) æ˜¯ä¸€é¡¹æ–°çš„æŠ€æœ¯ï¼Œä½†æˆ‘é¢„è®¡å®ƒå°†æˆä¸ºäº‘åŸç”Ÿç”Ÿæ€ç³»ç»Ÿä¸­ä¸æ–­å¢é•¿çš„å®ç”¨å·¥å…·å’Œå·¥ä½œè´Ÿè½½ï¼Œç‰¹åˆ«æ˜¯éšç€ &lt;a href="https://wasi.dev/">WASI&lt;/a> çš„æˆç†Ÿï¼Œä»¥åŠ Kubernetes æ›´å¤šåœ°ä½œä¸ºè¾¹ç¼˜ç¼–æ’å·¥å…·ä½¿ç”¨ï¼Œå¦‚å‰æ‰€è¿°ã€‚ä¸€ä¸ªåœºæ™¯æ˜¯å¢å¼ºæ‰©å±•æœºåˆ¶ï¼Œå°±åƒ Envoy å¯¹è¿‡æ»¤å™¨å’Œ LuaJIT æ‰€åšçš„é‚£æ ·ã€‚ä½ å¯ä»¥ä¸ä¸€ä¸ªæ”¯æŒå„ç§ç¼–ç¨‹è¯­è¨€çš„æ›´å°çš„ä¼˜åŒ–è¿è¡Œæ—¶ååŒï¼Œè€Œä¸æ˜¯ç›´æ¥ä¸ Lua æ‰“äº¤é“ã€‚Envoy é¡¹ç›®ç›®å‰æ­£å¤„äº &lt;a href="https://www.solo.io/blog/the-state-of-webassembly-in-envoy-proxy/">é‡‡ç”¨ Wasm&lt;/a> çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘é¢„è®¡ä»»ä½•ä½¿ç”¨è„šæœ¬è¯­è¨€ä½œä¸ºæµè¡Œæ‰©å±•æœºåˆ¶çš„ç¯å¢ƒéƒ½ä¼šå‡ºç°è¢« Wasm å…¨ç›˜å–ä»£çš„æƒ…å†µã€‚&lt;/p>
&lt;p>åœ¨ Kubernetes æ–¹é¢ï¼Œæœ‰åƒå¾®è½¯çš„ &lt;a href="https://deislabs.io/posts/introducing-krustlet/">Krustlet&lt;/a> è¿™æ ·çš„é¡¹ç›®ï¼Œæ­£åœ¨æ¢ç´¢å¦‚ä½•åœ¨ Kubernetes ä¸­æ”¯æŒåŸºäº WASI çš„è¿è¡Œæ—¶ã€‚è¿™ä¸åº”è¯¥å¤ªä»¤äººæƒŠè®¶ï¼Œå› ä¸º Kubernetes å·²ç»åœ¨é€šè¿‡ CRD å’Œå…¶ä»–æœºåˆ¶æ‰©å±•ï¼Œä»¥è¿è¡Œä¸åŒç±»å‹çš„å·¥ä½œè´Ÿè½½ï¼Œå¦‚ VMï¼ˆ&lt;a href="https://kubevirt.io/">KubeVirt&lt;/a>ï¼‰ç­‰ç­‰ã€‚&lt;/p>
&lt;p>å¦å¤–ï¼Œå¦‚æœä½ æ˜¯ Wasm çš„æ–°æ‰‹ï¼Œæˆ‘æ¨è Linux åŸºé‡‘ä¼šçš„è¿™æœ¬æ–°çš„ &lt;a href="https://www.edx.org/course/introduction-to-webassembly-runtime">å…¥é—¨è¯¾ç¨‹&lt;/a>ï¼Œå®ƒå¯¹å…¶è¿›è¡Œäº†ä»‹ç»ï¼Œä»¥åŠä¼˜é€‰çš„æ–‡æ¡£ã€‚&lt;/p>
&lt;p>&lt;strong>FinOps çš„å´›èµ·ï¼ˆCFMï¼‰&lt;/strong>&lt;/p>
&lt;p>æ–°å† ç—…æ¯’çš„çˆ†å‘åŠ é€Ÿäº†å‘äº‘åŸç”Ÿçš„è½¬å˜ã€‚è‡³å°‘æœ‰ä¸€åŠçš„å…¬å¸åœ¨å±æœºä¸­åŠ å¿«äº†ä»–ä»¬çš„äº‘è®¡åˆ’ã€‚è¿‘ 60% çš„å—è®¿è€…è¡¨ç¤ºï¼Œç”±äº COVID-19 å¤§æµè¡Œï¼Œäº‘è®¡ç®—çš„ä½¿ç”¨é‡å°†è¶…è¿‡ä¹‹å‰çš„è®¡åˆ’ (&lt;a href="https://info.flexera.com/SLO-CM-REPORT-State-of-the-Cloud-2020">2020 å¹´äº‘è®¡ç®—ç°çŠ¶æŠ¥å‘Š&lt;/a>)ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œäº‘è´¢åŠ¡ç®¡ç† (æˆ– FinOps) å¯¹è®¸å¤šå…¬å¸æ¥è¯´æ˜¯ä¸€ä¸ªæ—¥ç›Šä¸¥é‡çš„é—®é¢˜å’Œ &lt;a href="https://www.wsj.com/articles/cloud-bills-will-get-loftier-1518363001">å…³æ³¨&lt;/a>ï¼Œè€å®è¯´ï¼Œåœ¨è¿‡å» 6 ä¸ªæœˆé‡Œï¼Œæˆ‘ä¸æ­£åœ¨è¿›è¡Œäº‘åŸç”Ÿä¹‹æ—…çš„å…¬å¸è¿›è¡Œçš„è®¨è®ºä¸­ï¼Œå¤§çº¦æœ‰ä¸€åŠçš„è®¨è®ºéƒ½ä¼šæåˆ°è¿™ä¸ªé—®é¢˜ã€‚ä½ ä¹Ÿå¯ä»¥è¯´ï¼Œäº‘æä¾›å•†æ²¡æœ‰åŠ¨åŠ›è®©äº‘è´¢åŠ¡ç®¡ç†å˜å¾—æ›´å®¹æ˜“ï¼Œå› ä¸ºè¿™å°†ä½¿å®¢æˆ·æ›´å®¹æ˜“å‡å°‘æ”¯å‡ºï¼Œç„¶è€Œï¼Œåœ¨æˆ‘çœ‹æ¥ï¼ŒçœŸæ­£çš„ç—›è‹¦æ˜¯ç¼ºä¹å›´ç»•äº‘è´¢åŠ¡ç®¡ç†çš„å¼€æºåˆ›æ–°å’Œæ ‡å‡†åŒ–ï¼ˆæ‰€æœ‰çš„äº‘éƒ½ä»¥ä¸åŒçš„æ–¹å¼è¿›è¡Œæˆæœ¬ç®¡ç†ï¼‰ã€‚åœ¨ CNCF çš„èƒŒæ™¯ä¸‹ï¼Œè¯•å›¾è®© FinOps å˜å¾—æ›´å®¹æ˜“çš„å¼€æºé¡¹ç›®å¹¶ä¸å¤šï¼Œæœ‰ &lt;a href="https://github.com/kubecost/cost-model">KubeCost&lt;/a> é¡¹ç›®ï¼Œä½†è¿˜ç›¸å½“æ—©æœŸã€‚&lt;/p>
&lt;p>å¦å¤–ï¼ŒLinux åŸºé‡‘ä¼šæœ€è¿‘æ¨å‡ºäº† &lt;a href="https://www.finops.org/blog/linux-foundation">FinOps åŸºé‡‘ä¼š&lt;/a> æ¥å¸®åŠ©è¿™ä¸ªé¢†åŸŸçš„åˆ›æ–°ï¼Œä»–ä»¬åœ¨è¿™ä¸ªé¢†åŸŸæœ‰ä¸€äº› &lt;a href="https://www.edx.org/course/introduction-to-finops">å¾ˆæ£’çš„å…¥é—¨ææ–™&lt;/a>ã€‚æˆ‘æœŸæœ›åœ¨æœªæ¥å‡ å¹´ï¼Œåœ¨ FinOps é¢†åŸŸèƒ½çœ‹åˆ°æ›´å¤šçš„å¼€æºé¡¹ç›®å’Œè§„èŒƒã€‚&lt;/p>
&lt;p>&lt;strong>äº‘åŸç”Ÿä¸­æ›´å¤šçš„ä½¿ç”¨ Rust&lt;/strong>&lt;/p>
&lt;p>Rust ä»ç„¶æ˜¯ä¸€é—¨å¹´è½»è€Œå°ä¼—çš„ç¼–ç¨‹è¯­è¨€ï¼Œç‰¹åˆ«æ˜¯å¦‚æœä½ ä»¥ Redmonk çš„ &lt;a href="https://redmonk.com/sogrady/2020/07/27/language-rankings-6-20/">ç¼–ç¨‹è¯­è¨€æ’å&lt;/a> ä¸ºä¾‹ã€‚ç„¶è€Œï¼Œæˆ‘çš„æ„Ÿè§‰æ˜¯ï¼Œé‰´äºå·²ç»æœ‰ä¸€äº› &lt;a href="https://www.cncf.io/blog/2020/06/22/rust-at-cncf/">ä½¿ç”¨ Rust çš„ CNCF é¡¹ç›®&lt;/a>ï¼Œä»¥åŠå®ƒå‡ºç°åœ¨åƒ microvm &lt;a href="https://firecracker-microvm.github.io/">Firecracker&lt;/a> è¿™æ ·æœ‰è¶£çš„åŸºç¡€è®¾æ–½é¡¹ç›®ä¸­ï¼Œä½ å°†åœ¨æœªæ¥ä¸€å¹´ä¸­çœ‹åˆ° Rust å‡ºç°åœ¨æ›´å¤šçš„äº‘åŸç”Ÿé¡¹ç›®ä¸­ã€‚è™½ç„¶ CNCF ç›®å‰æœ‰è¶…å¤šçš„é¡¹ç›®æ˜¯ç”¨ Golang ç¼–å†™çš„ï¼Œä½†æˆ‘é¢„è®¡éšç€ &lt;a href="https://blog.rust-lang.org/2020/08/18/laying-the-foundation-for-rusts-future.html">Rust ç¤¾åŒºçš„æˆç†Ÿ&lt;/a>ï¼Œå‡ å¹´ååŸºäº Rust çš„é¡¹ç›®å°†ä¸åŸºäº Go çš„é¡¹ç›®å¹³èµ·å¹³åã€‚&lt;/p>
&lt;p>&lt;strong>GitOps+CD/PD å¢é•¿æ˜¾è‘—&lt;/strong>&lt;/p>
&lt;p>&lt;a href="https://www.weave.works/blog/what-is-gitops-really">GitOps&lt;/a> æ˜¯äº‘åŸç”ŸæŠ€æœ¯çš„ä¸€ç§æ“ä½œæ¨¡å¼ï¼Œæä¾›äº†ä¸€å¥—ç»Ÿä¸€éƒ¨ç½²ã€ç®¡ç†å’Œç›‘æ§åº”ç”¨ç¨‹åºçš„æœ€ä½³å®è·µ (æœ€åˆæ˜¯ç”± Weaveworks åæ°”å¾ˆå¤§çš„ Alexis Richardson&lt;a href="https://www.weave.works/blog/gitops-operations-by-pull-request">åˆ›é€ &lt;/a>)ã€‚GitOps æœ€é‡è¦çš„æ–¹é¢æ˜¯é€šè¿‡å£°æ˜çš„æ–¹å¼æè¿°æ‰€éœ€çš„åœ¨ Git ä¸­ç‰ˆæœ¬åŒ–çš„ç³»ç»ŸçŠ¶æ€ï¼Œè¿™åŸºæœ¬ä¸Šå¯ä»¥ä½¿ä¸€ç³»åˆ—å¤æ‚çš„ç³»ç»Ÿå˜æ›´è¢«æ­£ç¡®åœ°åº”ç”¨ï¼Œç„¶åè¿›è¡ŒéªŒè¯ï¼ˆé€šè¿‡ Git å’Œå…¶ä»–å·¥å…·å¯ç”¨çš„æ¼‚äº®çš„å®¡è®¡æ—¥å¿—ï¼‰ã€‚ä»å®ç”¨çš„è§’åº¦æ¥çœ‹ï¼ŒGitOps æ”¹å–„äº†å¼€å‘è€…çš„ä½“éªŒï¼Œéšç€ Argoã€GitLabã€Flux ç­‰é¡¹ç›®çš„å‘å±•ï¼Œæˆ‘é¢„è®¡ä»Šå¹´ GitOps å·¥å…·ä¼šæ›´å¤šåœ°å†²å‡»ä¼ä¸šã€‚å¦‚æœä½ çœ‹è¿‡ GitLab çš„ &lt;a href="https://about.gitlab.com/blog/2020/07/14/gitops-next-big-thing-automation/">æ•°æ®&lt;/a>ï¼ŒGitOps è¿˜æ˜¯ä¸€ä¸ªå¤§éƒ¨åˆ†å…¬å¸è¿˜æ²¡æœ‰æ¢ç´¢å‡ºæ¥çš„æ–°å…´çš„å®è·µï¼Œä½†éšç€è¶Šæ¥è¶Šå¤šçš„å…¬å¸å¤§è§„æ¨¡é‡‡ç”¨äº‘åŸç”Ÿè½¯ä»¶ï¼Œæˆ‘è®¤ä¸º GitOps è‡ªç„¶ä¼šéšä¹‹è€Œæ¥ã€‚å¦‚æœä½ æœ‰å…´è¶£äº†è§£æ›´å¤šå…³äºè¿™ä¸ªé¢†åŸŸçš„ä¿¡æ¯ï¼Œæˆ‘æ¨èä½ å»çœ‹çœ‹ CNCF ä¸­ &lt;a href="https://codefresh.io/devops/announcing-gitops-working-group/">æ–°&lt;/a> æˆç«‹çš„ &lt;a href="https://github.com/gitops-working-group/gitops-working-group">GitOps å·¥ä½œç»„&lt;/a>ã€‚&lt;/p>
&lt;p>&lt;strong>æœåŠ¡ç›®å½•2.0ï¼šäº‘åŸç”Ÿå¼€å‘è€…ä»ªè¡¨ç›˜&lt;/strong>&lt;/p>
&lt;p>æœåŠ¡ç›®å½•çš„æ¦‚å¿µå¹¶ä¸æ˜¯ä¸€ä¸ªæ–°äº‹ç‰©ï¼Œå¯¹äºæˆ‘ä»¬ä¸€äº›åœ¨ &lt;a href="https://en.wikipedia.org/wiki/ITIL">ITIL&lt;/a> æ—¶ä»£æˆé•¿èµ·æ¥çš„è€äººä»¬æ¥è¯´ï¼Œä½ å¯èƒ½è¿˜è®°å¾— &lt;a href="https://en.wikipedia.org/wiki/Configuration_management_database">CMDBs&lt;/a> ï¼ˆææ€–ï¼‰ç­‰ä¸œè¥¿ã€‚ç„¶è€Œï¼Œéšç€å¾®æœåŠ¡å’Œäº‘åŸç”Ÿå¼€å‘çš„å…´èµ·ï¼Œå¯¹æœåŠ¡è¿›è¡Œç¼–ç›®å’Œç´¢å¼•å„ç§å®æ—¶æœåŠ¡å…ƒæ•°æ®çš„èƒ½åŠ›å¯¹äºæ¨åŠ¨å¼€å‘è€…è‡ªåŠ¨åŒ–æ˜¯è‡³å…³é‡è¦çš„ã€‚è¿™å¯ä»¥åŒ…æ‹¬ä½¿ç”¨æœåŠ¡ç›®å½•æ¥äº†è§£æ‰€æœ‰æƒæ¥å¤„ç†äº‹ä»¶ç®¡ç†ã€ç®¡ç† SLO ç­‰ã€‚&lt;/p>
&lt;p>åœ¨æœªæ¥ï¼Œä½ å°†çœ‹åˆ°å¼€å‘äººå‘˜ä»ªè¡¨ç›˜çš„è¶‹åŠ¿ï¼Œå®ƒä¸ä»…æ˜¯ä¸€ä¸ªæœåŠ¡ç›®å½•ï¼Œè€Œä¸”æä¾›äº†é€šè¿‡å„ç§è‡ªåŠ¨åŒ–åŠŸèƒ½åœ¨æ‰©å±•ä»ªè¡¨ç›˜çš„èƒ½åŠ›ã€‚è¿™æ–¹é¢çš„å…¸èŒƒå¼€æºä¾‹å­æ˜¯ Lyft çš„ &lt;a href="https://engineering.atspotify.com/2020/03/17/what-the-heck-is-backstage-anyway/">Backstage&lt;/a> å’Œ &lt;a href="https://eng.lyft.com/announcing-clutch-the-open-source-platform-for-infrastructure-tooling-143d00de9713">Clutch&lt;/a>ï¼Œç„¶è€Œï¼Œä»»ä½•æ‹¥æœ‰ç›¸å½“ç°ä»£çš„äº‘åŸç”Ÿéƒ¨ç½²çš„å…¬å¸å¾€å¾€éƒ½æœ‰ä¸€ä¸ªå¹³å°åŸºç¡€è®¾æ–½å›¢é˜Ÿï¼Œä»–ä»¬å·²ç»å°è¯•æ„å»ºç±»ä¼¼çš„ä¸œè¥¿ã€‚éšç€å¼€æºå¼€å‘è€…ä»ªè¡¨ç›˜ä¸ &lt;a href="https://backstage.io/plugins">å¤§å‹æ’ä»¶ç”Ÿæ€ç³»ç»Ÿ&lt;/a> çš„æˆç†Ÿï¼Œä½ ä¼šçœ‹åˆ°å…¶è¢«å„åœ°çš„å¹³å°å·¥ç¨‹å›¢é˜ŸåŠ é€Ÿé‡‡ç”¨ã€‚&lt;/p>
&lt;p>&lt;strong>è·¨äº‘å˜å¾—æ›´çœŸå®&lt;/strong>&lt;/p>
&lt;p>Kubernetes å’Œäº‘åŸç”Ÿè¿åŠ¨å·²ç»è¯æ˜äº†äº‘åŸç”Ÿå’Œå¤šäº‘æ–¹å¼åœ¨ç”Ÿäº§ç¯å¢ƒä¸­æ˜¯å¯è¡Œçš„ï¼Œæ•°æ®å¾ˆæ¸…æ¥šåœ°è¡¨æ˜â€œ93% çš„ä¼ä¸šéƒ½æœ‰ä½¿ç”¨å¾®è½¯ Azureã€äºšé©¬é€Šç½‘ç»œæœåŠ¡å’Œè°·æ­Œäº‘ç­‰å¤šä¸ªæä¾›å•†çš„ç­–ç•¥â€ (&lt;a href="https://info.flexera.com/SLO-CM-REPORT-State-of-the-Cloud-2020">2020 å¹´äº‘è®¡ç®—ç°çŠ¶æŠ¥å‘Š&lt;/a>)ã€‚äº‹å®ä¸Šï¼ŒKubernetes è¿™äº›å¹´ä¼´éšç€äº‘å¸‚åœºçš„å‘å±•è€Œæ›´åŠ æˆç†Ÿï¼Œå°†æœ‰æœ›è§£é”ç¨‹åºåŒ–çš„è·¨äº‘ç®¡ç†æœåŠ¡ã€‚è¿™ç§æ–¹æ³•çš„ä¸€ä¸ªå…·ä½“ä¾‹å­ä½“ç°åœ¨ Crossplane é¡¹ç›®ä¸­ï¼Œè¯¥é¡¹ç›®æä¾›äº†ä¸€ä¸ªå¼€æºçš„è·¨äº‘æ§åˆ¶å¹³é¢ï¼Œåˆ©ç”¨ Kubernetes API çš„å¯æ‰©å±•æ€§æ¥å®ç°è·¨äº‘å·¥ä½œè´Ÿè½½ç®¡ç†ï¼ˆå‚è§ &lt;a href="https://thenewstack.io/gitlab-deploys-the-crossplane-control-plane-to-offer-multicloud-deployments/">&amp;ldquo;GitLab éƒ¨ç½² Crossplane æ§åˆ¶å¹³é¢ï¼Œæä¾›å¤šäº‘éƒ¨ç½² &amp;ldquo;&lt;/a>ï¼‰ã€‚&lt;/p>
&lt;p>&lt;strong>ä¸»æµ eBPF&lt;/strong>&lt;/p>
&lt;p>&lt;a href="https://en.wikipedia.org/wiki/Berkeley_Packet_Filter">eBPF&lt;/a> å…è®¸ä½ åœ¨ä¸æ”¹å˜å†…æ ¸ä»£ç æˆ–åŠ è½½æ¨¡å—çš„æƒ…å†µä¸‹ï¼Œåœ¨ Linux å†…æ ¸ä¸­è¿è¡Œç¨‹åºï¼Œä½ å¯ä»¥æŠŠå®ƒçœ‹ä½œæ˜¯ä¸€ç§æ²™ç®±æ‰©å±•æœºåˆ¶ã€‚eBPF å…è®¸ &lt;a href="https://ebpf.io/projects">æ–°ä¸€ä»£è½¯ä»¶&lt;/a> ä»æ”¹è¿›çš„ç½‘ç»œã€ç›‘æ§å’Œå®‰å…¨ç­‰å„ç§ä¸åŒçš„æ–¹å‘æ‰©å±• Linux å†…æ ¸çš„è¡Œä¸ºã€‚ä»å†å²ä¸Šçœ‹ï¼ŒeBPF çš„ç¼ºç‚¹æ˜¯å®ƒéœ€è¦ä¸€ä¸ªç°ä»£çš„å†…æ ¸ç‰ˆæœ¬æ¥åˆ©ç”¨å®ƒï¼Œåœ¨å¾ˆé•¿ä¸€æ®µæ—¶é—´é‡Œï¼Œè¿™å¯¹è®¸å¤šå…¬å¸æ¥è¯´éƒ½ä¸æ˜¯ä¸€ä¸ªç°å®çš„é€‰æ‹©ã€‚ç„¶è€Œï¼Œäº‹æƒ…æ­£åœ¨å‘ç”Ÿå˜åŒ–ï¼Œç”šè‡³æ–°ç‰ˆæœ¬çš„ RHEL ç»ˆäºæ”¯æŒ eBPFï¼Œæ‰€ä»¥ä½ ä¼šçœ‹åˆ°æ›´å¤šçš„é¡¹ç›®åˆ©ç”¨å…¶ [ä¼˜åŠ¿]ï¼ˆhttps://sysdig.com/blog/sysdig-and-falco-now-powered-by-ebpf/ï¼‰ã€‚å¦‚æœä½ çœ‹è¿‡ Sysdig æœ€æ–°çš„ &lt;a href="https://sysdig.com/blog/sysdig-2021-container-security-usage-report/">å®¹å™¨æŠ¥å‘Š&lt;/a>ï¼Œä½ ä¼šå‘ç° Falco çš„é‡‡ç”¨ç‡æœ€è¿‘åœ¨ä¸Šå‡ï¼Œè™½ç„¶ Sysdig çš„æŠ¥å‘Šå¯èƒ½æœ‰ç‚¹åé¢‡ï¼Œä½†å®ƒåæ˜ åœ¨ç”Ÿäº§ä½¿ç”¨ä¸Šã€‚æ‰€ä»¥è¯·ç»§ç»­å…³æ³¨ï¼Œå¹¶æœŸå¾…æœªæ¥æ›´å¤šåŸºäº eBPF çš„é¡¹ç›®ã€‚&lt;/p>
&lt;p>&lt;strong>æœ€åï¼Œç¥å¤§å®¶ 2021 å¹´å¿«ä¹ï¼&lt;/strong>&lt;/p>
&lt;p>æˆ‘è¿˜æœ‰ä¸€äº›é¢„æµ‹å’Œè¶‹åŠ¿è¦åˆ†äº«ï¼Œå°¤å…¶æ˜¯å›´ç»•ç»ˆç«¯ç”¨æˆ·é©±åŠ¨çš„å¼€æºã€æœåŠ¡ç½‘æ ¼æ‹†è§£/æ ‡å‡†åŒ–ã€Prometheus+OTelã€ä¿éšœè½¯ä»¶ä¾›åº”é“¾å®‰å…¨çš„ KYC ç­‰ç­‰ï¼Œä½†æˆ‘ä¼šæŠŠè¿™äº›ç•™åˆ°æ›´è¯¦ç»†çš„æ–‡ç« ä¸­å»ï¼Œ9 ä¸ªé¢„æµ‹è¶³ä»¥å¼€å¯æ–°çš„ä¸€å¹´ï¼æ€»ä¹‹ï¼Œæ„Ÿè°¢å¤§å®¶çš„é˜…è¯»ï¼Œå¸Œæœ›åœ¨ 2021 å¹´ 5 æœˆçš„ &lt;a href="https://events.linuxfoundation.org/kubecon-cloudnativecon-europe/">KubeCon+CloudNativeCon EU&lt;/a> ä¸Šä¸å¤§å®¶è§é¢ï¼ŒæŠ¥åå·²å¼€å§‹ï¼&lt;/p></description></item><item><title>ã€è¯‘ã€‘åº”ç”¨æ¶æ„ï¼šä¸ºä»€ä¹ˆè¦éšç€å¸‚åœºæ¼”è¿›</title><link>https://atbug.com/translation-application-architecture-why-it-should-evolve-with-the-market/</link><pubDate>Sun, 17 Jan 2021 21:37:23 +0800</pubDate><guid>https://atbug.com/translation-application-architecture-why-it-should-evolve-with-the-market/</guid><description>
&lt;p>æœ¬æ–‡è¯‘è‡ª &lt;a href="https://www.cncf.io/blog/2021/01/07/application-architecture-why-it-should-evolve-with-the-market/">Application architecture: why it should evolve with the market&lt;/a>
æœ€åˆç”±Mia Platformå›¢é˜Ÿå‘å¸ƒåœ¨&lt;a href="https://blog.mia-platform.eu/en/application-architecture-why-it-should-evolve-with-the-market">Mia Platformçš„åšå®¢&lt;/a>ä¸Š&lt;/p>
&lt;p>å¦‚ä»Šï¼ŒIT æŒ‘æˆ˜åœ¨äºé€šè¿‡æœ‰æ•ˆé€‰æ‹©åº”ç”¨æ¶æ„æ¥é€‚åº”å¸‚åœºå’Œä¸šåŠ¡éœ€æ±‚çš„å‘å±•ã€‚ä¸ºäº†æ»¡è¶³ä¸šåŠ¡å’Œå®¢æˆ·çš„éœ€æ±‚ï¼ŒIT éƒ¨é—¨åº”èƒ½å¤Ÿå¯¹æŠ€æœ¯å’Œ&lt;strong>æ–¹æ³•&lt;/strong>é‡‡å–è¡ŒåŠ¨ä»¥ç¡®ä¿è½¯ä»¶å…·æœ‰çµæ´»æ€§ï¼Œå¹¶å®ç°äº§å“å’ŒæœåŠ¡çš„æŒç»­åˆ›æ–°æµç¨‹ï¼Œä»è€Œåšå‡ºæ›´å¿«çš„ååº” ã€‚&lt;/p>
&lt;p>å½“ç„¶ï¼Œè¿‡å»çš„å•ä½“åº”ç”¨ç¨‹åºå’Œåˆšæ€§åŸºç¡€è®¾æ–½æ— æ³•åšåˆ°è¿™ä¸€ç‚¹ã€‚ç›¸åï¼Œå®ƒå¯ä»¥é€šè¿‡&lt;strong>ä¸ºæ¼”åŒ–è€Œè®¾è®¡çš„æ¶æ„&lt;/strong>æ¥å®ç°ï¼Œè¯¥æ¶æ„åœ¨éœ€è¦æ—¶æ˜“äºæ›´æ–°å’Œé‡æ„ã€‚å®¹å™¨åŒ–å®è·µçš„å¹¿æ³›åº”ç”¨ï¼ˆæ ¹æ® &lt;a href="https://www.gartner.com/en/newsroom/press-releases/2020-06-25-gartner-forecasts-strong-revenue-growth-for-global-co">Gartner&lt;/a>ï¼Œåˆ°2022å¹´ï¼Œå¤§å…¬å¸çš„å°±ä¸šäººæ•°å°†ä»ç›®å‰çš„ 30ï¼… å¢é•¿åˆ° 75ï¼…ï¼‰ï¼Œè¿™ç§æƒ…å†µä¸‹é‡‡ç”¨äº‘åŸç”Ÿæ–¹æ³•é‡æ–°è®¾è®¡å¾®æœåŠ¡åº”ç”¨æ˜¯æˆåŠŸçš„å…³é”®ã€‚&lt;/p>
&lt;h2 id="å¦‚ä½•æ„å»ºä¸æ–­å‘å±•çš„åº”ç”¨æ¶æ„">å¦‚ä½•æ„å»ºä¸æ–­å‘å±•çš„åº”ç”¨æ¶æ„&lt;/h2>
&lt;p>æµ·å¤–ä¸“å®¶ç§°å®ƒä»¬ä¸º&lt;strong>å¯æ¼”è¿›çš„æ¶æ„&lt;/strong>ï¼Œä»¥å°†å®ƒä»¬ä¸å½“ä»Šé˜»ç¢æˆ–æ— åŠ©äºæ”¹å˜çš„ä¼ ç»Ÿæ¶æ„åŒºåˆ†å¼€ã€‚åº”ç”¨æ¶æ„åŸºäº&lt;a href="https://blog.mia-platform.eu/it/architettura-a-microservizi-i-vantaggi-per-il-business-e-per-lit">å¾®æœåŠ¡æ¶æ„é£æ ¼&lt;/a> ï¼Œè¢«è®¾è®¡æˆåœ¨ç°ä»£è™šæ‹ŸåŒ– IT å’Œäº‘ç¯å¢ƒä¸­å‘æŒ¥æœ€ä½³æ€§èƒ½ã€‚&lt;/p>
&lt;p>åŸºæœ¬æ€æƒ³æ˜¯&lt;strong>åˆ›å»ºå¯ä»¥è½»æ¾â€œåˆ†è§£â€çš„åº”ç”¨ç¨‹åºï¼Œå…¶ç»„ä»¶å¯ä»¥åœ¨å…¶ä»–ä¸Šä¸‹æ–‡æˆ–ç»„åˆä¸­é‡ç”¨&lt;/strong>ï¼Œå¦‚ Lego ç³»åˆ—ã€‚å¼€å‘ä¸€ç³»åˆ—å¾®æœåŠ¡ï¼Œæ¯ä¸ªå¾®æœåŠ¡éƒ½ç”¨äºæ‰§è¡Œå•ä¸ªä¸šåŠ¡åŠŸèƒ½ï¼ˆæ ¹æ®â€œå•ä¸€èŒè´£åŸåˆ™â€ï¼‰ï¼Œå¯ä»¥åœ¨åº”ç”¨æœ¬èº«çš„å¼€å‘å’Œæ¼”è¿›ä¸­è·å¾—ç›¸å½“å¤§çš„çµæ´»æ€§ã€‚å®é™…ä¸Šï¼Œå¯ä»¥æ ¹æ®æ”¯æŒåŠŸèƒ½çš„ç‰¹å®šç”Ÿå‘½å‘¨æœŸç‹¬ç«‹å¼€å‘ã€æ›´æ–°å’Œæµ‹è¯•æœåŠ¡ã€‚&lt;/p>
&lt;p>æ­¤å¤–ï¼Œè°ˆåˆ°éƒ¨ç½²ï¼Œå¾®æœåŠ¡åº”ç”¨çš„æ¶æ„å…·æœ‰å¾ˆå¤§çš„ä¼˜åŠ¿ï¼šå¯ä»¥æ ¹æ®éœ€è¦åœ¨å†…éƒ¨æˆ–äº‘ä¸­é€šè¿‡ä½¿ç”¨å¯ç”¨èµ„æºæ¥æ‰©å±•å•ä¸ªå¾®æœåŠ¡ã€‚&lt;/p>
&lt;p>ä¸ºæ­¤ï¼Œå¾®æœåŠ¡åº”ç”¨è·å¾—&lt;strong>åŸºäºå®¹å™¨çš„åŸºç¡€è®¾æ–½&lt;/strong>çš„æ”¯æŒï¼Œè¯¥åŸºç¡€è®¾æ–½é€šè¿‡ä¸šåŠ¡ç¼–æ’ç³»ç»Ÿï¼ˆé€šå¸¸ä¸º &lt;a href="https://blog.mia-platform.eu/en/kubernetes-why-it-is-so-popular-and-who-should-use-it">Kubernetes&lt;/a>ï¼‰è¿›è¡Œç®¡ç†ï¼Œè¯¥æµç¨‹å¯ä»¥è‡ªåŠ¨åŒ–å¹¶ä¿ƒè¿›å…¬å¸ç³»ç»Ÿä¹‹é—´ä»¥åŠä»è¿™äº›ç³»ç»Ÿåˆ°äº‘æä¾›å•†æœåŠ¡çš„è½¯ä»¶ä½œä¸šçš„è¿ç§»ã€‚&lt;/p>
&lt;h2 id="éšç€ä¸šåŠ¡å‘å±•çš„åº”ç”¨æ¶æ„çš„ä¼˜åŠ¿">éšç€ä¸šåŠ¡å‘å±•çš„åº”ç”¨æ¶æ„çš„ä¼˜åŠ¿&lt;/h2>
&lt;p>åŸºäºå¾®æœåŠ¡çš„åº”ç”¨æ¶æ„åœ¨å¼€å‘å’Œéƒ¨ç½²æ–¹é¢å…·æœ‰æ›´å¤§çš„è‡ªæ²»æƒã€‚å¦‚æˆ‘ä»¬æ‰€è§ï¼Œå¾®æœåŠ¡å¯ä»¥åœ¨å…¶ä»–åº”ç”¨ç¨‹åºä¸­å•ç‹¬å®ç°ã€â€œåˆ†è§£â€ã€æ›´æ–°å’Œé‡ç”¨ã€‚å› æ­¤ï¼Œé€šè¿‡äº§å“æˆ–å®¢æˆ·éœ€æ±‚çš„æ¼”å˜ï¼Œå®ƒæœ‰é™ä½&lt;strong>å‡å°‘å¸‚åœºæ‰€éœ€çš„æ¯ä¸ªæ–°äº§å“çš„è®¾è®¡/å¼€å‘æ—¶é—´å’Œæˆæœ¬&lt;/strong>ã€‚&lt;/p>
&lt;p>æ­¤å¤–ï¼Œé€šè¿‡ä½¿ç”¨å®¹å™¨åŒ–å®è·µï¼Œå¯ä»¥ç®€åŒ–åœ¨æœ¬åœ°ã€äº‘ã€å¤šäº‘æˆ–æ··åˆç¯å¢ƒçš„ä»»ä½•ç¯å¢ƒä¸­åº”ç”¨ç¨‹åºçš„éƒ¨ç½²ï¼Œä»è€Œä¼˜åŒ–æˆæœ¬ã€‚&lt;/p>
&lt;p>åœ¨å¾®æœåŠ¡æ¶æ„é£æ ¼çš„ä¼˜ç‚¹ä¸­ï¼Œæˆ‘ä»¬è¿˜å‘ç°æœ‰å¯èƒ½åœ¨å„ç§æœåŠ¡ä¹‹é—´çš„å¯¹è¯åŠå…¶å¥åº·çŠ¶å†µä¸Šè·å¾—æ›´å¤§çš„&lt;strong>é€æ˜åº¦&lt;/strong>ï¼šæ›´å¥½çš„å¯è§‚å¯Ÿæ€§æ„å‘³ç€å¯ä»¥è½»æ¾è§£å†³å¤æ‚åº”ç”¨çš„é—®é¢˜ã€‚å®é™…ä¸Šï¼Œç®¡ç†å‘˜å¯ä»¥&lt;strong>æ›´å¿«åœ°å®šä½å’Œè§£å†³æ€§èƒ½å’Œå®‰å…¨æ€§é—®é¢˜&lt;/strong>ï¼Œåœ¨è¿ç»´å’Œä»£ç å±‚é¢å®æ–½æªæ–½ï¼Œä»è€Œä½¿å“åº”é€Ÿåº¦ä¸å˜æ›´çš„é•¿æœŸæœ‰æ•ˆæ€§ä¿æŒä¸€è‡´ã€‚&lt;/p>
&lt;p>é€šè¿‡é‡‡ç”¨å¾®æœåŠ¡ä»¥åŠæ–°çš„å¼€å‘å’Œéƒ¨ç½²æ–¹æ³•ï¼Œå¯ä»¥åˆ›å»ºèƒ½å¤Ÿéšæ—¶é—´å‘å±•çš„åº”ç”¨æ¶æ„ã€‚é™¤äº† IT å›¢é˜Ÿå¿…é¡»æŒæ¡çš„æ–°æŠ€èƒ½å¤–ï¼Œè¿˜å¿…é¡»å¯¹å…¬å¸çš„æœªæ¥æœ‰ä¸€ä¸ªæ¸…æ™°çš„æ„¿æ™¯ï¼Œä»¥ç¡®ä¿æ‰€æä¾›çš„æœåŠ¡å¯¹ä¸šåŠ¡å‘å±•æœ‰ç”¨ã€‚&lt;/p>
&lt;h2 id="åˆ›å»ºå¯æ¼”è¿›çš„åº”ç”¨æ¶æ„">åˆ›å»ºå¯æ¼”è¿›çš„åº”ç”¨æ¶æ„&lt;/h2>
&lt;p>æˆ‘ä»¬å·²ç»çœ‹åˆ°äº†åŸºäºå¾®æœåŠ¡çš„ç°ä»£åº”ç”¨æ¶æ„å¦‚ä½•ä¿è¯è½¯ä»¶çš„çµæ´»æ€§ï¼Œå¹¶å…è®¸ä½ åˆ©ç”¨æœ¬åœ°å’ŒæŒ‰éœ€ä½¿ç”¨çš„æ‰€æœ‰èµ„æºï¼Œåœ¨å¯ä»¥&lt;strong>æ–¹ä¾¿åœ°&lt;/strong>è·å¾—æ‰€éœ€æ€§èƒ½ã€é™ä½æˆæœ¬æˆ–ä¿æŠ¤æ•°æ®çš„&lt;strong>ä½ç½®åˆ†é…ä½œä¸š&lt;/strong>ã€‚&lt;/p>
&lt;p>ä¸ºäº†ä½¿ä¹‹æˆä¸ºå¯èƒ½ï¼Œæœ‰å¿…è¦åœ¨äº‘å’Œæ··åˆç¯å¢ƒä¸­åˆ›å»ºå’Œç®¡ç†è™šæ‹ŸåŒ–çš„ IT ç¯å¢ƒï¼Œå¹¶&lt;strong>é‡‡ç”¨æœ€åˆé€‚çš„æ–¹æ³•å’Œç­–ç•¥&lt;/strong>ã€‚ä¾‹å¦‚ï¼Œåœ¨ç”¨äºå°†å¼€å‘å’Œè¿ç»´æ´»åŠ¨é“¾æ¥åœ¨ä¸€èµ·çš„DevOpsé¢†åŸŸä¸­ï¼Œ&lt;strong>æŒç»­é›†æˆ/æŒç»­äº¤ä»˜&lt;/strong>ï¼ˆCI / CDï¼‰ç­–ç•¥çš„æ–¹æ³•å­¦æ”¯æŒå¯å¸®åŠ©æé«˜æ›´æ–°é€Ÿåº¦å’Œåº”ç”¨è½¯ä»¶çš„è´¨é‡ã€‚&lt;/p>
&lt;p>æ­¤å¤–ï¼Œå¾®æœåŠ¡å¯ä¿ƒè¿›å¯¹&lt;a href="https://blog.mia-platform.eu/it/da-monolite-a-microservizi-come-far-evolvere-unapplicazione-legacy">é—ç•™åº”ç”¨ç¨‹åºçš„é›†æˆ&lt;/a>ï¼Œä»è€Œä½¿å…¬å¸æ›´åŠ æ•æ·ï¼Œå¹¶åˆ©ç”¨å¸‚åœºä¸Šæœ€&lt;strong>å…ˆè¿›çš„è§£å†³æ–¹æ¡ˆ&lt;/strong>ã€‚é™¤äº†éœ€è¦æ–°çš„æŠ€æœ¯å’Œå·¥ä½œæ–¹æ³•å¤–ï¼Œç°åœ¨è¿˜éœ€è¦å¯æ¼”è¿›çš„åº”ç”¨æ¶æ„æ¥&lt;strong>æ”¯æŒæ•°å­—åŒ–è½¬å‹æ‰€å†³å®šçš„ä¸æ–­å˜åŒ–çš„éœ€æ±‚&lt;/strong>ã€‚&lt;/p></description></item><item><title>Tekton 0.9.0 æ›´æ–°</title><link>https://atbug.com/tekton-0.9.0-release/</link><pubDate>Sun, 19 Jan 2020 14:33:17 +0800</pubDate><guid>https://atbug.com/tekton-0.9.0-release/</guid><description>
&lt;p>ç¿»è¯‘æ•´ç†è‡ª &lt;a href="https://cd.foundation/blog/2019/12/12/whats-new-in-tekton-0-9/">Whatâ€™s New in Tekton 0.9&lt;/a>&lt;/p>
&lt;h2 id="åŠŸèƒ½åŠbugä¿®å¤">åŠŸèƒ½åŠBugä¿®å¤&lt;/h2>
&lt;h3 id="è„šæœ¬æ¨¡å¼">è„šæœ¬æ¨¡å¼&lt;/h3>
&lt;p>ä»¥å‰å¦‚æœè¦åœ¨å®¹å™¨é‡Œè¿è¡Œä¸ªç®€å•çš„ bash è„šæœ¬, éœ€è¦è¿™ä¹ˆå†™:&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-yaml" data-lang="yaml">- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">hello&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ubuntu&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">command&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;bash&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>- -&lt;span class="l">c&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>- &lt;span class="p">|&lt;/span>&lt;span class="sd">
&lt;/span>&lt;span class="sd"> set -ex
&lt;/span>&lt;span class="sd"> echo &amp;#34;hello&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>åœ¨ 0.9 ä¹‹å, å¯ä»¥æ›´åŠ ç®€å•, ä¸éœ€è¦å†å†™command å’Œè®¨åŒçš„&lt;code>-c&lt;/code>.&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-yaml" data-lang="yaml">- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">hello&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ubuntu&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">|&lt;/span>&lt;span class="sd">
&lt;/span>&lt;span class="sd"> #!/bin/bash
&lt;/span>&lt;span class="sd"> echo &amp;#34;hello&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="æ€§èƒ½">æ€§èƒ½&lt;/h3>
&lt;p>é€šè¿‡ä¸€ç³»åˆ—çš„å·¥ä½œ, æ¯ä¸ª PipelineRun çš„è¿è¡Œæ—¶é—´ç¼©çŸ­äº† 5-20 ç§’&lt;/p>
&lt;h2 id="api-å˜åŒ–">API å˜åŒ–&lt;/h2>
&lt;p>ä¸ºäº† beta ç‰ˆæœ¬çš„å‘å¸ƒ, API åšäº†ä¸€äº›è°ƒæ•´:&lt;/p>
&lt;h3 id="é•œåƒæ‘˜è¦è¾“å‡ºè·¯å¾„çš„æ ‡å‡†åŒ–">é•œåƒæ‘˜è¦è¾“å‡ºè·¯å¾„çš„æ ‡å‡†åŒ–&lt;/h3>
&lt;p>Tekton ç›®å‰æä¾›äº†ä¸€ä¸ªæœºåˆ¶ç”¨äºå­˜å‚¨ task æ„å»ºå‡ºçš„é•œåƒçš„æ‘˜è¦. è¿™ä¸ªæœºåˆ¶æ—©äº&lt;code> PipelineResource&lt;/code>å­ç³»ç»Ÿ, å¹¶è¦æ±‚ Task ç¼–å†™è€…é•œåƒè¿™äº›æ‘˜è¦å†™åˆ°æŒ‡å®šçš„ä½ç½®&lt;code>/builder/image-outputs&lt;/code>. ä»ç°åœ¨å¼€å§‹, æœ‰äº†è¾“å‡ºèµ„æºçš„æ ‡å‡†è·¯å¾„&lt;code>/workspace/output/&amp;lt;resource-name&amp;gt;&lt;/code>&lt;/p>
&lt;h3 id="ç®€åŒ–é›†ç¾¤èµ„æº">ç®€åŒ–é›†ç¾¤èµ„æº&lt;/h3>
&lt;p>é›†ç¾¤&lt;code>PipelineResource&lt;/code>ä½¿ä» Tasks å†…éƒ¨éƒ¨ç½²å’Œä½¿ç”¨ Kubernetes é›†ç¾¤å˜å¾—ç®€å•. å®ƒä¸ºç”¨æˆ·æä¾›äº†å£°æ˜é›†ç¾¤çš„ä½ç½®ä»¥åŠå¦‚ä½•è¿›è¡Œèº«ä»½éªŒè¯çš„æœºåˆ¶. ç„¶åå†æ‰§è¡Œ Task è¿‡ç¨‹ä¸­, ä»–ä»¬ä¼šè‡ªåŠ¨é…ç½®&lt;code>.kubeconfig&lt;/code>æ–‡ä»¶, ä»¥ä¾¿ Kubernetes å·¥å…·å¯ä»¥æ‰¾åˆ°è¯¥é›†ç¾¤.&lt;/p>
&lt;p>è¿™ä¸ªç‰ˆæœ¬ä¿å‡½äº†ä¸€äº›æ›´æ”¹, ä½¿é›†ç¾¤&lt;code> PipelineResource&lt;/code>æ›´æ˜“äºä½¿ç”¨.&lt;/p>
&lt;p>ä»¥å‰ç”¨æˆ·å¿…é¡»ä¸¤æ¬¡æŒ‡å®šåå­—å‚æ•°: ä¸€æ¬¡åœ¨èµ„æºåç§°ä¸­æŒ‡å®š, ä¸€æ¬¡ä½œä¸ºèµ„æºå‚æ•°. ç°åœ¨ç¬¬äºŒä¸ªå‚æ•°ä¸éœ€è¦äº†.&lt;/p>
&lt;h2 id="åŸºç¡€å·¥ä½œ">åŸºç¡€å·¥ä½œ&lt;/h2>
&lt;p>æ¯ä¸ªTektonç‰ˆæœ¬ä¸­åŒ…å«çš„å¤§éƒ¨åˆ†å·¥ä½œéƒ½æ˜¯é’ˆå¯¹æŸäº›åŠŸèƒ½çš„, è¿™äº›åŠŸèƒ½è¦ç­‰åˆ°ä»¥åçš„ç‰ˆæœ¬æ‰èƒ½å…¬å¼€.å†µã€‚&lt;/p>
&lt;h3 id="æ”¹è¿›çš„-pipelineresource">æ”¹è¿›çš„ PipelineResource&lt;/h3>
&lt;p>æºäº&lt;a href="https://github.com/tektoncd/pipeline/issues/1673">Pipeline Resource Redesign&lt;/a>&lt;/p>
&lt;h3 id="api-çš„ç‰ˆæœ¬æ§åˆ¶">API çš„ç‰ˆæœ¬æ§åˆ¶&lt;/h3>
&lt;p>æºäº&lt;a href="https://github.com/tektoncd/pipeline/issues/1526">Create a v1alpha2 apiVersion&lt;/a>&lt;/p>
&lt;h2 id="ç‹¬ç«‹çš„åŒ…">ç‹¬ç«‹çš„åŒ…&lt;/h2>
&lt;p>Tektoné¡¹ç›®å‘å±•æƒŠäºº. é™¤äº†è¿™é‡Œæåˆ°çš„&lt;a href="https://github.com/tektoncd/pipeline">Pipeline&lt;/a>æ›´æ–°, å…¶ä»–æ¯”å¦‚&lt;a href="https://github.com/tektoncd/triggers">Triggers&lt;/a>, &lt;a href="https://github.com/tektoncd/cli">CLI&lt;/a>, &lt;a href="https://github.com/tektoncd/dashboard">Dashboard&lt;/a>ä¹Ÿæœ‰æ˜¾è‘—çš„æˆæœ.&lt;/p>
&lt;p>Triggers ç°åœ¨æ”¯æŒå¼€ç®±å³ç”¨çš„ Github å’Œ Gitlab æ ¡éªŒ.
CLIåŠ å…¥äº†äº¤äº’å¼åˆ›å»º&lt;code>PipelineResource&lt;/code>å’Œå¯åŠ¨ task çš„æ”¯æŒ.
Dashboard æ¥ä¸‹æ¥ä¹Ÿä¼šå‡å¦‚å¯è§†åŒ–ç‰¹æ€§.&lt;/p></description></item><item><title>ç¥ç§˜çš„Eurekaè‡ªæˆ‘ä¿æŠ¤</title><link>https://atbug.com/translation-the-mystery-of-eurekas-self-preservation/</link><pubDate>Sun, 05 Jan 2020 14:14:03 +0800</pubDate><guid>https://atbug.com/translation-the-mystery-of-eurekas-self-preservation/</guid><description>
&lt;p>æœ¬æ–‡ç¿»è¯‘è‡ª&lt;a href="https://dzone.com/articles/the-mystery-of-eurekas-self-preservation">The Mystery of Eureka Self-Preservation&lt;/a>&lt;/p>
&lt;p>æ ¹æ®CAPå®šç†, Eurekaæ˜¯ä¸€ä¸ªAPç³»ç»Ÿ, è¿™å°±å¯¼è‡´äº†åœ¨ç½‘ç»œåˆ†åŒºæœŸé—´å¤šä¸ªæ³¨å†Œè¡¨ä¸­çš„ä¿¡æ¯ä¸ä¸€è‡´. è‡ªæˆ‘ä¿æŠ¤åŠŸèƒ½åˆ™æ˜¯ä¸ºäº†å°½å¯èƒ½é™ä½è¿™ç§ä¸ä¸€è‡´.&lt;/p>
&lt;h2 id="è‡ªæˆ‘ä¿æŠ¤çš„å®šä¹‰">è‡ªæˆ‘ä¿æŠ¤çš„å®šä¹‰&lt;/h2>
&lt;p>è‡ªæˆ‘ä¿æŠ¤(self preservation)æ˜¯Eurekaçš„ä¸€é¡¹åŠŸèƒ½, Eurekaæ³¨å†Œè¡¨åœ¨æœªæ”¶åˆ°å®ä¾‹çš„å¿ƒè·³æƒ…å†µè¶…è¿‡ä¸€å®šé˜ˆå€¼æ—¶åœæ­¢é©±é€è¿‡æœŸçš„å®ä¾‹.&lt;/p>
&lt;h3 id="ä»ä¸€ä¸ªå¥åº·çš„ç³»ç»Ÿå¼€å§‹">ä»ä¸€ä¸ªå¥åº·çš„ç³»ç»Ÿå¼€å§‹&lt;/h3>
&lt;p>æŠŠä¸‹é¢çœ‹æˆä¸€ä¸ªå¥åº·çš„ç³»ç»Ÿ&lt;/p>
&lt;p>&lt;img src="https://raw.githubusercontent.com/addozhang/oss/master/uPic/n5wZMX.jpg" alt="The healthy systemâ€Šâ€”â€Šbefore encountering network partition">&lt;/p>
&lt;p>å‡è®¾æ‰€æœ‰çš„å¾®æœåŠ¡éƒ½å¤„äºå¥åº·çš„çŠ¶æ€å¹¶æˆåŠŸæ³¨å†Œåˆ°Eurekaæ³¨å†Œè¡¨ä¸­.&lt;/p>
&lt;p>å¤šä¸ªæ³¨å†Œè¡¨é—´ä¼šåŒæ­¥æ³¨å†Œè¡¨è®°å½•, æ‰€æœ‰çš„å¾®æœåŠ¡å®ä¾‹éƒ½å¤„äºUPçŠ¶æ€. å‡è®¾å®ä¾‹2ä»æ³¨å†Œä¸­å¿ƒå‘ç°é‡Œå®ä¾‹4, å¹¶è°ƒç”¨å®ä¾‹4ä¸Šçš„æœåŠ¡.&lt;/p>
&lt;h3 id="çªå‘ç½‘ç»œåˆ†åŒº">çªå‘ç½‘ç»œåˆ†åŒº&lt;/h3>
&lt;p>å‡è®¾å‡ºç°äº†ç½‘ç»œåˆ†åŒº, ç³»ç»Ÿå˜æˆä¸‹é¢çš„çŠ¶æ€.&lt;/p>
&lt;p>&lt;img src="https://raw.githubusercontent.com/addozhang/oss/master/uPic/MznWWr.jpg" alt="During network partitionâ€Š - â€Šenters self-preservation">&lt;/p>
&lt;p>ç”±äºç½‘ç»œåˆ†åŒº, å®ä¾‹4å’Œ5ä¸¢å¤±äº†æ³¨å†Œä¸­å¿ƒçš„è¿æ¥, ä½†æ˜¯å®ä¾‹2ä»ç„¶å¯ä»¥è¿æ¥åˆ°å®ä¾‹4. EurekaæœåŠ¡ç«¯å› ä¸ºæ²¡æœ‰æ”¶åˆ°å®ä¾‹4å’Œ5çš„å¿ƒè·³(è¶…è¿‡ä¸€å®šæ—¶é—´å), å°†ä»–ä»¬é©±é€. ç„¶åEurekaæœåŠ¡ç«¯æ„è¯†åˆ°çªç„¶ä¸¢å¤±äº†è¶…è¿‡15%(2/5)çš„å¿ƒè·³, å› æ­¤å…¶è¿›å…¥&lt;em>è‡ªæˆ‘ä¿æŠ¤&lt;/em>æ¨¡å¼&lt;/p>
&lt;p>ä»æ­¤æ—¶å¼€å§‹, EurekaæœåŠ¡ç«¯ä¸åœ¨é©±é€ä»»ä½•å®ä¾‹, å³ä½¿å®ä¾‹çœŸæ­£çš„ä¸‹çº¿äº†.&lt;/p>
&lt;p>&lt;img src="https://raw.githubusercontent.com/addozhang/oss/master/uPic/7c9eHt.jpg" alt="During self-preservationâ€Š - â€Šstops expiring instances">&lt;/p>
&lt;p>å®ä¾‹3ä¸‹çº¿, ä½†å…¶å§‹ç»ˆå­˜åœ¨æ³¨å†Œè¡¨ä¸­.&lt;/p>
&lt;p>ä½†æ­¤æ—¶æ³¨å†Œè¡¨è¿˜ä¼šæ¥å—æ–°å®ä¾‹çš„æ³¨å†Œ.&lt;/p>
&lt;h2 id="è‡ªæˆ‘ä¿æŠ¤çš„åŸºæœ¬åŸç†">è‡ªæˆ‘ä¿æŠ¤çš„åŸºæœ¬åŸç†&lt;/h2>
&lt;p>è‡ªæˆ‘ä¿æŠ¤åŠŸèƒ½åœ¨ä¸‹é¢ä¸¤ç§æƒ…å†µä¸‹æ˜¯åˆç†çš„:&lt;/p>
&lt;ul>
&lt;li>EurekaæœåŠ¡ç«¯å› ä¸ºå¼±ç½‘åˆ†åŒºé—®é¢˜æ²¡æœ‰æ”¶åˆ°å¿ƒè·³(è¿™å¹¶ä¸æ„å‘³ç€å®¢æˆ·ç«¯ä¸‹çº¿), ä½†æ˜¯è¿™ç§é—®é¢˜å¯èƒ½ä¼šå¾ˆå¿«è¢«ä¿®å¤.&lt;/li>
&lt;li>å³ä½¿EurekaæœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯çš„è¿æ¥æ–­å¼€, å®¢æˆ·ç«¯é—´è¿˜å¯ä»¥ç»§ç»­ä¿æŒè¿æ¥. (æ¯”å¦‚ä¸Šé¢å®ä¾‹2ä»ç„¶å¯ä»¥è¿æ¥åˆ°å®ä¾‹4)&lt;/li>
&lt;/ul>
&lt;h3 id="é…ç½®-é»˜è®¤">é…ç½® (é»˜è®¤)&lt;/h3>
&lt;p>ä¸‹é¢çš„é…ç½®ä¼šç›´æ¥æˆ–é—´æ¥å½±å“åˆ°è‡ªæˆ‘ä¿æŠ¤çš„è¡Œä¸º.&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-fallback" data-lang="fallback">eureka.instance.lease-renewal-interval-in-seconds = 30
&lt;/code>&lt;/pre>&lt;/div>&lt;p>å®¢æˆ·ç«¯å‘é€å¿ƒè·³çš„é¢‘ç‡. æœåŠ¡ç«¯ä¼šä»¥æ­¤åœ¨è®¡ç®—æœŸæœ›æ”¶åˆ°å¿ƒè·³æ•°, é»˜è®¤30ç§’&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-fallback" data-lang="fallback">eureka.instance.lease-expiration-duration-in-seconds = 90
&lt;/code>&lt;/pre>&lt;/div>&lt;p>å¤šé•¿æ—¶é—´æœªæ”¶åˆ°å¿ƒè·³å, å®ä¾‹æ‰å¯ä»¥è¢«é©±é€, é»˜è®¤90ç§’&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-fallback" data-lang="fallback">eureka.server.eviction-interval-timer-in-ms = 60 * 1000
&lt;/code>&lt;/pre>&lt;/div>&lt;p>EurekaæœåŠ¡ç«¯é©±é€æ“ä½œçš„æ‰§è¡Œé¢‘ç‡, é»˜è®¤60ç§’&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-fallback" data-lang="fallback">eureka.server.renewal-percent-threshold = 0.85
&lt;/code>&lt;/pre>&lt;/div>&lt;p>æœŸæœ›å¿ƒè·³æ•°è¾¾åˆ°è¯¥é˜ˆå€¼å, å°±ä¼šè¿›å…¥è‡ªæˆ‘ä¿æŠ¤æ¨¡å¼, é»˜è®¤0.85&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-fallback" data-lang="fallback">eureka.server.renewal-threshold-update-interval-ms = 15 * 60 * 1000
&lt;/code>&lt;/pre>&lt;/div>&lt;p>æœŸæœ›å¿ƒè·³æ•°çš„è®¡ç®—é—´éš”, é»˜è®¤15åˆ†é’Ÿ&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-fallback" data-lang="fallback">eureka.server.enable-self-preservation = true
&lt;/code>&lt;/pre>&lt;/div>&lt;p>æ˜¯å¦å…è®¸EurekaæœåŠ¡ç«¯è¿›å…¥è‡ªæˆ‘ä¿æŠ¤æ¨¡å¼, é»˜è®¤å¼€å¯&lt;/p>
&lt;h2 id="ç†è§£é…ç½®">ç†è§£é…ç½®&lt;/h2>
&lt;p>EurekaæœåŠ¡ç«¯åœ¨&amp;quot;ä¸Šä¸€åˆ†é’Ÿå®é™…æ”¶åˆ°çš„å¿ƒè·³æ•°&amp;quot;å°äº&amp;quot;æ¯åˆ†é’ŸæœŸæœ›çš„å¿ƒè·³æ•°&amp;quot;æ—¶å°±ä¼šè¿›å…¥è‡ªæˆ‘ä¿æŠ¤æ¨¡å¼&lt;/p>
&lt;h3 id="æœŸæœ›çš„æ¯åˆ†é’Ÿå¿ƒè·³æ•°">æœŸæœ›çš„æ¯åˆ†é’Ÿå¿ƒè·³æ•°&lt;/h3>
&lt;p>å‡è®¾&lt;code>renewal-percent-threshold&lt;/code>è®¾ç½®ä¸º&lt;code>0.85&lt;/code>&lt;/p>
&lt;p>è®¡ç®—æ–¹å¼:&lt;/p>
&lt;ul>
&lt;li>å•ä¸ªå®ä¾‹æ¯åˆ†é’ŸæœŸæœ›çš„å¿ƒè·³æ•°æ˜¯: 2&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>&lt;/li>
&lt;/ul>
&lt;ul>
&lt;li>Nä¸ªå®ä¾‹çš„æ¯åˆ†é’ŸæœŸæœ›çš„å¿ƒè·³æ•°: 2 * N&lt;/li>
&lt;li>æœŸæœ›çš„ä¸Šä¸€åˆ†é’Ÿæœ€å°å¿ƒè·³æ•°: 2 * N * 0.85&lt;/li>
&lt;/ul>
&lt;h3 id="å®é™…çš„æ¯åˆ†é’Ÿå¿ƒè·³æ•°">å®é™…çš„æ¯åˆ†é’Ÿå¿ƒè·³æ•°&lt;/h3>
&lt;p>æ­£å¦‚ä¸Šé¢æ‰€è¿°, ä¸¤ä¸ªå®šæ—¶è°ƒåº¦å™¨ç‹¬ç«‹åœ°è¿è¡Œè®¡ç®—&lt;em>å®é™…&lt;/em>å’Œ&lt;em>æœŸæœ›&lt;/em>çš„å¿ƒè·³æ•°. æ­¤å¤–è¿˜æœ‰å¦ä¸€ä¸ªè°ƒåº¦ä»»åŠ¡&lt;code>EvictionTask&lt;/code>è¿›è¡Œç»“æœæ¯”è¾ƒ, å¹¶è¯†åˆ«å½“å‰ç³»ç»Ÿæ˜¯å¦åœ¨è‡ªæˆ‘ä¿æŠ¤çŠ¶æ€.&lt;/p>
&lt;p>è¿™ä¸ªè°ƒåº¦ä»»åŠ¡æ¯ä¸ª&lt;code>eviction-interval-timer-in-ms&lt;/code>æ—¶é—´æ‰§è¡Œä¸€æ¬¡, å¹¶å†³å®šæ˜¯å¦é©±é€å®ä¾‹.&lt;/p>
&lt;h2 id="ç»“è®º">ç»“è®º&lt;/h2>
&lt;ul>
&lt;li>åŸºäºä½¿ç”¨çš„ç»éªŒ, å¤§å¤šæ•°æƒ…å†µä¸‹è‡ªæˆ‘ä¿æŠ¤æ¨¡å¼éƒ½æ˜¯é”™è¯¯çš„, å®ƒé”™è¯¯åœ°è®¤ä¸ºä¸€äº›ä¸‹çº¿çš„å¾®æœåŠ¡å®ä¾‹æ˜¯ä¸è‰¯çš„ç½‘ç»œåˆ†åŒº&lt;/li>
&lt;li>è‡ªæˆ‘ä¿æŠ¤æ°¸è¿œä¸ä¼šè¿‡æœŸ, é™¤éä¸‹çº¿çš„å®ä¾‹é‡æ–°ä¸Šçº¿&lt;/li>
&lt;li>å¦‚æœå¯ç”¨äº†è‡ªæˆ‘ä¿ç•™, åˆ™æ— æ³•å¯¹å®ä¾‹çš„å¿ƒè·³é—´éš”è¿›è¡Œå¾®è°ƒ, å› ä¸ºè‡ªæˆ‘ä¿æŠ¤åœ¨è®¡ç®—æœŸæœ›å¿ƒè·³æ•°æ˜¯æŒ‰ç…§30sé—´éš”æ¥è®¡ç®—çš„&lt;/li>
&lt;li>é™¤éç¯å¢ƒä¸­ç»å¸¸å‡ºç°ç±»ä¼¼çš„ç½‘ç»œåˆ†åŒºæ•…éšœ, å¦åˆ™å»ºè®®å…³é—­&lt;/li>
&lt;/ul>
&lt;section class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1" role="doc-endnote">
&lt;p>è¿™ä¸ªå€¼æ˜¯å›ºå®šçš„, æºäºé»˜è®¤çš„å¿ƒè·³é—´éš”æ˜¯30s, æ•…æ¯åˆ†é’Ÿ2æ¬¡. è§eureka-core-1.7.2çš„&lt;code>AbstractInstanceRegistryL226&lt;/code> &lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/section></description></item></channel></rss>